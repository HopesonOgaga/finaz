/*! For license information please see layout-defer.js.LICENSE.txt */
(()=>{var t={1971:()=>{"use strict";function t(t){let e=t.fromUnit.value;t.fromUnit.value=t.toUnit.value,t.toUnit.value=e;try{t.dispatchFromCode=!0,t.fromUnit.dispatchEvent(new Event("change")),t.toUnit.dispatchEvent(new Event("change"))}finally{t.dispatchFromCode=!1}}function e(t){const e=t.rates.get(t.exchangeDate.value);if(void 0===e)return;return n(e,t.fromUnit.value,t.toUnit.value,!0)}function n(t,e,r,s){const o=`${e}/${r}`,a=t.get(o);if(void 0!==a)switch(a.type){case"direct":return{effectiveRate:a.rate,type:"direct",usedRates:[a]};case"inverse":const o=`${a.to}/${a.from}`,l=t.get(o);return void 0===l?i("inverse rate not found"):{effectiveRate:1/l.rate,type:"inverse",usedRates:[l]};case"cross":if(!1===s)return i("repeated cross currency is not allowed");const c=a.crossCurrency,u=n(t,e,c,!1);if(void 0===u)return i("rate to cross currency not found");const d=n(t,c,r,!1);return void 0===d?i("rate from cross currency not found"):{effectiveRate:u.effectiveRate*d.effectiveRate,type:"cross",usedRates:[...u.usedRates,...d.usedRates]};default:return i("unknown rate type")}}function i(t){return{type:"error",error:t}}async function r(t){if(t.dispatchFromCode)return;!function(t){if(t.headline){let e=t.fromUnit.options[t.fromUnit.selectedIndex].text,n=t.fromUnit.value,i=t.toUnit.options[t.toUnit.selectedIndex].text,r=t.toUnit.value;t.headline.innerHTML="Währungsrechner: "+e+" - "+i+" ("+n+" in "+r+")"}}(t),a(t),function(t){if(!t.onContentChanged)return;const e=s(t);t.onContentChanged(e)}(t);let n=e(t);if(void 0===n)try{const i=await fetch(`/ajax/CurrencyConverter_ExchangerateV2/${t.fromUnit.value}/${t.toUnit.value}/${t.exchangeDate.value}`,{method:"POST"}),r=await i.text();if(r.length>0){!function(t,e){const n=t.exchangeDate.value;let i=t.rates.get(n);void 0===i&&(i=new Map,t.rates.set(n,i));for(const t of e){const e=`${t.from}/${t.to}`;i.set(e,t)}}(t,JSON.parse(r).rates),n=e(t)}}catch{return void(t.toValue.value="Es ist ein Fehler aufgetreten")}if(void 0===n)return void(t.toValue.value="Es wurden keine Daten gefunden");if(""===t.fromValue.value)return void(t.toValue.value="");const i=t.interbankRate?1-parseInt(t.interbankRate.value)/100:1,r=n.effectiveRate*i,l=parseFloat(t.fromValue.value)*r,c=t.toUnit.value,u="1"===t.toUnit.options[t.toUnit.selectedIndex].dataset.nonstandardCode;t.toValue.value=o(l,c,t.locale,u)}function s(t){return{from:{name:t.fromUnit.options[t.fromUnit.selectedIndex].text,iso:t.fromUnit.value,url:t.fromUnit.options[t.fromUnit.selectedIndex].dataset.url},to:{name:t.toUnit.options[t.toUnit.selectedIndex].text,iso:t.toUnit.value,url:t.toUnit.options[t.toUnit.selectedIndex].dataset.url},amount:t.fromValue?parseFloat(t.fromValue.value):null,date:t.exchangeDate.value,interbankRate:t.interbankRate?.value}}function o(t,e,n,i){const r=i?function(t,e,n){const i=new Intl.NumberFormat(n,{currency:"EUR",minimumFractionDigits:4,style:"currency",currencyDisplay:"code"}),r=i.formatToParts(t);for(const t of r)"currency"===t.type&&(t.value=e);return r}(t,e,n):function(t,e,n){const i=new Intl.NumberFormat(n,{currency:e,style:"currency",currencyDisplay:"code"});return i.formatToParts(t)}(t,e,n);return function(t){t.length>=2&&"currency"===t[0].type&&"literal"===t[1].type&&(t=[...t.slice(2),t[1],t[0]]);return t.map((t=>t.value)).join("")}(r)}function a(t){if(document.activeElement!==t.fromValueText){const e=parseFloat(t.fromValue.value),n=t.fromUnit.value,i="1"===t.fromUnit.options[t.fromUnit.selectedIndex].dataset.nonstandardCode,r=t.locale;t.fromValueText.value=o(e,n,r,i)}}function l(t,e){const n=new Intl.NumberFormat(e).formatToParts(1234567.89),i=n.find((t=>"decimal"===t.type))?.value||".",r=n.find((t=>"group"===t.type))?.value||",";return t.replaceAll(r,"").replaceAll(i,".")}function c(){const t=document.getElementsByClassName("markets-currency-converter");for(const e of t)d(e);const e=document.getElementsByClassName("markets-currency-converter-quick-box");for(const t of e)h(t)}function u(t){return`/waehrungsrechner/${t.from.url}_${t.to.url}`}function d(e){let n=null;const i=Array.from(e.getElementsByClassName("markets-currency-converter-headline")).filter((t=>t instanceof HTMLHeadingElement))[0],o="H1"===i.tagName;function a(t){const e={path:u(r=t),searchParams:new URLSearchParams({amount:r.amount,date:r.date,interbankrate:r.interbankRate}),title:`${r.from.name} in ${r.to.name} Währungsrechner | ${r.from.iso} in ${r.to.iso} umrechnen | finanzen.net`,description:`Der aktuelle ${r.from.name}/${r.to.name} Kurs | ${r.from.iso}/${r.to.iso} - Währungsrechner für den Wechselkurs von ${r.from.name} in ${r.to.name}.`,headline:`Währungsrechner: ${r.from.name} ➞  ${r.to.name} (${r.from.iso} in ${r.to.iso})`,breadcrumb:`${r.from.name} - ${r.to.name}`};var r;const s=null!==n&&n.headline!==e.headline;if(o){const t=new URL(window.location);t.pathname=e.path,e.searchParams.forEach(((e,n)=>t.searchParams.set(n,e))),window.history.replaceState(null,null,t),s&&function(t){$("meta[name*='description']").attr("content",t.description),$("meta[property*='og:description']").attr("content",t.description),$("meta[name*='title']").attr("content",t.title),$("meta[property*='og:title']").attr("content",t.title),$("title").html(t.title);const e=$("meta[property*='og:url']"),n=e.attr("content");if(n){const i=new URL(n);i.pathname=t.path,e.attr("content",i.toString())}void 0===$(".breadcrumb .breadcrumb__list li:nth-child(3) a")[0]&&$(".breadcrumb .breadcrumb__list li:nth-child(2)").after('<li class="breadcrumb__item"><span class="breadcrumb__separator"><span class="icon icon--arrow-double-right"></span></span><a class="breadcrumb__text" href="" title=""></a></li>');$(".breadcrumb .breadcrumb__list li:nth-child(3) a").attr("title",t.breadcrumb),$(".breadcrumb .breadcrumb__list li:nth-child(3) a").attr("href",t.path),$(".breadcrumb .breadcrumb__list li:nth-child(3) a").html(t.breadcrumb)}(e)}s&&(i.innerHTML=e.headline,setIVWPixel("SortenRechnr")),n=e}!function(e){const n={...e,dispatchFromCode:!1,rates:new Map};function i(){return r(n)}n.fromUnit.addEventListener("change",i),n.toUnit.addEventListener("change",i),n.exchangeDate.addEventListener("change",i),n.interbankRate?.addEventListener("change",i),n.fromValueText.addEventListener("input",(function(t){n.fromValue.value=l(t.currentTarget.value,e.locale),i()})),n.fromValueText.addEventListener("focus",(function(t){var e=new Intl.NumberFormat(n.locale,{maximumFractionDigits:8,useGrouping:!1});t.currentTarget.value=e.format(parseFloat(n.fromValue.value))})),n.fromValueText.addEventListener("blur",i),n.swap.addEventListener("click",(function(){t(n),i()})),i(),s(n)}({fromUnit:Array.from(e.getElementsByClassName("markets-currency-converter-from-unit")).filter((t=>t instanceof HTMLSelectElement))[0],toUnit:Array.from(e.getElementsByClassName("markets-currency-converter-to-unit")).filter((t=>t instanceof HTMLSelectElement))[0],exchangeDate:e.getElementsByClassName("markets-currency-converter-date")[0],interbankRate:e.getElementsByClassName("markets-currency-converter-inter-bank-rate")[0],fromValue:e.getElementsByClassName("markets-currency-converter-amount-value")[0],fromValueText:e.getElementsByClassName("markets-currency-converter-amount-text")[0],toValue:e.getElementsByClassName("markets-currency-converter-result")[0],swap:Array.from(e.getElementsByClassName("markets-currency-converter-swap")).find((t=>!0)),locale:"de-DE",onContentChanged:function(t){a(t)}})}function h(e){!function(e){const n={...e};function i(){if(n.dispatchFromCode)return;a(n);const t=s(n);n.form.action=n.getSubmitAction(t),n.onContentChanged&&n.onContentChanged(t)}n.fromUnit.addEventListener("change",i),n.toUnit.addEventListener("change",i),n.fromValueText.addEventListener("input",(function(t){n.fromValue.value=l(t.currentTarget.value,e.locale),i()})),n.fromValueText.addEventListener("focus",(function(t){var e=new Intl.NumberFormat(n.locale,{maximumFractionDigits:8,useGrouping:!1});t.currentTarget.value=e.format(parseFloat(n.fromValue.value))})),n.fromValueText.addEventListener("blur",i),n.swap&&n.swap.addEventListener("click",(function(){t(n),i()})),i()}({fromUnit:Array.from(e.getElementsByClassName("markets-currency-converter-from-unit")).filter((t=>t instanceof HTMLSelectElement))[0],toUnit:Array.from(e.getElementsByClassName("markets-currency-converter-to-unit")).filter((t=>t instanceof HTMLSelectElement))[0],fromValue:e.getElementsByClassName("markets-currency-converter-amount-value")[0],fromValueText:e.getElementsByClassName("markets-currency-converter-amount-text")[0],exchangeDate:e.getElementsByClassName("markets-currency-converter-date")[0],swap:e.getElementsByClassName("markets-currency-converter-swap")[0],form:e,locale:"de-DE",getSubmitAction:u})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()},8205:(t,e,n)=>{"use strict";n.r(e),n.d(e,{AdVideoPlayer:()=>h});var i=n(1586),r=n.n(i);function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}var o=function t(e,n){function i(t,i,r){if("undefined"!=typeof document){"number"==typeof(r=s({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in r)r[a]&&(o+="; "+a,!0!==r[a]&&(o+="="+r[a].split(";")[0]));return document.cookie=t+"="+e.write(i,t)+o}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var s=n[r].split("="),o=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(i[a]=e.read(o,a),t===a)break}catch(t){}}return t?i[t]:i}},remove:function(t,e){i(t,"",s({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,s({},this.attributes,e))},withConverter:function(e){return t(s({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class a{static instance;logger;constructor(){return this.logger=r(),this.logger.useDefaults(),this.logger.setLevel(r().DEBUG),this}static get Instance(){return a.instance||(a.instance=new a),a.instance}static log(...t){a.Instance.logger.log(...t)}static info(...t){a.Instance.logger.info(...t)}static warn(...t){a.Instance.logger.warn(...t)}static error(...t){a.Instance.logger.error(...t)}static debug(...t){a.Instance.logger.debug(...t)}}class l{static get(t){return o.get(t)??""}static remove(t){o.remove(t)}static set(t,e,n=356){o.set(t,e,{expires:n})}}var c=()=>!(()=>{if("object"==typeof window.styleGuide&&"boolean"==typeof window.styleGuide.isMobile)return window.styleGuide.isMobile;{let t=window?.innerWidth??0;return Number.isSafeInteger(t)&&t<=991}})();class u{scriptId;key="connatix_player_frequency_capping";constructor(t){this.scriptId=t}playerShownOnDate(t){let e=this.getStoredData();e.dates.push(t),localStorage.setItem(this.key,JSON.stringify(e))}allowPlayer(){return![()=>this.playedTodayMoreThanXTimes(2)].some((t=>t()))}playedTodayMoreThanXTimes(t){let{dates:e}=this.getStoredData(),n=t=>t.toISOString().split("T")[0],i=n(new Date);return e.map(n).filter((t=>t===i)).length>=t}get defaultData(){return{scriptId:this.scriptId,dates:[]}}getStoredData(){let t=localStorage.getItem(this.key);if(!t)return this.defaultData;let e=JSON.parse(t);return e.scriptId!==this.scriptId?this.defaultData:{scriptId:e.scriptId,dates:e.dates.map((t=>new Date(t))).filter((t=>this.isOlderThanOneMonth(t)))}}isOlderThanOneMonth(t){let e=new Date;return e.setMonth(e.getMonth()-1),t>e}}class d{scriptId;playerId;customerId;_settingsFunc;constructor(t,e,n){this.scriptId=t,this.playerId=e,this.customerId=n}set settingsFunc(t){this._settingsFunc=t}async initialize(){try{return this.createCnxVariable(),this.addPlayerRenderPosition(),this.sendConnatixUserTracking(),await this.loadConnatixPlayerScript(),await this.waitForPlayerScriptInitial(),await this.createPlayer()}catch(t){return a.error("Connatix Video Player",t),null}}get connatixPlayerScriptLink(){return`//cd.connatix.com/connatix.player.js?cid=${this.customerId}`}get connatixUserTrackingLink(){return`https://capi.connatix.com/tr/si?token=${this.playerId}&cid=${this.customerId}`}async waitForPlayerScriptInitial(t=0){if(t>100)return Promise.reject(new Error("timeout while waiting for player script initialization"));let{cnx:e}=this;return e?.hasOwnProperty("configEnums")?Promise.resolve():(await((t=1e3)=>new Promise((e=>setTimeout(e,t))))(100),this.waitForPlayerScriptInitial(++t))}get cnx(){return window.cnx??null}createCnxVariable(){this.cnx||(window.cnx={cmd:[]})}loadConnatixPlayerScript(){return document.getElementById("connatix-video-player-iframe")?Promise.resolve():new Promise(((t,e)=>{let n=document.createElement("iframe");n.id="connatix-video-player-iframe",n.style.display="none",n.onload=()=>{let i=n?.contentWindow?.document??null;if(!i)return e(new Error("error while create iframe"));let r=i.createElement("script");r.src=this.connatixPlayerScriptLink,r.type="text/javascript",r.async=!0,r.onload=()=>t(),r.onerror=()=>e(new Error("error while loading script")),i.body.appendChild(r)},document.head.appendChild(n)}))}addPlayerRenderPosition(){if(document.getElementById(this.scriptId))return;let t=document.createElement("script");t.id=this.scriptId,document.body.appendChild(t)}sendConnatixUserTracking(){return new Promise((t=>{(new Image).src=this.connatixUserTrackingLink,t()}))}createPlayer(){let{cnx:t,playerId:e,scriptId:n,_settingsFunc:i}=this;return t?new Promise(((r,s)=>{t.cmd.push((function(){let o=i();t({playerId:e,settings:o}).render(n,((t,e)=>{t?s(new Error("error while rendering player")):r(e)}))}))})):Promise.reject(new Error("cnx not loaded"))}}class h{window;playerApis=[];frequencyCapping;player;scriptId;playerId;customerId;constructor(t,e,n,i,r,s){this.window=t,this.scriptId=e??"e017619e96304445b26cc8c84a356de1",this.playerId=n??"3eb6efed-dcaf-4b9c-a263-bd1ca7d9a1f3",this.customerId=i??"c524fcf9-3d84-4c29-ac27-c62197a8cf6c",this.frequencyCapping=r??new u(this.scriptId),this.player=s??new d(this.scriptId,this.playerId,this.customerId)}get version(){return"0.0.5"}get playerIsLoaded(){return this.playerApis.length>0}async initialize(){this.playerShouldBeLoaded()&&await this.load()}async load(){this.player.settingsFunc=()=>this.playerSettings();let t=await this.player.initialize();t?(this.playerApis?.push(t),this.frequencyCapping.playerShownOnDate(new Date)):a.error("Connatix Video Player: error in playerApi")}get cnx(){return this.window.cnx??null}playerSettings(){if(!this.cnx)return{};let t=this.cnx;return{playbackMode:t.configEnums.PlaybackModeEnum.AutoPlay,customization:{closeButtonMode:t.configEnums.CloseButtonModeEnum.On}}}playerShouldBeLoaded(){return[()=>this.consentIsSet(),()=>c(),()=>this.userWasAlreadyOnSite(),()=>this.frequencyCapping.allowPlayer(),()=>this.showPlayerOnPage()].every((t=>t()))}showPlayerOnPage(){let t=()=>this.window.__finnet?.ads?.setup?.pageName??"";return![()=>t().startsWith("home_"),()=>t().startsWith("microsite_")].some((t=>t()))}consentIsSet(){return"1"===l.get("connatix-player_consent")}userWasAlreadyOnSite(){return"1"===localStorage.getItem("connatix_player_user_marked")||(localStorage.setItem("connatix_player_user_marked","1"),!1)}}},1338:t=>{var e;self,e=()=>(()=>{var t={2353:()=>{"CSS"in window||(window.CSS={}),"supports"in window.CSS||(window.CSS._cacheSupports={},window.CSS.supports=function(t,e){var n=[t,e].toString();return n in window.CSS._cacheSupports?window.CSS._cacheSupports[n]:window.CSS._cacheSupports[n]=function(t,e){var n=document.createElement("div").style;if(void 0===e){function i(t,e){var n=t.split(e);if(n.length>1)return n.map((function(t,e,n){return e%2==0?t+n[e+1]:""})).filter(Boolean)}var r=i(t,/([)])\s*or\s*([(])/gi);if(r)return r.some((function(t){return window.CSS.supports(t)}));var s=i(t,/([)])\s*and\s*([(])/gi);if(s)return s.every((function(t){return window.CSS.supports(t)}));n.cssText=t.replace("(","").replace(/[)]$/,"")}else n.cssText=t+":"+e;return!!n.length}(t,e)})},3858:()=>{!function(){function t(t,i){var r=t[i];t[i]=function(t){var i,s=!1,o=!1;return t.match(n)?(t=t.replace(n,""),this.parentNode||(e.appendChild(this),o=!0),parentNode=this.parentNode,this.id||(this.id="rootedQuerySelector_id_"+(new Date).getTime(),s=!0),i=r.call(parentNode,"#"+this.id+" "+t),s&&(this.id=""),o&&e.removeChild(this),i):r.call(this,t)}}if(!HTMLElement.prototype.querySelectorAll)throw new Error("rootedQuerySelectorAll: This polyfill can only be used with browsers that support querySelectorAll");var e=document.createElement("div");try{e.querySelectorAll(":scope *")}catch(e){var n=/^\s*:scope/gi;t(HTMLElement.prototype,"querySelector"),t(HTMLElement.prototype,"querySelectorAll")}}()},8660:(t,e,n)=>{var i;!function(t){!function(){var e="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=r(t);function r(t,e){return function(n,i){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:i}),e&&e(n,i)}}void 0===e.Reflect?e.Reflect=t:i=r(e.Reflect,i),function(t){var e=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,l={create:s?function(){return N(Object.create(null))}:o?function(){return N({__proto__:null})}:function(){return N({})},has:a?function(t,n){return e.call(t,n)}:function(t,e){return e in t},get:a?function(t,n){return e.call(t,n)?t[n]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[r]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var i=this._keys.length,r=n+1;r<i;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,i)},e.prototype.values=function(){return new n(this._keys,this._values,s)},e.prototype.entries=function(){return new n(this._keys,this._values,o)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[r]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function i(t,e){return t}function s(t,e){return e}function o(t,e){return[t,e]}}():Map,h=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[r]=function(){return this.keys()},t}():Set,g=new(u||"function"!=typeof WeakMap?function(){var t=l.create(),n=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=r(t,!1);return void 0!==e&&l.has(e,this._key)},t.prototype.get=function(t){var e=r(t,!1);return void 0!==e?l.get(e,this._key):void 0},t.prototype.set=function(t,e){return r(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=r(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var e;do{e="@@WeakMap@@"+o()}while(l.has(t,e));return t[e]=!0,e}function r(t,i){if(!e.call(t,n)){if(!i)return;Object.defineProperty(t,n,{value:l.create()})}return t[n]}function s(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function o(){var t=function(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):s(new Uint8Array(t),t):s(new Array(t),t)}(16);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",n=0;n<16;++n){var i=t[n];4!==n&&6!==n&&8!==n||(e+="-"),i<16&&(e+="0"),e+=i.toString(16).toLowerCase()}return e}}():WeakMap);function p(t,e,n){var i=g.get(t);if(_(i)){if(!n)return;i=new d,g.set(t,i)}var r=i.get(e);if(_(r)){if(!n)return;r=new d,i.set(e,r)}return r}function f(t,e,n){if(m(t,e,n))return!0;var i=D(e);return!I(i)&&f(t,i,n)}function m(t,e,n){var i=p(e,n,!1);return!_(i)&&function(t){return!!t}(i.has(t))}function v(t,e,n){if(m(t,e,n))return y(t,e,n);var i=D(e);return I(i)?void 0:v(t,i,n)}function y(t,e,n){var i=p(e,n,!1);if(!_(i))return i.get(t)}function b(t,e,n,i){p(n,i,!0).set(t,e)}function w(t,e){var n=A(t,e),i=D(t);if(null===i)return n;var r=w(i,e);if(r.length<=0)return n;if(n.length<=0)return r;for(var s=new h,o=[],a=0,l=n;a<l.length;a++){var c=l[a];s.has(c)||(s.add(c),o.push(c))}for(var u=0,d=r;u<d.length;u++)c=d[u],s.has(c)||(s.add(c),o.push(c));return o}function A(t,e){var n=[],i=p(t,e,!1);if(_(i))return n;for(var r=M(i.keys()),s=0;;){var o=H(r);if(!o)return n.length=s,n;var a=R(o);try{n[s]=a}catch(t){try{O(r)}finally{throw t}}s++}}function S(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function _(t){return void 0===t}function I(t){return null===t}function T(t){return"object"==typeof t?null!==t:"function"==typeof t}function C(t,e){switch(S(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=P(t,i);if(void 0!==r){var s=r.call(t,n);if(T(s))throw new TypeError;return s}return function(t,e){if("string"===e){var n=t.toString;if(x(n)&&!T(r=n.call(t)))return r;if(x(i=t.valueOf)&&!T(r=i.call(t)))return r}else{var i;if(x(i=t.valueOf)&&!T(r=i.call(t)))return r;var r,s=t.toString;if(x(s)&&!T(r=s.call(t)))return r}throw new TypeError}(t,"default"===n?"number":n)}function E(t){var e=C(t,3);return function(t){return"symbol"==typeof t}(e)?e:function(t){return""+t}(e)}function L(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function x(t){return"function"==typeof t}function k(t){return"function"==typeof t}function P(t,e){var n=t[e];if(null!=n){if(!x(n))throw new TypeError;return n}}function M(t){var e=P(t,r);if(!x(e))throw new TypeError;var n=e.call(t);if(!T(n))throw new TypeError;return n}function R(t){return t.value}function H(t){var e=t.next();return!e.done&&e}function O(t){var e=t.return;e&&e.call(t)}function D(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var n=t.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return e;var r=i.constructor;return"function"!=typeof r||r===t?e:r}function N(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,n,i){if(_(n)){if(!L(t))throw new TypeError;if(!k(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var i=(0,t[n])(e);if(!_(i)&&!I(i)){if(!k(i))throw new TypeError;e=i}}return e}(t,e)}if(!L(t))throw new TypeError;if(!T(e))throw new TypeError;if(!T(i)&&!_(i)&&!I(i))throw new TypeError;return I(i)&&(i=void 0),function(t,e,n,i){for(var r=t.length-1;r>=0;--r){var s=(0,t[r])(e,n,i);if(!_(s)&&!I(s)){if(!T(s))throw new TypeError;i=s}}return i}(t,e,n=E(n),i)})),t("metadata",(function(t,e){return function(n,i){if(!T(n))throw new TypeError;if(!_(i)&&!function(t){switch(S(t)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;b(t,e,n,i)}})),t("defineMetadata",(function(t,e,n,i){if(!T(n))throw new TypeError;return _(i)||(i=E(i)),b(t,e,n,i)})),t("hasMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=E(n)),f(t,e,n)})),t("hasOwnMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=E(n)),m(t,e,n)})),t("getMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=E(n)),v(t,e,n)})),t("getOwnMetadata",(function(t,e,n){if(!T(e))throw new TypeError;return _(n)||(n=E(n)),y(t,e,n)})),t("getMetadataKeys",(function(t,e){if(!T(t))throw new TypeError;return _(e)||(e=E(e)),w(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!T(t))throw new TypeError;return _(e)||(e=E(e)),A(t,e)})),t("deleteMetadata",(function(t,e,n){if(!T(e))throw new TypeError;_(n)||(n=E(n));var i=p(e,n,!1);if(_(i))return!1;if(!i.delete(t))return!1;if(i.size>0)return!0;var r=g.get(e);return r.delete(n),r.size>0||g.delete(e),!0}))}(i)}()}(i||(i={}))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";n.r(i),n.d(i,{Observer:()=>t,StyleGuide:()=>Js,Subject:()=>e});class t{update(...t){}}class e{observers;constructor(){this.observers=[]}addObserver(e){const n=e instanceof t,i=e.update instanceof Function;if(!n&&!i)throw new Error("Given parameter is not an observer");this.observers.push(e)}removeObserver(t){const e=this.observers.findIndex((e=>t===e));-1!==e&&(this.observers=this.observers.splice(e,1))}notify(...t){this.observers.length>0&&this.observers.forEach((e=>e.update(...t)))}}var r,s,o;n(3858),n(2353),"scrollTopMax"in(r=Element.prototype)||Object.defineProperties(r,{scrollTopMax:{get:function(){return this.scrollHeight-this.clientHeight}},scrollLeftMax:{get:function(){return this.scrollWidth-this.clientWidth}}}),function(t){t[t.XS=0]="XS",t[t.SM=1]="SM",t[t.MD=2]="MD",t[t.LG=3]="LG",t[t.XL=4]="XL"}(s||(s={})),function(t){t[t.default=0]="default",t[t.finanzenCh=1]="finanzenCh",t[t.finanzenNet=2]="finanzenNet",t[t.marketsInsider=3]="marketsInsider"}(o||(o={}));const a={[o.default]:"default",[o.finanzenCh]:"finanzen-ch",[o.finanzenNet]:"finanzen-net",[o.marketsInsider]:"markets-insider"};class l extends e{static instance;themeNode;observer;lastTheme;constructor(){return l.instance?l.instance:(super(),l.instance=this,this.themeNode=document.documentElement,this.observer=null,this.lastTheme=this.currentTheme,this.startListener(),this)}getIdentifier(t){return a[t]}getTheme(t){return e=t,Object.entries(a).filter((t=>t[1]===e)).map((t=>parseInt(t[0])))[0]??this.defaultTheme;var e}get defaultTheme(){return o.default}get currentTheme(){const t=this.themeNode.getAttribute("data-sg-theme")??"";return this.getTheme(t)}set currentTheme(t){const e=this.getIdentifier(t);this.themeNode.setAttribute("data-sg-theme",e)}startListener(){this.observer||(this.observer=new MutationObserver((t=>{t.forEach((t=>{"attributes"==t.type&&this.currentTheme!==this.lastTheme&&(this.notify(this.currentTheme,this.lastTheme),this.lastTheme=this.currentTheme)}))})),this.observer.observe(this.themeNode,{attributes:!0}))}}class c{name;min;max;isMobile;static get clientWidth(){return Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)}static compare(t,e){const n=t.min-e.min;return n<0?-1:n>0?1:0}constructor(t,e=0,n=Number.MAX_VALUE,i=!1){this.name=t,this.min=e,this.max=n,this.isMobile=i}equals(t){return this.min===t.min&&this.max===t.max}isInRange(t){return this.min<=t&&t<=this.max}isCurrentlyInRange(){return this.isInRange(c.clientWidth)}}class u{theme;breakpointRanges;constructor(t,...e){this.theme=t,this.breakpointRanges=e}get currentBreakpointRange(){return this.breakpointRanges.filter((t=>t.isCurrentlyInRange()))[0]??null}}n(8660);var d="Request",h="Singleton",g="Transient",p="ConstantValue",f="Constructor",m="DynamicValue",v="Factory",y="Function",b="Instance",w="Provider",A="ConstructorArgument",S="Variable",_=0;function I(){return _++}var T=function(){function t(t,e){this.id=I(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type="Invalid",this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===h&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}(),C="Metadata key was used more than once in a parameter:",E="NULL argument",L="Key Not Found",x="Missing required @injectable annotation in:",k="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",P=function(t,e){return"onDeactivation() error in class "+t+": "+e},M="named",R="name",H="unmanaged",O="optional",D="inject",N="multi_inject",B="inversify:tagged",z="inversify:tagged_props",V="inversify:paramtypes",F="post_construct",j="pre_destroy",$=[D,N,R,H,M,O],q=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(V,t),userGeneratedMetadata:Reflect.getMetadata(B,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(z,t)||[]},t}();function U(t){return t instanceof RangeError||"Maximum call stack size exceeded"===t.message}function W(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function G(t,e,n){var i="",r=n(t,e);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach((function(t){var e="Object";null!==t.implementationType&&(e=Z(t.implementationType)),i=i+"\n "+e,t.constraint.metaData&&(i=i+" - "+t.constraint.metaData)}))),i}function K(t,e){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===e||K(t.parentRequest,e))}function X(t){t.childRequests.forEach((function(t){if(K(t,t.serviceIdentifier)){var e=function(t){var e=function t(e,n){void 0===n&&(n=[]);var i=W(e.serviceIdentifier);return n.push(i),null!==e.parentRequest?t(e.parentRequest,n):n}(t);return e.reverse().join(" --\x3e ")}(t);throw new Error("Circular dependency found: "+e)}X(t)}))}function Z(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}var J=function(){function t(t){this.id=I(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}(),Y=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===M?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}(),Q=function(t,e){this.parentContext=t,this.rootRequest=e},tt=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}(),et=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}(),nt=function(){function t(t,e,n,i){this.id=I(),this.type=t,this.serviceIdentifier=n;var r="symbol"==typeof e?e.toString().slice(7,-1):e;this.name=new et(r||""),this.identifier=e,this.metadata=new Array;var s=null;"string"==typeof i?s=new Y(M,i):i instanceof Y&&(s=i),null!==s&&this.metadata.push(s)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++)if(n[e].key===t)return!0;return!1},t.prototype.isArray=function(){return this.hasTag(N)},t.prototype.matchesArray=function(t){return this.matchesTag(N)(t)},t.prototype.isNamed=function(){return this.hasTag(M)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return $.every((function(e){return t.key!==e}))}))},t.prototype.isOptional=function(){return this.matchesTag(O)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===M}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return $.every((function(e){return t.key!==e}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(M)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var i=0,r=e.metadata;i<r.length;i++){var s=r[i];if(s.key===t&&s.value===n)return!0}return!1}},t}(),it=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};function rt(t,e,n,i){var r=t.getConstructorMetadata(n),s=r.compilerGeneratedMetadata;if(void 0===s)throw new Error(x+" "+e+".");var o=r.userGeneratedMetadata,a=Object.keys(o),l=0===n.length&&a.length>0,c=a.length>n.length,u=function(t,e,n,i,r){for(var s=[],o=0;o<r;o++){var a=st(o,t,e,n,i);null!==a&&s.push(a)}return s}(i,e,s,o,l||c?a.length:n.length),d=at(t,n,e);return it(it([],u,!0),d,!0)}function st(t,e,n,i,r){var s=r[t.toString()]||[],o=ct(s),a=!0!==o.unmanaged,l=i[t];if((l=o.inject||o.multiInject||l)instanceof tt&&(l=l.unwrap()),a){if(!e&&(l===Object||l===Function||void 0===l))throw new Error("Missing required @inject or @multiInject annotation in: argument "+t+" in class "+n+".");var c=new nt(A,o.targetName,l);return c.metadata=s,c}return null}function ot(t,e,n,i){var r=t||e;if(void 0===r){var s=x+" for property "+String(n)+" in class "+i+".";throw new Error(s)}return r}function at(t,e,n){for(var i=t.getPropertiesMetadata(e),r=[],s=Object.getOwnPropertySymbols(i),o=0,a=Object.keys(i).concat(s);o<a.length;o++){var l=a[o],c=i[l],u=ct(c),d=u.targetName||l,h=ot(u.inject,u.multiInject,l,n),g=new nt("ClassProperty",d,h);g.metadata=c,r.push(g)}var p=Object.getPrototypeOf(e.prototype).constructor;if(p!==Object){var f=at(t,p,n);r=it(it([],r,!0),f,!0)}return r}function lt(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var i=rt(t,Z(n),n,!0),r=i.map((function(t){return t.metadata.filter((function(t){return t.key===H}))})),s=[].concat.apply([],r).length,o=i.length-s;return o>0?o:lt(t,n)}return 0}function ct(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[D],multiInject:e[N],targetName:e[R],unmanaged:e[H]}}var ut=function(){function t(t,e,n,i,r){this.id=I(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=r,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,i){var r=new t(e,this.parentContext,this,n,i);return this.childRequests.push(r),r},t}();function dt(t){return t._bindingDictionary}function ht(t,e,n,i,r){var s,o=pt(n.container,r.serviceIdentifier);return 0===o.length&&n.container.options.autoBindInjectable&&"function"==typeof r.serviceIdentifier&&t.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(r.serviceIdentifier).toSelf(),o=pt(n.container,r.serviceIdentifier)),s=e?o:o.filter((function(t){var e=new ut(t.serviceIdentifier,n,i,t,r);return t.constraint(e)})),function(t,e,n,i){switch(e.length){case 0:if(n.isOptional())return e;var r=W(t),s="No matching bindings found for serviceIdentifier:";throw s+=function(t,e){if(e.isTagged()||e.isNamed()){var n="",i=e.getNamedTag(),r=e.getCustomTags();return null!==i&&(n+=i.toString()+"\n"),null!==r&&r.forEach((function(t){n+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+n}return" "+t}(r,n),s+=G(i,r,pt),new Error(s);case 1:return e;default:if(n.isArray())return e;throw s="Ambiguous match found for serviceIdentifier: "+(r=W(t)),s+=G(i,r,pt),new Error(s)}}(r.serviceIdentifier,s,r,n.container),s}function gt(t,e,n,i,r,s){var o,a;if(null===r){o=ht(t,e,i,null,s),a=new ut(n,i,null,o,s);var l=new Q(i,a);i.addPlan(l)}else o=ht(t,e,i,r,s),a=r.addChildRequest(s.serviceIdentifier,o,s);o.forEach((function(e){var n=null;if(s.isArray())n=a.addChildRequest(e.serviceIdentifier,e,s);else{if(e.cache)return;n=a}if(e.type===b&&null!==e.implementationType){var r=function(t,e){return rt(t,Z(e),e,!1)}(t,e.implementationType);if(!i.container.options.skipBaseClassChecks){var o=lt(t,e.implementationType);if(r.length<o){var l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."}(Z(e.implementationType));throw new Error(l)}}r.forEach((function(e){gt(t,!1,e.serviceIdentifier,i,n,e)}))}}))}function pt(t,e){var n=[],i=dt(t);return i.hasKey(e)?n=i.get(e):null!==t.parent&&(n=pt(t.parent,e)),n}function ft(t){return("object"==typeof t&&null!==t||"function"==typeof t)&&"function"==typeof t.then}function mt(t){return!!ft(t)||Array.isArray(t)&&t.some(ft)}var vt,yt=function(t,e){return function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function(){var n,i;return function(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e];case 1:return n=r.sent(),t.cache=n,[3,3];case 2:throw i=r.sent(),t.cache=null,t.activated=!1,i;case 3:return[2]}}))}))};!function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"}(vt||(vt={}));var bt=function(){return bt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},bt.apply(this,arguments)},wt=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},At=function(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function St(t){var e,n=new((e=t.constr).bind.apply(e,function(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach((function(e,i){var r=e.target.identifier,s=t.propertyInjections[i];n[r]=s})),n}function _t(t){return wt(this,void 0,void 0,(function(){var e,n,i,r;return At(this,(function(s){for(e=[],n=0,i=t;n<i.length;n++)r=i[n],Array.isArray(r)?e.push(Promise.all(r)):e.push(r);return[2,Promise.all(e)]}))}))}function It(t,e){var n=function(t,e){var n,i;if(Reflect.hasMetadata(F,t)){var r=Reflect.getMetadata(F,t);try{return null===(i=(n=e)[r.value])||void 0===i?void 0:i.call(n)}catch(e){throw new Error("@postConstruct error in class "+t.name+": "+e.message)}}}(t,e);return ft(n)?n.then((function(){return e})):e}var Tt=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,i=e.childRequests,r=e.target&&e.target.isArray(),s=!(e.parentRequest&&e.parentRequest.target&&e.target&&e.parentRequest.target.matchesArray(e.target.serviceIdentifier));if(r&&s)return i.map((function(e){return Tt(t)(e)}));if(!e.target.isOptional()||0!==n.length){var o=n[0];return Lt(t,e,o)}}},Ct=function(t,e,n){var i,r=e.childRequests;switch(function(t){var e=null;switch(t.type){case p:case y:e=t.cache;break;case f:case b:e=t.implementationType;break;case m:e=t.dynamicValue;break;case w:e=t.provider;break;case v:e=t.factory}if(null===e){var n=W(t.serviceIdentifier);throw new Error("Invalid binding type: "+n)}}(n),n.type){case p:case y:i=n.cache;break;case f:i=n.implementationType;break;case b:i=function(t,e,n,i){!function(t,e){t.scope!==h&&function(t,e){var n="Class cannot be instantiated in "+(t.scope===d?"request":"transient")+" scope.";if("function"==typeof t.onDeactivation)throw new Error(P(e.name,n));if(Reflect.hasMetadata(j,e))throw new Error("@preDestroy error in class "+e.name+": "+n)}(t,e)}(t,e);var r=function(t,e,n){var i;if(e.length>0){var r=function(t,e){return t.reduce((function(t,n){var i=e(n);return n.target.type===A?t.constructorInjections.push(i):(t.propertyRequests.push(n),t.propertyInjections.push(i)),t.isAsync||(t.isAsync=mt(i)),t}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(e,n),s=bt(bt({},r),{constr:t});i=r.isAsync?function(t){return wt(this,void 0,void 0,(function(){var e,n;return At(this,(function(i){switch(i.label){case 0:return[4,_t(t.constructorInjections)];case 1:return e=i.sent(),[4,_t(t.propertyInjections)];case 2:return n=i.sent(),[2,St(bt(bt({},t),{constructorInjections:e,propertyInjections:n}))]}}))}))}(s):St(s)}else i=new t;return i}(e,n,i);return ft(r)?r.then((function(t){return It(e,t)})):It(e,r)}(n,n.implementationType,r,Tt(t));break;default:i=function(t,e){var n=function(t){switch(t.type){case v:return{factory:t.factory,factoryType:vt.Factory};case w:return{factory:t.provider,factoryType:vt.Provider};case m:return{factory:t.dynamicValue,factoryType:vt.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}}(t);return function(t,e){try{return t()}catch(t){throw U(t)&&(t=e()),t}}((function(){return n.factory.bind(t)(e)}),(function(){return new Error("It looks like there is a circular dependency in one of the '"+n.factoryType+"' bindings. Please investigate bindings withservice identifier '"+e.currentRequest.serviceIdentifier.toString()+"'.")}))}(n,e.parentContext)}return i},Et=function(t,e,n){var i=function(t,e){return e.scope===h&&e.activated?e.cache:e.scope===d&&t.has(e.id)?t.get(e.id):null}(t,e);return null!==i||function(t,e,n){e.scope===h&&function(t,e){t.cache=e,t.activated=!0,ft(e)&&yt(t,e)}(e,n),e.scope===d&&function(t,e,n){t.has(e.id)||t.set(e.id,n)}(t,e,n)}(t,e,i=n()),i},Lt=function(t,e,n){return Et(t,n,(function(){var i=Ct(t,e,n);return ft(i)?i.then((function(t){return xt(e,n,t)})):xt(e,n,i)}))};function xt(t,e,n){var i,r=kt(t.parentContext,e,n),s=Ht(t.parentContext.container),o=s.next();do{i=o.value;var a=t.parentContext,l=t.serviceIdentifier,c=Rt(i,l);r=ft(r)?Mt(c,a,r):Pt(c,a,r),o=s.next()}while(!0!==o.done&&!dt(i).hasKey(t.serviceIdentifier));return r}var kt=function(t,e,n){return"function"==typeof e.onActivation?e.onActivation(t,n):n},Pt=function(t,e,n){for(var i=t.next();!i.done;){if(ft(n=i.value(e,n)))return Mt(t,e,n);i=t.next()}return n},Mt=function(t,e,n){return function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function(){var i,r;return function(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(s){switch(s.label){case 0:return[4,n];case 1:i=s.sent(),r=t.next(),s.label=2;case 2:return r.done?[3,4]:[4,r.value(e,i)];case 3:return i=s.sent(),r=t.next(),[3,2];case 4:return[2,i]}}))}))},Rt=function(t,e){var n=t._activations;return n.hasKey(e)?n.get(e).values():[].values()},Ht=function(t){for(var e=[t],n=t.parent;null!==n;)e.push(n),n=n.parent;return{next:function(){var t=e.pop();return void 0!==t?{done:!1,value:t}:{done:!0,value:void 0}}}},Ot=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||Ot(n,e))},Dt=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new Y(t,e),n}},Nt=Dt(M),Bt=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t)return n.serviceIdentifier===t;var i=e.bindings[0].implementationType;return t===i}return!1}},zt=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new Vt(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=Nt(t),new Vt(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t&&null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new Vt(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=Dt(t)(e),new Vt(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return null!==e&&Bt(t)(e.parentRequest)},new Vt(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return null!==e&&Nt(t)(e.parentRequest)},new Vt(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return null!==n&&Dt(t)(e)(n.parentRequest)},new Vt(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return null!==e&&Ot(e,Bt(t))},new Vt(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return null!==e&&!Ot(e,Bt(t))},new Vt(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return null!==e&&Ot(e,Nt(t))},new Vt(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return null!==e&&!Ot(e,Nt(t))},new Vt(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return null!==n&&Ot(n,Dt(t)(e))},new Vt(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return null!==n&&!Ot(n,Dt(t)(e))},new Vt(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return null!==e&&Ot(e,t)},new Vt(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return null!==e&&!Ot(e,t)},new Vt(this._binding)},t}(),Vt=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new zt(this._binding)},t.prototype.onDeactivation=function(t){return this._binding.onDeactivation=t,new zt(this._binding)},t}(),Ft=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new zt(this._binding),this._bindingOnSyntax=new Vt(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},t}(),jt=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=d,new Ft(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=h,new Ft(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=g,new Ft(this._binding)},t}(),$t=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new zt(this._binding),this._bindingOnSyntax=new Vt(this._binding),this._bindingInSyntax=new jt(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},t}(),qt=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=b,this._binding.implementationType=t,new $t(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=p,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=h,new Ft(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=m,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new $t(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=f,this._binding.implementationType=t,this._binding.scope=h,new Ft(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=v,this._binding.factory=t,this._binding.scope=h,new Ft(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error("Value provided to function binding must be a function!");var e=this.toConstantValue(t);return this._binding.type=y,this._binding.scope=h,e},t.prototype.toAutoFactory=function(t){return this._binding.type=v,this._binding.factory=function(e){return function(){return e.container.get(t)}},this._binding.scope=h,new Ft(this._binding)},t.prototype.toAutoNamedFactory=function(t){return this._binding.type=v,this._binding.factory=function(e){return function(n){return e.container.getNamed(t,n)}},new Ft(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=w,this._binding.provider=t,this._binding.scope=h,new Ft(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}(),Ut=function(){function t(){}return t.of=function(e,n,i,r,s){var o=new t;return o.bindings=e,o.middleware=n,o.deactivations=r,o.activations=i,o.moduleActivationStore=s,o},t}(),Wt=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null==t)throw new Error(E);if(null==e)throw new Error(E);var n=this._map.get(t);void 0!==n?n.push(e):this._map.set(t,[e])},t.prototype.get=function(t){if(null==t)throw new Error(E);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(L)},t.prototype.remove=function(t){if(null==t)throw new Error(E);if(!this._map.delete(t))throw new Error(L)},t.prototype.removeIntersection=function(t){var e=this;this.traverse((function(n,i){var r=t.hasKey(n)?t.get(n):void 0;if(void 0!==r){var s=i.filter((function(t){return!r.some((function(e){return t===e}))}));e._setValue(n,s)}}))},t.prototype.removeByCondition=function(t){var e=this,n=[];return this._map.forEach((function(i,r){for(var s=[],o=0,a=i;o<a.length;o++){var l=a[o];t(l)?n.push(l):s.push(l)}e._setValue(r,s)})),n},t.prototype.hasKey=function(t){if(null==t)throw new Error(E);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,"object"==typeof(i=t)&&null!==i&&"clone"in i&&"function"==typeof i.clone?t.clone():t);var i}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t.prototype._setValue=function(t,e){e.length>0?this._map.set(t,e):this._map.delete(t)},t}(),Gt=function(){function t(){this._map=new Map}return t.prototype.remove=function(t){if(this._map.has(t)){var e=this._map.get(t);return this._map.delete(t),e}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(t,e,n){this._getModuleActivationHandlers(t).onDeactivations.add(e,n)},t.prototype.addActivation=function(t,e,n){this._getModuleActivationHandlers(t).onActivations.add(e,n)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){e._map.set(n,{onActivations:t.onActivations.clone(),onDeactivations:t.onDeactivations.clone()})})),e},t.prototype._getModuleActivationHandlers=function(t){var e=this._map.get(t);return void 0===e&&(e=this._getEmptyHandlersStore(),this._map.set(t,e)),e},t.prototype._getEmptyHandlersStore=function(){return{onActivations:new Wt,onDeactivations:new Wt}},t}(),Kt=function(){return Kt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Kt.apply(this,arguments)},Xt=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},Zt=function(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Jt=function(){function t(t){var e=t||{};if("object"!=typeof e)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===e.defaultScope)e.defaultScope=g;else if(e.defaultScope!==h&&e.defaultScope!==g&&e.defaultScope!==d)throw new Error("Invalid Container option. Default scope must be a string ('singleton' or 'transient').");if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=I(),this._bindingDictionary=new Wt,this._snapshots=[],this._middleware=null,this._activations=new Wt,this._deactivations=new Wt,this.parent=null,this._metadataReader=new q,this._moduleActivationStore=new Gt}return t.merge=function(e,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=new t,o=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,s=e.length;r<s;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}([e,n],i,!0).map((function(t){return dt(t)})),a=dt(s);return o.forEach((function(t){var e;e=a,t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))})),s},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),i=0,r=t;i<r.length;i++){var s=r[i],o=n(s.id);s.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xt(this,void 0,void 0,(function(){var e,n,i,r,s;return Zt(this,(function(o){switch(o.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,i=t,o.label=1;case 1:return n<i.length?(r=i[n],s=e(r.id),[4,r.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){var n=t._removeModuleBindings(e.id);t._deactivateSingletons(n),t._removeModuleHandlers(e.id)}))},t.prototype.unloadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xt(this,void 0,void 0,(function(){var e,n,i,r;return Zt(this,(function(s){switch(s.label){case 0:e=0,n=t,s.label=1;case 1:return e<n.length?(i=n[e],r=this._removeModuleBindings(i.id),[4,this._deactivateSingletonsAsync(r)]):[3,4];case 2:s.sent(),this._removeModuleHandlers(i.id),s.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},t.prototype.bind=function(t){var e=this.options.defaultScope||g,n=new T(t,e);return this._bindingDictionary.add(t,n),new qt(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.rebindAsync=function(t){return Xt(this,void 0,void 0,(function(){return Zt(this,(function(e){switch(e.label){case 0:return[4,this.unbindAsync(t)];case 1:return e.sent(),[2,this.bind(t)]}}))}))},t.prototype.unbind=function(t){if(this._bindingDictionary.hasKey(t)){var e=this._bindingDictionary.get(t);this._deactivateSingletons(e)}this._removeServiceFromDictionary(t)},t.prototype.unbindAsync=function(t){return Xt(this,void 0,void 0,(function(){var e;return Zt(this,(function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(t)?(e=this._bindingDictionary.get(t),[4,this._deactivateSingletonsAsync(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(t),[2]}}))}))},t.prototype.unbindAll=function(){var t=this;this._bindingDictionary.traverse((function(e,n){t._deactivateSingletons(n)})),this._bindingDictionary=new Wt},t.prototype.unbindAllAsync=function(){return Xt(this,void 0,void 0,(function(){var t,e=this;return Zt(this,(function(n){switch(n.label){case 0:return t=[],this._bindingDictionary.traverse((function(n,i){t.push(e._deactivateSingletonsAsync(i))})),[4,Promise.all(t)];case 1:return n.sent(),this._bindingDictionary=new Wt,[2]}}))}))},t.prototype.onActivation=function(t,e){this._activations.add(t,e)},t.prototype.onDeactivation=function(t,e){this._deactivations.add(t,e)},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isCurrentBound=function(t){return this._bindingDictionary.hasKey(t)},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,M,e)},t.prototype.isBoundTagged=function(t,e,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var r=this._bindingDictionary.get(t),s=function(t,e,n,i){var r=new nt(S,"",e,new Y(n,i)),s=new J(t);return new ut(e,s,null,[],r)}(this,t,e,n);i=r.some((function(t){return t.constraint(s)}))}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,e,n)),i},t.prototype.snapshot=function(){this._snapshots.push(Ut.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error("No snapshot available to restore.");this._bindingDictionary=t.bindings,this._activations=t.activations,this._deactivations=t.deactivations,this._middleware=t.middleware,this._moduleActivationStore=t.moduleActivationStore},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){var e=this._getNotAllArgs(t,!1);return this._getButThrowIfAsync(e)},t.prototype.getAsync=function(t){return Xt(this,void 0,void 0,(function(){var e;return Zt(this,(function(n){return e=this._getNotAllArgs(t,!1),[2,this._get(e)]}))}))},t.prototype.getTagged=function(t,e,n){var i=this._getNotAllArgs(t,!1,e,n);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(t,e,n){return Xt(this,void 0,void 0,(function(){var i;return Zt(this,(function(r){return i=this._getNotAllArgs(t,!1,e,n),[2,this._get(i)]}))}))},t.prototype.getNamed=function(t,e){return this.getTagged(t,M,e)},t.prototype.getNamedAsync=function(t,e){return this.getTaggedAsync(t,M,e)},t.prototype.getAll=function(t){var e=this._getAllArgs(t);return this._getButThrowIfAsync(e)},t.prototype.getAllAsync=function(t){var e=this._getAllArgs(t);return this._getAll(e)},t.prototype.getAllTagged=function(t,e,n){var i=this._getNotAllArgs(t,!0,e,n);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(t,e,n){var i=this._getNotAllArgs(t,!0,e,n);return this._getAll(i)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,M,e)},t.prototype.getAllNamedAsync=function(t,e){return this.getAllTaggedAsync(t,M,e)},t.prototype.resolve=function(t){var e=this.isBound(t);e||this.bind(t).toSelf();var n=this.get(t);return e||this.unbind(t),n},t.prototype._preDestroy=function(t,e){if(Reflect.hasMetadata(j,t))return e[Reflect.getMetadata(j,t).value]()},t.prototype._removeModuleHandlers=function(t){var e=this._moduleActivationStore.remove(t);this._activations.removeIntersection(e.onActivations),this._deactivations.removeIntersection(e.onDeactivations)},t.prototype._removeModuleBindings=function(t){return this._bindingDictionary.removeByCondition((function(e){return e.moduleId===t}))},t.prototype._deactivate=function(t,e){var n=this,i=Object.getPrototypeOf(e).constructor;try{if(this._deactivations.hasKey(t.serviceIdentifier)){var r=this._deactivateContainer(e,this._deactivations.get(t.serviceIdentifier).values());if(ft(r))return this._handleDeactivationError(r.then((function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(t,e,i)})),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(t,e,i);if(ft(s))return this._handleDeactivationError(s,i)}catch(t){throw new Error(P(i.name,t.message))}},t.prototype._handleDeactivationError=function(t,e){return Xt(this,void 0,void 0,(function(){var n;return Zt(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),new Error(P(e.name,n.message));case 3:return[2]}}))}))},t.prototype._deactivateContainer=function(t,e){for(var n=this,i=e.next();i.value;){var r=i.value(t);if(ft(r))return r.then((function(){return n._deactivateContainerAsync(t,e)}));i=e.next()}},t.prototype._deactivateContainerAsync=function(t,e){return Xt(this,void 0,void 0,(function(){var n;return Zt(this,(function(i){switch(i.label){case 0:n=e.next(),i.label=1;case 1:return n.value?[4,n.value(t)]:[3,3];case 2:return i.sent(),n=e.next(),[3,1];case 3:return[2]}}))}))},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(i){var r=t.rebind(i);return e(r,n),r}},i=function(e){return function(n,i){t._moduleActivationStore.addActivation(e,n,i),t.onActivation(n,i)}},r=function(e){return function(n,i){t._moduleActivationStore.addDeactivation(e,n,i),t.onDeactivation(n,i)}};return function(s){return{bindFunction:(o=s,function(n){var i=t.bind(n);return e(i,o),i}),isboundFunction:function(e){return t.isBound(e)},onActivationFunction:i(s),onDeactivationFunction:r(s),rebindFunction:n(s),unbindFunction:function(e){return t.unbind(e)},unbindAsyncFunction:function(e){return t.unbindAsync(e)}};var o}},t.prototype._getAll=function(t){return Promise.all(this._get(t))},t.prototype._get=function(t){var e=Kt(Kt({},t),{contextInterceptor:function(t){return t},targetType:S});if(this._middleware){var n=this._middleware(e);if(null==n)throw new Error("Invalid return type in middleware. Middleware must return!");return n}return this._planAndResolve()(e)},t.prototype._getButThrowIfAsync=function(t){var e=this._get(t);if(mt(e))throw new Error("You are attempting to construct '"+t.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return e},t.prototype._getAllArgs=function(t){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t}},t.prototype._getNotAllArgs=function(t,e,n,i){return{avoidConstraints:!1,isMultiInject:e,serviceIdentifier:t,key:n,value:i}},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=function(t,e,n,i,r,s,o,a){void 0===a&&(a=!1);var l=new J(e),c=function(t,e,n,i,r,s){var o=new Y(t?N:D,n),a=new nt(e,"",n,o);if(void 0!==r){var l=new Y(r,s);a.metadata.push(l)}return a}(n,i,r,0,s,o);try{return gt(t,a,r,l,null,c),l}catch(t){throw U(t)&&X(l.plan.rootRequest),t}}(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return function(t){return Tt(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}(n=e.contextInterceptor(n))}},t.prototype._deactivateIfSingleton=function(t){var e=this;if(t.activated)return ft(t.cache)?t.cache.then((function(n){return e._deactivate(t,n)})):this._deactivate(t,t.cache)},t.prototype._deactivateSingletons=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(ft(this._deactivateIfSingleton(i)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},t.prototype._deactivateSingletonsAsync=function(t){return Xt(this,void 0,void 0,(function(){var e=this;return Zt(this,(function(n){switch(n.label){case 0:return[4,Promise.all(t.map((function(t){return e._deactivateIfSingleton(t)})))];case 1:return n.sent(),[2]}}))}))},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(t,e,n){return this.parent?this._deactivate.bind(this.parent)(t,e):this._bindingDeactivationAndPreDestroy(t,e,n)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(t,e,n){return Xt(this,void 0,void 0,(function(){return Zt(this,(function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(t,e)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(t,e,n)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.prototype._removeServiceFromDictionary=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error("Could not unbind serviceIdentifier: "+W(t))}},t.prototype._bindingDeactivationAndPreDestroy=function(t,e,n){var i=this;if("function"==typeof t.onDeactivation){var r=t.onDeactivation(e);if(ft(r))return r.then((function(){return i._preDestroy(n,e)}))}return this._preDestroy(n,e)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(t,e,n){return Xt(this,void 0,void 0,(function(){return Zt(this,(function(i){switch(i.label){case 0:return"function"!=typeof t.onDeactivation?[3,2]:[4,t.onDeactivation(e)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,e)];case 3:return i.sent(),[2]}}))}))},t}();function Yt(){return function(t){if(Reflect.hasOwnMetadata(V,t))throw new Error("Cannot apply @injectable decorator multiple times.");var e=Reflect.getMetadata("design:paramtypes",t)||[];return Reflect.defineMetadata(V,e,t),t}}function Qt(t,e,n,i){var r=function(t){var e=[];if(Array.isArray(t)){var n=function(t){for(var e=new Set,n=0,i=t;n<i.length;n++){var r=i[n];if(e.has(r))return r;e.add(r)}}((e=t).map((function(t){return t.key})));if(void 0!==n)throw new Error(C+" "+n.toString())}else e=[t];return e}(i),s={};Reflect.hasOwnMetadata(t,e)&&(s=Reflect.getMetadata(t,e));var o=s[n];if(void 0===o)o=[];else for(var a=function(t){if(r.some((function(e){return e.key===t.key})))throw new Error(C+" "+t.key.toString())},l=0,c=o;l<c.length;l++)a(c[l]);o.push.apply(o,r),s[n]=o,Reflect.defineMetadata(t,s,e)}function te(t){return function(e,n,i){"number"==typeof i?function(t,e,n,i){!function(t){if(void 0!==t)throw new Error(k)}(e),Qt(B,t,n.toString(),i)}(e,n,i,t):function(t,e,n){if(void 0!==t.prototype)throw new Error(k);Qt(z,t.constructor,e,n)}(e,n,t)}}var ee,ne,ie=(ee=D,function(t){return function(e,n,i){if(void 0===t){var r="function"==typeof e?e.name:e.constructor.name;throw new Error("@inject called with undefined this could mean that the class "+r+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.")}return te(new Y(ee,t))(e,n,i)}}),re=function(t,e){return function(n,i){e(n,i,t)}};let se=class{document;domHelper;logger;callbacks;constructor(t,e,n){this.document=t,this.domHelper=e,this.logger=n,this.logger.debug("BodyClickTrigger initialized"),this.callbacks=new Map}add(t,e="click"){"function"==typeof t?(this.callbacks.has(e)||(this.callbacks.set(e,[]),this.addEventListener(e)),this.callbacks.set(e,[...this.callbacks.get(e),t]),this.logger.debug(`Add callback to trigger: ${e}`)):this.logger.error("Callback must be a function")}addEventListener(t){this.document.body.addEventListener(t,(e=>{this.logger.debug(`${t} event triggered on body`),this.callbacks.get(t).forEach((t=>t(e)))}),!1)}};se=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),re(0,ie("Document")),re(1,ie("DomHelper")),re(2,ie("Logger")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",["function"==typeof(ne="undefined"!=typeof Document&&Document)?ne:Object,Object,Object])],se);let oe=class{debounce=(t,e=0,n={})=>function(t,e,n){var i,r,s;void 0===e&&(e=50),void 0===n&&(n={});var o=null!=(i=n.isImmediate)&&i,a=null!=(r=n.callback)&&r,l=n.maxWait,c=Date.now(),u=[];function d(){if(void 0!==l){var t=Date.now()-c;if(t+e>=l)return l-t}return e}var h=function(){var e=[].slice.call(arguments),n=this;return new Promise((function(i,r){var l=o&&void 0===s;if(void 0!==s&&clearTimeout(s),s=setTimeout((function(){if(s=void 0,c=Date.now(),!o){var i=t.apply(n,e);a&&a(i),u.forEach((function(t){return(0,t.resolve)(i)})),u=[]}}),d()),l){var h=t.apply(n,e);return a&&a(h),i(h)}u.push({resolve:i,reject:r})}))};return h.cancel=function(t){void 0!==s&&clearTimeout(s),u.forEach((function(e){return(0,e.reject)(t)})),u=[]},h}(t,e,n);timeout=(t,e=0)=>setTimeout(t,e);interval=(t,e=0)=>setInterval(t,e);stopTimeout=t=>clearTimeout(t);stopInterval=t=>clearInterval(parseInt(t.toString()))};oe=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt()],oe);const ae=(...t)=>{};var le,ce=function(t,e){return function(n,i){e(n,i,t)}};let ue=class{console;logLevel;trace=(...t)=>this.logInner("trace",...t);debug=(...t)=>this.logInner("debug",...t);log=(...t)=>this.logInner("info",...t);info=(...t)=>this.logInner("info",...t);warn=(...t)=>this.logInner("warn",...t);error=(...t)=>this.logInner("error",...t);constructor(t,e){this.console=t,this.logLevel=e}logInner(t,...e){const n={none:ae,trace:this.console.trace,debug:this.console.debug,info:this.console.log,warn:this.console.warn,error:this.console.error};this.showMessage(t)&&n[t](...e)}showMessage(t){return"trace"===t||("debug"===this.logLevel?"none"!==t:"info"===this.logLevel?"none"!==t&&"debug"!==t:"warn"===this.logLevel?"warn"===t||"error"===t:"error"===this.logLevel&&"error"===t)}};ue=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),ce(0,ie("Console")),ce(1,ie("LogLevel")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",["function"==typeof(le="undefined"!=typeof Console&&Console)?le:Object,Object])],ue);var de=function(t,e){return function(n,i){e(n,i,t)}};let he=class{delayManager;logger;callbacks;constructor(t,e){this.delayManager=t,this.logger=e,this.callbacks=[],this.addListener(),this.logger.debug("ResizeHandler initialized")}add(t){this.callbacks.push(t)}addListener(){window.addEventListener("resize",this.delayManager.debounce((()=>this.runCallbacks()),10),!1)}runCallbacks(){this.callbacks.forEach((t=>t()))}};var ge;he=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),de(0,ie("DelayManager")),de(1,ie("Logger")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object,Object])],he),function(t){t.up="ArrowUp",t.down="ArrowDown",t.left="ArrowLeft",t.right="ArrowRight",t.ctrl="Control",t.enter="Enter",t.tab="Tab",t.alt="Alt",t.q="q",t.w="w",t.e="e",t.r="r",t.t="t",t.z="z",t.u="u",t.i="i",t.o="o",t.p="p",t.a="a",t.s="s",t.d="d",t.f="f",t.g="g",t.h="h",t.j="j",t.k="k",t.l="l",t.y="y",t.x="x",t.v="v",t.b="b",t.n="n",t.m="m"}(ge||(ge={}));let pe=class{logger;callbacks;store;constructor(t){this.logger=t,this.callbacks=[],this.store=new Map,this.addListener(),this.logger.debug("PressedKeys initialized")}add(t){this.callbacks.push(t)}isPressed(t){return t.every((t=>this.store.has(t)))}addListener(){document.addEventListener("keydown",(t=>{const e=this.stringKeyToPressKey(t.key);e&&(this.store.set(e,!0),this.callCallbacks(t))})),document.addEventListener("keyup",(t=>{const e=this.stringKeyToPressKey(t.key);e&&this.store.delete(e)}))}callCallbacks(t){this.callbacks.forEach((e=>e(this.store,t)))}stringKeyToPressKey(t){switch(t){case"ArrowUp":return ge.up;case"ArrowDown":return ge.down;case"ArrowLeft":return ge.left;case"ArrowRight":return ge.right;case"Enter":return ge.enter;case"Tab":return ge.tab;case"Control":return ge.ctrl;case"Alt":return ge.alt;case"q":return ge.q;case"w":return ge.w;case"e":return ge.e;case"r":return ge.r;case"t":return ge.t;case"z":return ge.z;case"u":return ge.u;case"i":return ge.i;case"o":return ge.o;case"p":return ge.p;case"a":return ge.a;case"s":return ge.s;case"d":return ge.d;case"f":return ge.f;case"g":return ge.g;case"h":return ge.h;case"j":return ge.j;case"k":return ge.k;case"l":return ge.l;case"y":return ge.y;case"x":return ge.x;case"v":return ge.v;case"b":return ge.b;case"n":return ge.n;case"m":return ge.m;default:return null}}};pe=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),function(t,e){return function(n,i){e(n,i,t)}}(0,ie("Logger")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[Object])],pe);var fe,me,ve=function(t,e){return function(n,i){e(n,i,t)}};let ye=class{document;window;constructor(t,e){this.document=t,this.window=e}customProperties(){const t=new Map;[...this.cssCustomPropertiesFromStyles(),...this.cssCustomPropertiesFromComputed()].forEach((e=>t.set(e,"")));const e=getComputedStyle(this.document.documentElement);return t.forEach(((n,i)=>t.set(i,e.getPropertyValue(i).trim()))),t}cssCustomPropertiesFromStyles(){return Array.from(this.document.styleSheets).filter((t=>this.isSameDomain(t))).map((t=>Array.from(t.cssRules).filter((t=>this.checkRuleType(t,"CSSStyleRule"))))).flat().map((t=>Array.from(t.style).filter((t=>this.isCustomProperty(t))))).flat().map((t=>t.trim()))}cssCustomPropertiesFromComputed(){return Array.from(getComputedStyle(this.document.documentElement)).filter((t=>this.isCustomProperty(t))).map((t=>t.trim()))}isSameDomain=t=>!t.href||0===t.href.indexOf(this.window.location.origin);isCustomProperty=t=>t.startsWith("--");checkRuleType=(t,e)=>t?.constructor?.name.toLowerCase()===e.toLowerCase()};ye=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),ve(0,ie("Document")),ve(1,ie("Window")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",["function"==typeof(fe="undefined"!=typeof Document&&Document)?fe:Object,"function"==typeof(me="undefined"!=typeof Window&&Window)?me:Object])],ye);var be,we,Ae=function(t,e){return function(n,i){e(n,i,t)}};let Se=class{document;domReadyState;delayManager;callbacks;constructor(t,e,n){this.document=t,this.domReadyState=e,this.delayManager=n,this.callbacks=[],this.addDOMContentLoadedEvent()}isDomReady(){return"loading"!==this.domReadyState}onDomReady(t,e=0){this.isDomReady()?this.prepareExecuteCallback(t,e):this.callbacks.push((()=>this.prepareExecuteCallback(t,e)))}addDOMContentLoadedEvent(){this.document.addEventListener("DOMContentLoaded",(()=>this.callbacks.forEach((t=>t()))))}prepareExecuteCallback(t,e){0===e?t():this.delayManager.timeout((()=>{t()}),e)}};var _e;Se=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),Ae(0,ie("Document")),Ae(1,ie("DomReadyState")),Ae(2,ie("DelayManager")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",["function"==typeof(be="undefined"!=typeof Document&&Document)?be:Object,"function"==typeof(we="undefined"!=typeof DocumentReadyState&&DocumentReadyState)?we:Object,Object])],Se);let Ie=class{window;constructor(t){this.window=t}isTouchDevice(){return!(!this.window?.matchMedia||"function"!=typeof this.window.matchMedia)&&this.window.matchMedia("(hover: none)").matches}};Ie=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),function(t,e){return function(n,i){e(n,i,t)}}(0,ie("Window")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",["function"==typeof(_e="undefined"!=typeof Window&&Window)?_e:Object])],Ie);var Te,Ce=function(t,e){return function(n,i){e(n,i,t)}};let Ee,Le=class{navigator;domParserFactory;logger;constructor(t,e,n){this.navigator=t,this.domParserFactory=e,this.logger=n}stringToHTML(t){return this.domParserFactory.create().parseFromString(t,"text/html").body.children[0]}copyToClipboard(t){this.copyToClipboardAsync(t)}copyToClipboardAsync(t){return this.navigator?.clipboard?.writeText?this.navigator.clipboard.writeText(t):(this.logger.warn("Text could not be copied to clipboard."),Promise.resolve())}};Le=function(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Yt(),Ce(0,ie("Navigator")),Ce(1,ie("Factory<DomParser>")),Ce(2,ie("Logger")),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",["function"==typeof(Te="undefined"!=typeof Navigator&&Navigator)?Te:Object,Object,Object])],Le),Ee=((t={})=>(Ee=void 0,Ee=new Jt,((t={})=>{const e={logLevel:"warn",...t};Ee.bind("LogLevel").toConstantValue(e.logLevel)})(t),(()=>{Ee.bind("Window").toDynamicValue((()=>window)),Ee.bind("Document").toDynamicValue((()=>document||window.document)),Ee.bind("Navigator").toDynamicValue((()=>window?.navigator)),Ee.bind("Console").toDynamicValue((()=>console)),Ee.bind("DomReadyState").toDynamicValue((()=>document.readyState));const t={create:()=>new DOMParser};Ee.bind("Factory<DomParser>").toConstantValue(t)})(),(t=>{t.bind("CssHelper").to(ye),t.bind("DomHelper").to(Se),t.bind("HtmlElementHelper").to(Le),t.bind("EnvironmentHelper").to(Ie)})(Ee),(t=>{t.bind("Logger").to(ue),t.bind("DelayManager").to(oe),t.bind("BodyClickTrigger").to(se).inSingletonScope(),t.bind("ResizeHandler").to(he).inSingletonScope(),t.bind("PressedKeys").to(pe).inSingletonScope()})(Ee),Ee))({logLevel:"info"});class xe extends t{callback;constructor(t){super(),this.callback=t,(new l).addObserver(this)}update(...t){this.callback(t[0])}}class ke extends e{static instance;themeBreakpoints;themeHandler;started;lastBreakpointRange;logger;delayManager;constructor(){return ke.instance?ke.instance:(super(),ke.instance=this,this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.themeBreakpoints={},this.themeBreakpoints[o.default]=new u(o.default,new c(s.XS,0,575,!0),new c(s.SM,576,767,!0),new c(s.MD,768,991,!0),new c(s.LG,992,1199),new c(s.XL,1200)),this.themeBreakpoints[o.finanzenCh]=new u(o.finanzenCh,new c(s.XS,0,575,!0),new c(s.SM,576,767,!0),new c(s.MD,768,991,!0),new c(s.LG,992,1199),new c(s.XL,1200)),this.themeBreakpoints[o.finanzenNet]=new u(o.finanzenNet,new c(s.XS,0,575,!0),new c(s.SM,576,767,!0),new c(s.MD,768,991,!0),new c(s.LG,992,1199),new c(s.XL,1200)),this.themeBreakpoints[o.marketsInsider]=new u(o.marketsInsider,new c(s.XS,0,374,!0),new c(s.SM,375,599,!0),new c(s.MD,600,959,!0),new c(s.LG,960,1259),new c(s.XL,1260)),this.themeHandler=new l,this.lastBreakpointRange=this.currentBreakpointRange,this.started=!1,this.startListener(),new xe((()=>{this.handleListener()})),this)}get currentBreakpointRange(){return this.themeBreakpoints[this.themeHandler.currentTheme].currentBreakpointRange}startListener(){this.started||(window.addEventListener("resize",this.delayManager.debounce((()=>{this.started&&this.handleListener()}),50),!1),this.started=!0)}stopListener(){this.started=!1}handleListener(){this.lastBreakpointRange&&this.currentBreakpointRange&&!this.lastBreakpointRange.equals(this.currentBreakpointRange)?(this.logger.debug(`Breakpoint changed: ${this.lastBreakpointRange.name} => ${this.currentBreakpointRange.name}`),this.notify(this.currentBreakpointRange,this.lastBreakpointRange),this.lastBreakpointRange=this.currentBreakpointRange):this.currentBreakpointRange&&(this.lastBreakpointRange=this.currentBreakpointRange)}getThemeBreakpoints(t){return this.themeBreakpoints[t]}}const Pe=()=>{const t=new ke;return t.currentBreakpointRange?.isMobile??!1};class Me{static getColors(){const t=Ee.get("CssHelper");return Array.from(t.customProperties()).filter((([t])=>t.startsWith("--sg-color-"))).map((([t,e])=>({[t]:e}))).reduce(((t,e)=>({...t,...e})),{})}}const Re=JSON.parse('{"name":"@finanzen-net/common-styles","version":"1.17.3","description":"A style guide for the finanzen.net GmbH","keywords":["style guide","common-styles","finanzen.net","finanzen.ch","markets insider","styles","scss","css","ts"],"repository":{"type":"git","url":"https://finanzennet@dev.azure.com/finanzennet/finando/_git/common-styles"},"license":"ISC","author":{"name":"finanzen.net GmbH","email":"contact@finanzen.net"},"main":"dist/style-guide/script-default.js","types":"dist/style-guide/index.d.ts","files":["README.md","dist/**"],"scripts":{"serve":"run-p webpack:serve docu:serve","build":"run-s webpack:build webpack:copy:to:docu docu:index docu:build","test":"run-s jest:test","lint":"run-s -c lint:scripts lint:styles","build-complete":"npm run refresh && npm run build","refresh":"npm run clear && npm run webpack:reinstall","clear":"npm run webpack:clear && npm run docu:clear && npm run project:clear","login":"npx vsts-npm-auth -config .npmrc -force","webpack:serve":"cross-env NODE_ENV=serve webpack --mode=development --watch --output-path static/hugo/static/style-guide","webpack:serve:de":"cross-env NODE_ENV=serve NODE_SERVE=de webpack --mode=development --watch --output-path static/hugo/static/style-guide","webpack:dev":"cross-env NODE_ENV=development webpack --mode=development","webpack:build":"cross-env NODE_ENV=production webpack --mode=production","webpack:test":"","webpack:lint":"","webpack:copy:to:docu":"copyfiles dist/style-guide/**/*.* static/hugo/static --all --up 1","webpack:clear":"npx rimraf dist/style-guide && npx rimraf static/hugo/static/style-guide","webpack:reinstall":"npm install","docu:serve":"hugo server -D  --configDir static/hugo/config","docu:build":"hugo -D --configDir static/hugo/config","docu:index":"node static/create-search-json.js","docu:clear":"npx rimraf dist/docu && npx rimraf build && npx rimraf resources && npx rimraf .hugo_build.lock","lint:scripts":"eslint \\"src/**/*.ts\\" \\"test/**/*.ts\\"","lint:styles":"stylelint \\"src/**/*.scss\\"","lint:styles:fix":"stylelint \\"src/**/*.scss\\" --fix","jest:test":"jest --config=jest.config.js","project:clear":"npx rimraf dist && npx remove-node-modules","azure:deploy":"copyfiles dist/style-guide/*.* dist/docu/style-guide --all --up 2","icon:font:create":"fantasticon --config .fantasticonrc.js --normalize","browser:support":"browserslist","--":"--","build:components":"run-s webpack:build:components webpack:copy:to:docu docu:index docu:build","webpack:build:components":"cross-env NODE_ENV=components webpack --mode=production","pre:pull:request:test":"npm run refresh && npm run lint && npm run test && npm run build","tsx":"tsc --project tsconfig.json"},"dependencies":{"@floating-ui/dom":"1.5.3","common-tags":"1.8.2","highlight.js":"11.8.0","inversify":"6.0.1","lunr":"2.3.9","normalize.css":"8.0.1","reflect-metadata":"0.1.13","ts-debounce":"4.0.0","typescript":"^5.7.3"},"devDependencies":{"@babel/core":"7.23.0","@babel/preset-env":"7.22.20","@babel/preset-typescript":"7.23.0","@types/common-tags":"1.8.2","@types/jest":"29.5.5","@types/jsdom":"21.1.3","@types/lunr":"2.3.5","@typescript-eslint/eslint-plugin":"6.7.3","@typescript-eslint/parser":"6.7.3","babel-loader":"9.1.3","browserslist":"4.22.0","caniuse-api":"3.0.0","copy-webpack-plugin":"11.0.0","copyfiles":"2.4.1","cross-env":"7.0.3","css-loader":"6.8.1","css-minimizer-webpack-plugin":"5.0.1","eslint":"8.50.0","eslint-webpack-plugin":"4.0.1","extra-watch-webpack-plugin":"1.0.3","fantasticon":"1.2.3","fork-ts-checker-webpack-plugin":"8.0.0","html-webpack-plugin":"5.5.3","hugo-bin":"0.115.0","jest":"29.7.0","jest-environment-jsdom":"29.7.0","mini-css-extract-plugin":"2.7.6","node-sass-json-importer":"4.3.0","npm-run-all":"4.1.5","open-browser-plugin":"1.3.0","postcss":"8.4.30","postcss-combine-duplicated-selectors":"10.0.3","postcss-discard-empty":"6.0.0","postcss-easing-gradients":"3.0.1","postcss-loader":"7.3.3","postcss-preset-env":"9.1.4","sass":"1.68.0","sass-loader":"13.3.2","stylelint":"15.10.3","stylelint-config-standard-scss":"11.0.0","stylelint-scss":"5.2.1","stylelint-webpack-plugin":"4.1.1","terser-webpack-plugin":"5.3.9","ts-jest":"29.1.1","ts-loader":"9.4.4","tslint":"6.1.3","tslint-config-prettier":"1.18.0","uuid":"9.0.1","webpack":"5.88.2","webpack-cli":"5.1.4","webpack-remove-empty-scripts":"1.0.4"},"engines":{"node":">=20.0.0"},"volta":{"node":"20.10.0"}}');var He,Oe;!function(t){t.accordion="accordion",t.item="accordion__item",t.trigger="accordion__trigger",t.content="accordion__content"}(He||(He={})),function(t){t.active="accordion--active",t.toggler="accordion--toggler",t.onlyXs="accordion--only-xs",t.onlySm="accordion--only-sm",t.onlyMd="accordion--only-md",t.onlyLg="accordion--only-lg",t.onlyXl="accordion--only-xl",t.isOpening="accordion__item--is-opening",t.isClosing="accordion__item--is-closing"}(Oe||(Oe={}));const De=t=>{let e=t;if("object"==typeof e&&e.hasOwnProperty("index"))e=e.index;else if("string"!=typeof e)throw new Error("Unknown path type");return e="/"===e.charAt(0)?e.slice(1):t,`${"localhost"===location.hostname||"127.0.0.1"===location.hostname?"http://localhost:1313/":"https://salmon-river-0e2149b03.2.azurestaticapps.net/"}${e}`},Ne={index:"components/accordion/"},Be={index:"components/back-to-top/"},ze={index:"components/notification/"},Ve={index:"components/carousel/"},Fe={index:"components/dropdown/"},je={index:"components/form/form-group/"},$e={index:"components/multi-dot-bar"},qe={index:"components/form/password/"},Ue={index:"components/pagination/",mobile:"components/pagination/#mobile"},We={index:"components/rating/"},Ge={index:"components/side-panel/"},Ke={index:"layouts/snapshot/"},Xe={index:"layouts/suggest-search/"},Ze={index:"components/tab-region/"};class Je extends t{element;itemInfos;animationConfig;notify;logger;constructor(t,e,n){super(),this.element=t,this.logger=e,this.notify=n,this.animationConfig={duration:150,easing:"ease-in-out"},this.itemInfos=new Map,this.items.forEach((t=>this.itemInfos.set(t,this.initialItemInfo(t)))),this.addEvents();const i=new ke;this.handleOnlyScreenSize(i.currentBreakpointRange),i.addObserver(this)}get items(){return Array.from(this.element.querySelectorAll(`:scope > .${He.item}`))}get isToggler(){return this.element.classList.contains(Oe.toggler)}validation(){const t=this.items;if(0===t.length)return this.logger.error("Accordion has no items",De(Ne),this.element),!1;for(const e of t){const t=this.getTrigger(e),n=this.getContent(e);if(!t)return this.logger.error("Accordion trigger is missing",De(Ne),this.element,e),!1;if(!n)return this.logger.error("Accordion content is missing",De(Ne),this.element,e),!1}return!0}getTrigger(t){return t.querySelector(`:scope > .${He.trigger}`)}getContent(t){return t.querySelector(`:scope > .${He.content}`)}isOpen(t){return t?.hasAttribute("open")??!1}toggle(t){const{isClosing:e,isOpening:n}=this.itemInfos.get(t),i=this.isOpen(t);!i||e?(this.expand(t),this.isToggler&&this.shrinkItems([t])):(i||n)&&this.shrink(t),this.notify({accordion:this,element:this.element,item:t,trigger:this.getTrigger(t),content:this.getContent(t)})}shrinkItems(t){this.items.filter((e=>!t.includes(e))).filter((t=>this.isOpen(t)||this.itemInfos.get(t).isOpening)).forEach((t=>this.shrink(t)))}update(...t){this.handleOnlyScreenSize(t[0])}addEvents(){this.itemInfos.forEach(((t,e)=>{t.trigger.addEventListener("click",(t=>{t.preventDefault(),this.toggle(e)}))}))}expand(t){this.avoidContentOverflowing(t),t.style.height=`${t.offsetHeight}px`,t.classList.add(Oe.isOpening),t.toggleAttribute("open",!0),t.setAttribute("data-sg-accordion-is-open","true"),window.requestAnimationFrame((()=>{const{trigger:e,content:n,animation:i}=this.itemInfos.get(t);this.setItemInfo(t,{isOpening:!0});const r=`${t.offsetHeight}px`,s=`${e.offsetHeight+n.offsetHeight}px`;i?.cancel();const o={height:[r,s]},{animation:a}=this.setItemInfo(t,{animation:t.animate(o,this.animationConfig)});a.onfinish=()=>this.onAnimationFinish(t,!0),a.oncancel=()=>this.setItemInfo(t,{isOpening:!1})}))}shrink(t){this.avoidContentOverflowing(t);const{trigger:e,animation:n}=this.itemInfos.get(t);this.setItemInfo(t,{isClosing:!0});const i=`${t.offsetHeight}px`,r=`${e.offsetHeight}px`;n&&n.cancel(),t.classList.add(Oe.isClosing);const s={height:[i,r]},{animation:o}=this.setItemInfo(t,{animation:t.animate(s,this.animationConfig)});o.onfinish=()=>this.onAnimationFinish(t,!1),o.oncancel=()=>this.setItemInfo(t,{isClosing:!1})}onAnimationFinish(t,e){t.toggleAttribute("open",e),t.setAttribute("data-sg-accordion-is-open",e?"true":"false"),t.classList.remove(Oe.isOpening,Oe.isClosing),this.setItemInfo(t,{animation:null,isClosing:!1,isOpening:!1}),this.resetContentOverflowing(t)}initialItemInfo(t){const e=this.getTrigger(t);return{content:this.getContent(t),trigger:e,animation:null,isClosing:!1,isOpening:!1}}setItemInfo(t,{content:e,trigger:n,animation:i,isClosing:r,isOpening:s}){let{content:o,trigger:a,animation:l,isClosing:c,isOpening:u}=this.itemInfos.get(t);o=void 0!==e?e:o,a=void 0!==n?n:a,l=void 0!==i?i:l,c=void 0!==r?r:c,u=void 0!==s?s:u;const d={content:o,trigger:a,animation:l,isClosing:c,isOpening:u};return this.itemInfos.set(t,d),d}avoidContentOverflowing(t){t.style.overflow="hidden"}resetContentOverflowing(t){t.style.height=t.style.overflow=""}isOnlyScreenSize(){return this.element.classList.contains(Oe.onlyXs)||this.element.classList.contains(Oe.onlySm)||this.element.classList.contains(Oe.onlyMd)||this.element.classList.contains(Oe.onlyLg)||this.element.classList.contains(Oe.onlyXl)}handleOnlyScreenSize(t){if(!this.isOnlyScreenSize())return;const e=this.element.classList.contains(Oe.onlyXs),n=this.element.classList.contains(Oe.onlySm),i=this.element.classList.contains(Oe.onlyMd),r=this.element.classList.contains(Oe.onlyLg),o=this.element.classList.contains(Oe.onlyXl),a=t.name===s.XS,l=t.name===s.SM,c=t.name===s.MD,u=t.name===s.LG,d=t.name===s.XL;this.items.forEach((t=>{t.hasAttribute("data-sg-accordion-is-open")||t.setAttribute("data-sg-accordion-is-open",t.open?"true":"false");const s="true"===t.getAttribute("data-sg-accordion-is-open");a&&e||l&&n||c&&i||u&&r||d&&o?t.toggleAttribute("open",s):t.toggleAttribute("open",!0)}))}}class Ye{selector;callback;observer;domHelper;constructor(t,e){this.selector=t,this.callback=e,this.observer=null,this.domHelper=Ee.get("DomHelper"),this.domHelper.onDomReady((()=>{this.observe()}))}stop(){this.observer.disconnect()}observe(){const t=document.body;this.observer=new MutationObserver((t=>{this.mutationCallback(t)})),this.observer.observe(t,{attributes:!0,childList:!0,subtree:!0})}mutationCallback(t){t.forEach((t=>{const e=t.target;"attributes"===t.type&&e.matches(this.selector)&&this.callback(t.target),"childList"===t.type&&t.addedNodes.forEach((t=>{t instanceof Element&&(t.matches(this.selector)&&this.callback(t),t.querySelectorAll(this.selector).forEach((t=>this.callback(t))))}))}))}}class Qe{registeredNodes;logger;static isNode(t){return t instanceof Element||t instanceof HTMLDocument}get count(){return this.registeredNodes.length}constructor(){this.registeredNodes=[],this.logger=Ee.get("Logger"),this.logger.debug("RegisterNodes created")}isRegistered(t){return this.registeredNodes.filter((e=>e===t)).length>0}register(t){Qe.isNode(t)||this.logger.error("Given node is not a HTMLDocument element"),this.registeredNodes.push(t)}unregister(t){for(let e=0;e<this.registeredNodes.length;e+=1)this.registeredNodes[e]===t&&(this.registeredNodes.splice(e,1),e-=1)}}class tn{static instance;callbacks;logger;domHelper;static get Instance(){return tn.instance||(tn.instance=new tn),tn.instance}add(t){"function"==typeof t?this.callbacks.push(t):this.logger.error("Callback must be a function")}constructor(){this.callbacks=[],this.logger=Ee.get("Logger"),this.domHelper=Ee.get("DomHelper"),this.logger.debug("EscapeTrigger created"),this.domHelper.onDomReady((()=>this.addEventListener()))}addEventListener(){document.addEventListener("keydown",(t=>{0!==this.callbacks.length&&("Escape"!==t.key&&"Esc"!==t.key||this.callbacks.forEach((t=>t())))}))}}class en extends e{static instance;observer;register;escapeTrigger;elementToAccordion;logger;static get Instance(){return en.instance||(en.instance=new en),en.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.register=new Qe,this.elementToAccordion=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.escapeTrigger=tn.Instance,this.escapeTrigger.add((()=>this.shrinkAll([])))}get selector(){return`.${He.accordion}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(He.accordion)}initialize(t){const e=new Je(t,this.logger,((...t)=>this.notify(...t)));this.validation(t)&&e.validation()&&this.elementToAccordion.set(t,e)}shrinkAll(t){Array.from(this.elementToAccordion.keys()).filter((e=>!t.includes(e))).map((t=>this.elementToAccordion.get(t))).forEach((t=>t.shrinkItems([])))}findParent(t){const e=Array.from(this.elementToAccordion.values());return e.find((e=>e.items.includes(t)))?.element??null}validation(t){return this.isComponent(t)?!this.register.isRegistered(t)&&(this.register.register(t),!0):(this.logger.error("Given parameter is not a accordion node",De(Ne)),!1)}}class nn{static instance;observer;register;isScrollEventActive;logger;delayManager;resizeHandler;static get Instance(){return nn.instance||(nn.instance=new nn),nn.instance}constructor(){this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.resizeHandler=Ee.get("ResizeHandler"),this.isScrollEventActive=!1,this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.resizeHandler.add((()=>this.resize())),this.logger.debug("BackToTopHandler created")}get selector(){return".back-to-top"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("back-to-top")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.register.registeredNodes.length>1&&this.logger.warn("Their more then one BackToTop elements on page. We recommend using the component only once.",De(Be)),this.resetPosition(t),t.addEventListener("click",(()=>this.scrollToTop())),this.addScrollEvent(),this.toggleBackToTop(t,this.showBackToTop),setTimeout((()=>{t.classList.add("back-to-top--initial")}),250)):this.logger.error("Given parameter is not a back to top node",De(Be))}resetPosition(t){const e=t?.dataset?.sgBackToTopParent??null,n=document.querySelector(e);if(!n)return;const{width:i,left:r}=n.getBoundingClientRect(),s=`calc(${window.innerWidth-(r+i)}px + 2rem)`;t.style.setProperty("--sg-back-to-top-right-position",s)}get showBackToTop(){const t=document.body.scrollTop>50,e=document.documentElement.scrollTop>50;return t||e}addScrollEvent(){this.isScrollEventActive||(document.addEventListener("scroll",this.delayManager.debounce((()=>{this.handleScrolling()}),10)),this.isScrollEventActive=!0)}handleScrolling(){this.register.registeredNodes.forEach((t=>this.toggleBackToTop(t,this.showBackToTop)))}resize(){this.register.registeredNodes.forEach((t=>this.resetPosition(t)))}toggleBackToTop(t,e){t.classList.toggle("back-to-top--show",e)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}const rn=JSON.parse('{"performance-bar-time":"Dieser Chart beschreibt einen Kurs &uuml;ber einen gewissen Zeitraum hinweg. Die Achse startet dabei bei beim Tiefkurs des Zeitraums ({MIN}) und endet bei dessen Hochkurs ({MAX}). Die Makierung entsprich dem aktuellen Kurswert ({CURR}). Die rote bzw. gr&uuml;ne Linie zeigt den Abstand zwischen aktuellem Kurswert und dem Er&ouml;ffnungskurs ({START}) an.","performance-bar-average":"Dieser Chart beschreibt einen Kurs &uuml;ber einen gewissen Zeitraum hinweg und dessen Performenze &uuml;ber diesen Zeitraum. Die Achse startet dabei beim Tiefkurs des Zeitraums ({MIN}) und endet bei dessen Hochkurs ({MAX}). Die Makierung entsprich dem aktuellen performanze Wert des Kurses ({PERF}).","pagination-page":"Seite {CURRENT_PAGE}/{MAX_PAGE}","jump-backward":"Springe 10 Zurück","jump-forward":"Springe 10 Vorwaetrs","previous":"Vorherige","next":"Naechster","copy-success":"Kopiert!","carousel-goto":"Gehe zu","carousel-prev":"Zur&uuml;ck","carousel-next":"N&auml;chster","search":"Suche...","debug-mode-on":"Debug Modus ist an","debug-mode-off":"Debug Modus ist aus"}'),sn=JSON.parse('{"performance-bar-time":"This chart describes a course of an instrument over a period of time. The axis starts at the low of the period ({MIN}) and ends at the high of the period ({MAX}). The marking corresponds to the current market value ({CURR}). The red or green line shows the distance between the current price and the opening price ({START}).","performance-bar-average":"This chart describes a price over a period of time and its performance over that period of an instrument. The axis starts at the low of the period ({MIN}) and ends at the high of the period ({MAX}). The marking corresponds to the current performance value of the instrument ({PERF}).","pagination-page":"Page {CURRENT_PAGE}/{MAX_PAGE}","jump-backward":"Jump 10 Backward","jump-forward":"Jump 10 Forward","previous":"Previous","next":"Next","copy-success":"Copied!","carousel-goto":"Goto","carousel-prev":"Previous","carousel-next":"Next","search":"Search...","debug-mode-on":"Debug mode is on","debug-mode-off":"Debug mode is off"}');var on,an,ln,cn,un,dn,hn,gn,pn,fn,mn,vn,yn;!function(t){t[t.de=0]="de",t[t.en=1]="en"}(on||(on={}));class bn{static instance;language;static get(t){return bn.Instance.getText(t)}static get Instance(){return bn.instance||(bn.instance=new bn),bn.instance}constructor(){return this.language=this.getLanguage(),this}getLanguage(){return document.documentElement.lang.includes("de")?on.de:on.en}get json(){return this.language===on.de?rn:sn}getText(t){return this.json[t]||t}}!function(t){t.copy="copy",t.show="copy--show"}(an||(an={}));class wn{static instance;observer;register;logger;htmlElementHelper;delayManager;static get Instance(){return wn.instance||(wn.instance=new wn),wn.instance}constructor(){this.logger=Ee.get("Logger"),this.htmlElementHelper=Ee.get("HtmlElementHelper"),this.delayManager=Ee.get("DelayManager"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("CopyHandler initialized")}get selector(){return"[data-sg-copy]"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.hasAttribute("data-sg-copy")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),t.addEventListener("click",(e=>{this.doCopy(t),e.stopPropagation()}),!1)):this.logger.error("Given parameter is not a copy node")}getText(t){return t?.dataset.sgCopy}setText(t,e){t&&(t.dataset.sgCopy=e)}doCopy(t){const e=this.getText(t);e&&(this.htmlElementHelper.copyToClipboard(e),this.showCopySuccessfully(t))}async showCopySuccessfully(t){const e=this.positionOf(t),n=e.top+e.height/2,i=e.left+e.width/2,r=document.createElement("span");r.textContent=bn.get("copy-success"),r.classList.add(an.copy),r.style.setProperty("--sg-copy-top",`${n}px`),r.style.setProperty("--sg-copy-left",`${i}px`),document.body.appendChild(r),await this.stop(20),r.classList.add(an.show),await this.stop(2e3),r.classList.remove(an.show),await this.stop(1e3),r.remove()}positionOf(t){let e=0,n=0;const i=t.offsetWidth,r=t.offsetHeight;try{do{e+=t.offsetTop,n+=t.offsetLeft}while(t=t.offsetParent)}catch(t){}finally{return{top:e,left:n,width:i,height:r}}}stop(t){return new Promise((e=>setTimeout(e,t)))}}!function(t){t.dark="sg-dark-scheme",t.light="sg-light-scheme"}(ln||(ln={})),function(t){t.toggleButton="data-sg-scheme-toggle",t.toggleButtonActive="data-sg-scheme-toggle-active"}(cn||(cn={}));class An{elements;constructor(t){this.elements=t}setState(t){this.elements.forEach((e=>e.classList.toggle(ln.dark,t.isActive))),this.elements.forEach((e=>e.classList.toggle(ln.light,!t.isActive)))}removeState(){this.elements.forEach((t=>t.classList.remove(ln.dark))),this.elements.forEach((t=>t.classList.remove(ln.light)))}}class Sn{storage;pressedKeys;constructor(t,e){this.storage=t,this.pressedKeys=e,this.pressedKeys.add((()=>this.toggle()))}toggle(){const t=[ge.ctrl,ge.alt,ge.s];this.pressedKeys.isPressed(t)&&this.storage.toggle()}}class _n{state;storage;listenStateChange;constructor(t,e){this.storage=t,this.listenStateChange=e,this.state={isActive:!1}}get isActive(){return this.state.isActive}set isActive(t){this.state.isActive=t,this.notifyListener(),this.save()}toggle(){this.isActive=!this.isActive}save(){const t=this.state.isActive?"1":"0";this.storage?.setItem("sg-dark-scheme",t)}restore(){const t=this.storage?.getItem("sg-dark-scheme")??"0";this.isActive="1"===t}hasStoredValue(){const t=this.storage?.getItem("sg-dark-scheme");return null!==t}notifyListener(){this.listenStateChange&&this.listenStateChange(this.state)}}class In{toggleButton;storage;constructor(t,e){this.storage=t,this.toggleButton=e,this.addEvent()}update(t){t.isActive?this.toggleButton.setAttribute(cn.toggleButtonActive,""):this.toggleButton.removeAttribute(cn.toggleButtonActive)}addEvent(){this.toggleButton.addEventListener("click",(()=>this.toggle()))}toggle(){this.storage.toggle()}}class Tn extends e{static instance;storage;keyboardShortcut;toggler;domState;logger;pressedKeys;static get Instance(){return Tn.instance||(Tn.instance=new Tn),Tn.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.pressedKeys=Ee.get("PressedKeys"),this.storage=new _n(localStorage,(t=>this.stateChange(t))),this.domState=new An([document.documentElement]),this.keyboardShortcut=new Sn(this.storage,this.pressedKeys),this.toggler=this.toggleButton?new In(this.storage,this.toggleButton):void 0,this.storage.hasStoredValue()?this.storage.restore():this.storage.isActive=this.browserPreference.isActive}get isActive(){return this.storage.isActive}setLightMode(){this.storage.isActive=!1}setDarkMode(){this.storage.isActive=!0}toggleMode(){this.storage.toggle()}get toggleButton(){return document.querySelector(`[${cn.toggleButton}]`)}get browserPreference(){return window.matchMedia("(prefers-color-scheme: dark)").matches?{isActive:!0}:{isActive:!1}}stateChange(t){this.domState.setState(t),this.toggler?.update(t),this.notify(t.isActive)}}!function(t){t.notification="notification",t.item="notification__item",t.popup="notification__popup"}(un||(un={})),function(t){t.show="notification--show",t.global="notification--global",t.itemRemove="notification__item--remove",t.storage="notification--storage"}(dn||(dn={})),function(t){t.right="insert-right",t.left="insert-left"}(hn||(hn={})),function(t){t.fadeOut="fade-out",t.scaleOut="scale-out"}(gn||(gn={})),function(t){t.container="data-sg-notification-container"}(pn||(pn={})),function(t){t.top="--sg-notification-global-top",t.right="--sg-notification-global-right",t.bottom="--sg-notification-global-bottom",t.left="--sg-notification-global-left"}(fn||(fn={}));class Cn extends e{storage;storageKey="notificationStore";designer;constructor(t){super(),this.designer=t,this.storage=[],this.load()}add(t){t?.options?.store?.alreadySaved||(t.options.store.alreadySaved=!0,this.storage.push(t),this.save(),this.notify(t))}get(t){return this.storage[t]}getAll(){return this.storage}clear(){this.storage=[],localStorage.removeItem(this.storageKey)}get size(){return this.storage.length}printStore(t){this.storage.forEach((e=>this.printData(e,t)))}printData(t,e){this.disableDelayRemove(t),this.isMessage(t)?this.printMessage(t,e):this.printPopup(t,e)}clearPrinted(t){this.designer.findItems(t).forEach((t=>this.designer.removeItem(t)))}save(){localStorage.setItem(this.storageKey,JSON.stringify(this.storage))}load(){const t=localStorage.getItem(this.storageKey);if(t){const e=JSON.parse(t);this.storage=[...this.storage,...e]}}isMessage(t){return t.hasOwnProperty("text")}printMessage(t,e){const{text:n,options:i}=t,r=this.designer.createItemWithMessage(n,i.messageState);this.designer.printItem(r,e)}printPopup(t,e){const{popupContent:n}=t;this.disableDelayRemove(t);const i=this.designer.createPopup(n);this.designer.printPopup(i,e,!0)}disableDelayRemove(t){t.options.timer=0}}class En{globalNotification;designer;constructor(t){this.designer=t}get notification(){return this.exists()||this.createNotification(),this.globalNotification}set notification(t){this.globalNotification=t}print(t){this.designer.printItem(t,this.notification)}exists(){return!!this.findGlobalNotification()}findGlobalNotification(){if(this.globalNotification)return this.globalNotification;const t=`.${un.notification}.${dn.global}`,e=document.querySelector(t);return e?(this.globalNotification=e,this.globalNotification):null}createNotification(){this.globalNotification=this.designer.createNotification([dn.global]),this.designer.printNotification(this.globalNotification)}}!function(t){t.message="message"}(mn||(mn={})),function(t){t.success="success",t.warning="warning",t.danger="danger",t.none="none"}(vn||(vn={})),function(t){t.success="message--success",t.warning="message--warning",t.danger="message--danger"}(yn||(yn={}));class Ln{static instance;observer;register;logger;static get Instance(){return Ln.instance||(Ln.instance=new Ln),Ln.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.logger.debug("NotificationHandler created")}get selector(){return".message"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(mn.message)}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||this.register.register(t):this.logger.error("Given parameter is not a message node")}create(t,e){const n=document.createTextNode(t),i=document.createElement("span");i.classList.add(mn.message);const r=this.stateToModifier(e);return r&&i.classList.add("data-state",r),i.appendChild(n),i}unregister(t){this.register.unregister(t)}stateToModifier(t){switch(t){case vn.success:return yn.success;case vn.warning:return yn.warning;case vn.danger:return yn.danger}}}class xn{register;delayManager;constructor(t,e){this.register=t,this.delayManager=e}show(t){t.classList.add(dn.show)}hide(t){t.classList.remove(dn.show)}findItems(t){return Array.from(t.querySelectorAll(`.${un.item}`))}createNotification(t,e){const n=document.createElement("div");n.classList.add(un.notification),t?.forEach((t=>n.classList.add(t)));const i=e||this.getContainerByAttribute(n);return i&&this.setNotificationAboveContainer(n,i),this.register.register(n),n}createItem(t){const e=document.createElement("div");return e.classList.add(un.item),t?.forEach((t=>e.classList.add(t))),e}createItemWithMessage(t,e,n){const i=this.createItem(n),r=Ln.Instance.create(t,e);return i.appendChild(r),i}createPopup(t,e){const n=document.createElement("div");return n.classList.add(un.popup),e?.forEach((t=>n.classList.add(t))),n.appendChild(t),n}printNotification(t){this.addToBody(t),this.show(t)}printItem(t,e){e.prepend(t)}printPopup(t,e,n=!1){n?e.prepend(t):e.appendChild(t)}removeNotification(t){let e=0;this.getItems(t).forEach((t=>{e=Math.max(e,this.removeItem(t))})),this.delayManager.timeout((()=>t.remove()),e),this.register.unregister(t)}removeItem(t){const e=Ln.Instance,n=t.querySelector(mn.message);n&&e.unregister(n),t.classList.add(dn.itemRemove);const i=this.getAnimationDurationMs(t);return this.delayManager.timeout((()=>t.remove()),i),i}removeItemAfterDelay(t,e){!e||e<=0||this.delayManager.timeout((()=>this.removeItem(t)),e)}removePopup(t){t.remove()}removePopupAfterDelay(t,e){!e||e<=0||this.delayManager.timeout((()=>this.removePopup(t)),e)}getContainerByAttribute(t){const e=t.getAttribute(pn.container);return e?this.getContainer(e):null}setNotificationAboveContainer(t,e){const n=this.getContainerPosition(e);if(!n)return;const{top:i,left:r,right:s,bottom:o}=n;t.style.setProperty(fn.top,`${i}px`),t.style.setProperty(fn.right,`${s}px`),t.style.setProperty(fn.bottom,`${o}px`),t.style.setProperty(fn.left,`${r}px`)}addToBody(t){document.body.appendChild(t)}getAnimationDurationMs(t){const e=getComputedStyle(t),n=e.getPropertyValue("animation-duration"),i=e.getPropertyValue("animation-delay");return 1e3*parseFloat(n)+1e3*parseFloat(i)}getItems(t){return Array.from(t.querySelectorAll(un.item))}getContainerPosition(t){const e=this.getContainer(t);if(!e)return null;const n=e.getBoundingClientRect();return{top:n.top,left:n.left,right:window.innerWidth-n.x-n.width,bottom:0}}getContainer(t){let e;return e="string"==typeof t?document.querySelector(t):t,e||null}}const kn={timer:1e4,messageState:vn.none,animation:{insertAnimation:hn.right,removeAnimation:gn.fadeOut,duration:250},container:null,store:{save:!1,alreadySaved:!1}};class Pn extends t{static instance;observer;register;global;store;storeNotificationList;designer;logger;delayManager;static get Instance(){return Pn.instance||(Pn.instance=new Pn),Pn.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.storeNotificationList=[],this.register=new Qe,this.designer=new xn(this.register,this.delayManager),this.global=new En(this.designer),this.store=new Cn(this.designer),this.store.addObserver(this),this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("NotificationHandler created")}get options(){return{timer:kn.timer,messageState:kn.messageState,animation:{insertAnimation:kn.animation.insertAnimation,removeAnimation:kn.animation.removeAnimation,duration:kn.animation.duration},container:kn.container,store:{save:kn.store.save,alreadySaved:kn.store.alreadySaved}}}get selector(){return`.${un.notification}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(un.notification)}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a notification node");if(this.register.isRegistered(t))return;this.register.register(t);const e=this.designer.getContainerByAttribute(t);e&&this.designer.setNotificationAboveContainer(t,e),this.designer.show(t)}notify(t,e,n){if(!t)return void this.logger.error("Given parameter is not a string, see",De(ze));const i=this.matchOptions(e),r=this.createItem(t,i);if(this.isComponent(n)?this.designer.printItem(r,n):this.global.print(r),i.store.save){const e={text:t,options:i};this.store.add(e)}}popup(t,e,n){if(!t)return void this.logger.error("Given parameter is not a HTMLElement, see",De(ze));const i=this.matchOptions(e);i.timer=e?.timer??0;const r=this.createPopup(t,i);if(this.isComponent(n))this.designer.printPopup(r,n);else{const t=this.designer.createNotification();this.designer.printPopup(r,t)}}removeNotification(t){this.designer.removeNotification(t)}removePopup(t){this.designer.removePopup(t)}removeItem(t){this.designer.removeItem(t)}printStore(t,e=!0){this.isComponent(t)?(this.store.printStore(t),e&&this.storeNotificationList.push(t)):this.logger.error("Given parameter is not a notification node, see",De(ze))}clearStore(){this.store.clear(),this.storeNotificationList.forEach((t=>this.store.clearPrinted(t)))}update(t){this.printStoreData(t)}createItem(t,e){const n=this.designer.createItemWithMessage(t,e.messageState);return n.style.setProperty("--sg-overlay-timeline-duration",e.timer+"ms"),this.designer.removeItemAfterDelay(n,e.timer),n}createPopup(t,e){const n=this.designer.createPopup(t);return this.designer.removePopupAfterDelay(n,e.timer),n}printStoreData(t){this.storeNotificationList.forEach((e=>this.store.printData(t,e)))}matchOptions(t){if(!t)return this.options;const e=this.options,n={...e,...t};return n.animation={...e.animation,...t.animation},n}}class Mn{static instance;pressedKeys;static get Instance(){return Mn.instance||(Mn.instance=new Mn),Mn.instance}constructor(){this.pressedKeys=Ee.get("PressedKeys"),this.pressedKeys.add((()=>{const t=[ge.ctrl,ge.alt,ge.d];if(!this.pressedKeys.isPressed(t))return;const e="data-sg-debug-mode",n=document.documentElement;n.hasAttribute(e)?(n.removeAttribute(e),Pn.Instance.notify(bn.get("debug-mode-off"))):(n.setAttribute(e,""),Pn.Instance.notify(bn.get("debug-mode-on")))}))}}var Rn,Hn,On,Dn,Nn,Bn,zn,Vn,Fn,jn,$n,qn,Un,Wn,Gn,Kn,Xn,Zn,Jn,Yn;!function(t){t.subList="details-navigation__sub-list",t.item="details-navigation__item",t.itemLabel="details-navigation__item-label",t.background="details-navigation__background"}(Rn||(Rn={})),function(t){t.active="details-navigation--active",t.backgroundHover="details-navigation__background--hover"}(Hn||(Hn={}));class Qn{static instance;observer;register;naviState;defaultState;bodyClickTrigger;logger;delayManager;static get Instance(){return Qn.instance||(Qn.instance=new Qn),Qn.instance}constructor(){this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.bodyClickTrigger=Ee.get("BodyClickTrigger"),this.register=new Qe,this.naviState=new Map,this.defaultState={bgHover:!1,naviHover:!1},this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.bodyClickTrigger.add((()=>this.closeAll())),this.logger.debug("DetailsNavigationHandler initialized")}get selector(){return".details-navigation"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("details-navigation")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.setState(t,this.defaultState),this.addEvents(t),this.setBackgroundHeight(t),this.closeAll()):this.logger.error("Given parameter is not a detailsNavigation node")}addEvents(t){const e=e=>this.setState(t,{bgHover:e}),n=e=>this.setState(t,{naviHover:e}),i=()=>this.delayManager.timeout((()=>this.togglePopup(t)),this.delay.open),r=()=>this.delayManager.timeout((()=>this.togglePopup(t)),this.delay.close),s=t.querySelector(`.${Rn.background}`);t.addEventListener("mouseenter",(()=>{n(!0),i()}),!1),t.addEventListener("mouseleave",(()=>{n(!1),r()}),!1),s.addEventListener("mouseenter",(()=>{e(!0),i()}),!1),s.addEventListener("mouseleave",(()=>{e(!1),r()}),!1),t.addEventListener("click",(t=>t.stopPropagation()),!1),t.addEventListener("touchstart",(t=>{t.stopPropagation(),n(!0),i()}),!1)}get delay(){return{open:50,close:200}}togglePopup(t){const{bgHover:e,naviHover:n}=this.getState(t);t.classList.toggle(Hn.active,e||n)}closeAll(){this.naviState.forEach(((t,e)=>{this.setState(e,this.defaultState),this.togglePopup(e)}))}getState(t){return this.naviState.get(t)??this.defaultState}setState(t,e){const{bgHover:n,naviHover:i}=this.getState(t),r=e.bgHover??n,s=e.naviHover??i;this.naviState.set(t,{bgHover:r,naviHover:s})}setBackgroundHeight(t){const e=Array.from(t.querySelectorAll(".details-navigation__sub-list")),n=Math.max(...e.map((t=>t.clientHeight)))+"px";t.style.setProperty("--sg-details-navigation-background-height",n)}}!function(t){t.dropdown="dropdown",t.trigger="dropdown__trigger",t.content="dropdown__content"}(On||(On={})),function(t){t.open="dropdown--open",t.moveDown="dropdown--move-down",t.moveUp="dropdown--move-up",t.stretch="dropdown--stretch",t.stretchLg="dropdown--lg-stretch",t.stretchMd="dropdown--md-stretch",t.stretchSm="dropdown--sm-stretch",t.stretchXs="dropdown--xs-stretch"}(Dn||(Dn={})),function(t){t[t.up=0]="up",t[t.down=1]="down"}(Nn||(Nn={}));class ti extends e{static instance;observer;register;escapeTrigger;logger;bodyClickTrigger;delayManager;static get Instance(){return ti.instance||(ti.instance=new ti),ti.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.bodyClickTrigger=Ee.get("BodyClickTrigger"),this.delayManager=Ee.get("DelayManager"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.escapeTrigger=tn.Instance,this.escapeTrigger.add((()=>this.closeAll())),this.bodyClickTrigger.add((()=>this.closeAll())),window.addEventListener("scroll",this.delayManager.debounce((()=>this.resetPositionOfAllOpenContents()),10),{passive:!0}),window.addEventListener("resize",this.delayManager.debounce((()=>this.resetPositionOfAllOpenContents()),10),!1),this.logger.debug("DropdownHandler initialized")}get selector(){return`.${On.dropdown}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(On.dropdown)}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a dropdown node",De(Fe));if(this.register.isRegistered(t))return;if(this.register.register(t),this.suppressAutomation(t))return;const e=this.getTrigger(t);e?this.getContent(t)?(this.addEvent(t,e),t.classList.contains(Dn.open)&&this.open(t),this.saveContentSize(t),this.setContentBehavior(t)):this.logger.error("Dropdown content is missing",De(Fe),t):this.logger.error("Dropdown trigger is missing",De(Fe),t)}isStretch(t){return[Dn.stretch,Dn.stretchLg,Dn.stretchMd,Dn.stretchSm,Dn.stretchXs].some((e=>t.classList.contains(e)))}isOpen(t){return t.classList.contains(Dn.open)}getTrigger(t){return t.querySelector(`.${On.trigger}`)}getContent(t){return t.querySelector(`.${On.content}`)}open(t){this.closeAll([t]),this.setContentBehavior(t),t.classList.add(Dn.open),this.notify(t)}close(t){t.classList.remove(Dn.open)}closeAll(t=[]){Array.from(this.findAll).filter((e=>!t.includes(e))).filter((t=>!this.suppressAutomation(t))).forEach((t=>this.close(t)))}toggle(t){this.isOpen(t)?this.close(t):this.open(t)}addEvent(t,e){e.addEventListener("click",(e=>{this.toggle(t),e.stopPropagation()}),!1)}setContentBehavior(t){this.setContentPosition(t),this.setContentMovement(t)}setContentPosition(t){const e=this.getContent(t),{top:n,right:i,left:r}=this.calcContentPosition(t,e),s=(t,n)=>{void 0!==n?e.style.setProperty(`--sg-dropdown-content-${t}`,`${n}px`):e.style.removeProperty(`--sg-dropdown-content-${t}`)};s("top",n),s("right",i),s("left",r)}setContentMovement(t){const e=this.calcMovementDirection(t)===Nn.down;t.classList.toggle(Dn.moveDown,e),t.classList.toggle(Dn.moveUp,!e)}calcContentPosition(t,e){const n=t.getBoundingClientRect(),i=this.calcMovementDirection(t),r=this.isStretch(t),s=this.hasEnoughSpaceToRight(e,n.left);let o,a,l;o=i===Nn.down?n.top+n.height:n.top;const c=n.left,u=document.documentElement.clientWidth-n.right;return r?(l=c,a=u):s?l=c:a=u,{top:o,right:a,left:l}}saveContentSize(t){const e=this.getContent(t);let n=0;this.isOpen(t)||(e.style.transition="none",e.style.visibility="hidden",e.style.transform="none",n=e.getBoundingClientRect()?.height??0,e.style.visibility=null,e.style.transform=null,e.style.transition=null),t.dataset.sgDropdownContentHeight=n.toString()}getContentSize(t){let e=parseInt(t?.dataset?.sgDropdownContentHeight??"-1");return e<=0&&(this.saveContentSize(t),e=parseInt(t?.dataset?.sgDropdownContentHeight??"-1")),e}hasEnoughSpaceToRight(t,e){const n=document.documentElement.clientWidth;return e+t.clientWidth<n}calcMovementDirection(t){const e=this.getContentSize(t);if(!e||-1===e)return Nn.down;const n=t.getBoundingClientRect();if(!n)return Nn.down;const i=n?.bottom??0;return document.documentElement.clientHeight>i+e?Nn.down:Nn.up}resetPositionOfAllOpenContents(){document.querySelectorAll(".dropdown.dropdown--open").forEach((t=>this.setContentBehavior(t)))}suppressAutomation(t){return t.hasAttribute("sg-dropdown-suppress-automation")}}class ei{static instance;observer;register;logger;static get Instance(){return ei.instance||(ei.instance=new ei),ei.instance}constructor(){this.logger=Ee.get("Logger"),this.supportsDatepicker()?(this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("DatepickerHandler initialized")):this.logger.error("Browser does not support datepicker")}get selector(){return".button__datepicker"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("button__datepicker")}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a datepicker");if(this.register.isRegistered(t))return;this.register.register(t);const e=t,n=e.getAttribute("id"),i=document.querySelector(`[for="${n}"]`);i?i.addEventListener("click",(async()=>{e.showPicker&&await e.showPicker()})):this.logger.error("Could not find label for datepicker")}supportsDatepicker(){return"function"==typeof HTMLInputElement.prototype.showPicker}}!function(t){t.initialize="floating-label--initialize"}(Bn||(Bn={}));class ni{static instance;observer;register;logger;static get Instance(){return ni.instance||(ni.instance=new ni),ni.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("FloatingLabelHandler initialized")}get selector(){return".floating-label"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("floating-label")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.addModifier(t)):this.logger.error("Given parameter is not a floating label node")}async addModifier(t){await((t=1e3)=>new Promise((e=>setTimeout(e,t))))(),t.classList.add(Bn.initialize)}}!function(t){t.text="icon--eye-hide",t.password="icon--eye"}(zn||(zn={})),function(t){t.text="text",t.password="password"}(Vn||(Vn={}));class ii{passwordFormGroup;input;icon;logger;static isPassword(t){return t.hasAttribute("data-sg-password")}constructor(t){this.logger=Ee.get("Logger"),this.passwordFormGroup=t,this.input=this.passwordFormGroup.querySelector(".input"),this.icon=this.passwordFormGroup.querySelector(".form-group__icon"),this.input&&this.icon?(this.addEvents(),this.logger.debug("PasswordHandler initialized")):this.logger.error("A `data-sg-password` component has not the correct form.",De(qe))}addEvents(){this.icon.addEventListener("click",(()=>this.toggle()))}get inputType(){return this.input.getAttribute("type")}set inputType(t){this.input.setAttribute("type",t)}set iconType(t){this.icon.classList.remove(zn.text),this.icon.classList.remove(zn.password),this.icon.classList.add(t)}toggle(){this.inputType===Vn.password?(this.inputType=Vn.text,this.iconType=zn.text):(this.inputType=Vn.password,this.iconType=zn.password)}}!function(t){t.iconVariant="form-group--icon",t.hover="form-group--icon-hover",t.focus="form-group--icon-focus",t.invalid="form-group--icon-invalid"}(Fn||(Fn={}));class ri{static instance;observer;register;passwordFormGroups;logger;static get Instance(){return ri.instance||(ri.instance=new ri),ri.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.passwordFormGroups=[],this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("FormGroupHandler initialized")}get selector(){return".form-group"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("form-group")}initialize(t){if(this.isComponent(t)){if(!this.register.isRegistered(t)){if(this.register.register(t),this.isIconVariant(t)){const e=t.querySelector(".input");if(!e)return void this.logger.error('The ".form-group--icon" have no ".input"',De(je));t.addEventListener("mouseenter",(()=>{this.setState(t,"mouseenter")})),t.addEventListener("mouseleave",(()=>{this.setState(t,"mouseleave")})),e.addEventListener("focusin",(()=>{this.setState(t,"focusin")})),e.addEventListener("focusout",(()=>{this.setState(t,"focusout")})),e.addEventListener("invalid",(()=>{this.setState(t,"invalid")})),e.addEventListener("change",(()=>{this.setState(t,e.checkValidity()?"valid":"invalid")})),this.setState(t,e.checkValidity()?"valid":"invalid")}ii.isPassword(t)&&this.passwordFormGroups.push(new ii(t))}}else this.logger.error("Given parameter is not a from group node")}isIconVariant(t){return t.classList.contains(Fn.iconVariant)}setState(t,e){switch(e){case"mouseenter":t.classList.add(Fn.hover);break;case"mouseleave":t.classList.remove(Fn.hover);break;case"focusin":t.classList.add(Fn.focus);break;case"focusout":t.classList.remove(Fn.focus);break;case"invalid":t.classList.add(Fn.invalid);break;case"valid":t.classList.remove(Fn.invalid)}}}class si{static instance;observer;register;logger;static get Instance(){return si.instance||(si.instance=new si),si.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("InputHandler initialized")}get selector(){return".input"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("input")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||this.register.register(t):this.logger.error("Given parameter is not a from group node")}}!function(t){t.select="select",t.optgroup="select__optgroup",t.option="select__option",t.label="select__label",t.hiddenInput="select__hidden-input"}(jn||(jn={})),function(t){t.extended="select--extended",t.extendedInit="select--extended-init",t.disable="select--disable",t.readonly="select--readonly",t.valid="select-extended--valid",t.invalid="select-extended--invalid",t.optionSelected="select-extended__option--selected"}($n||($n={})),function(t){t.listing="listing",t.list="listing__list",t.item="listing__item",t.text="listing__text",t.group="listing__group",t.groupText="listing__group-text",t.groupList="listing__group-list"}(qn||(qn={})),function(t){t.stretch="listing--stretch",t.stretchLg="listing--lg-stretch",t.stretchMd="listing--md-stretch",t.stretchSm="listing--sm-stretch",t.stretchXs="listing--xs-stretch",t.noHover="listing--no-hover",t.noScrolling="listing--suppress-vertical-scrolling",t.itemActive="listing__item--active"}(Un||(Un={}));class oi{static instance;observer;register;logger;static get Instance(){return oi.instance||(oi.instance=new oi),oi.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("ListingHandler initialized")}get selector(){return".listing"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("listing")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||this.register.register(t):this.logger.error("Given parameter is not a listing node")}isStretch(t){return[Un.stretch,Un.stretchLg,Un.stretchMd,Un.stretchSm,Un.stretchXs].filter((e=>t.classList.contains(e))).length>0}getItems(t){return Array.from(t.querySelectorAll(".listing__item"))}setMinWidth(t,e){const n=e.map((t=>t.textContent.length)),i=Math.max(0,...n);t.style.minWidth=`max(${i}ch, 10rem)`}}class ai extends t{static instance;observer;register;selectMap;logger;pressedKeys;static get Instance(){return ai.instance||(ai.instance=new ai),ai.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.pressedKeys=Ee.get("PressedKeys"),this.register=new Qe,this.selectMap=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.pressedKeys.add(((t,e)=>this.keyboardHandler(e))),ti.Instance.addObserver(this)}get selector(){return`.${jn.select}.${$n.extended}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(jn.select)}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.buildSelectExtended(t),this.addEvents(t)):this.logger.error("Given parameter is not a select extended node")}update(...t){Array.from(this.selectMap).filter((([e,{dropdown:n}])=>t.includes(n))).map((([t])=>t)).forEach((t=>this.resetFakeSelect(t)))}addEvents(t){const{hiddenInput:e,fakeSelect:n,searchInput:i,dropdownContent:r,optionsToFakeOptions:s}=this.selectMap.get(t);t.addEventListener("change",(()=>this.updateLabel(t,this.getSelectedOption(t)))),e.addEventListener("focus",(()=>{n.classList.contains($n.disable)||n.dispatchEvent(new Event("click"))})),i?.addEventListener("click",(t=>(t.stopPropagation(),!1))),i?.addEventListener("input",(()=>{this.deactivateFakeOption({});const e=i.value.toLowerCase(),n=Array.from(t.options).map((t=>({option:t,value:t.value.toLowerCase(),text:t.textContent.toLowerCase()}))).filter((({text:t,value:n})=>t.includes(e)||n.includes(e))).map((({option:t})=>t)).map((t=>s.get(t)));Array.from(s.values()).forEach((t=>t.classList.toggle("display-none",!n.includes(t)))),r.querySelectorAll(`.${qn.group}`).forEach((t=>{const e=t.querySelectorAll(`.${qn.item}:not(.display-none)`).length>0;t.classList.toggle("display-none",!e)}))})),s.forEach(((e,n)=>{e.addEventListener("click",(()=>{t.value=n.value,t.dispatchEvent(new Event("change")),this.updateLabel(t,n)})),e.addEventListener("mouseover",(()=>{this.isActivateFakeOptionByHoverAllowed(t)&&this.activateFakeOption(e)}))}))}buildSelectExtended(t){const e=this.getSelectedOption(t),n=`select-extended-${t.getAttribute("name")||"a"+Math.floor(1e4*Math.random())}`,i=t.getAttribute("tabindex")??"",r=document.createElement("div");r.classList.add(On.dropdown);const s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("name",n),s.setAttribute("tabindex",i),s.classList.add(jn.hiddenInput),t.setAttribute("data-sg-select-extended-name",n);const o=document.createElement("div");o.classList.add(jn.select,$n.extendedInit),o.classList.add(On.trigger),o.classList.toggle($n.disable,t.disabled||t.classList.contains($n.disable)),o.classList.toggle($n.readonly,t.classList.contains($n.readonly)),this.addClassesToFakeSelect(t,o),r.append(o);const a=document.createElement("span");a.classList.add(jn.label),o.append(a);const l=document.createElement("div");l.classList.add(On.content,qn.listing),this.selectMap.set(t,{select:t,hiddenInput:s,searchInput:null,dropdown:r,dropdownContent:l,listing:l,fakeSelect:o,fakeSelectLabel:a,optionsToFakeOptions:new Map});const c=this.buildDropDownOptions(t);this.updateLabel(t,e),l.append(c),r.append(l),t.parentElement.insertBefore(r,t),t.classList.add("display-none"),r.append(t)}addClassesToFakeSelect(t,e){Array.from(t.classList).filter((t=>!t.includes("select"))).forEach((t=>e.classList.add(t)))}resetFakeSelect(t){const{searchInput:e}=this.selectMap.get(t);e.value="",e.dispatchEvent(new Event("input")),this.allowActivateFakeOptionByHover(t)}buildDropDownOptions(t){const e=t.querySelector(`.${jn.optgroup}`),n=document.createElement("ul");n.classList.add(qn.list);const i=this.buildSearchInput(t),r=e?this.buildGroupedOptions(t):this.buildOptions(t,t);return n.appendChild(i),r.forEach((t=>n.appendChild(t))),n}buildSearchInput(t){const e=document.createElement("li");e.classList.add(qn.item);const n=document.createElement("div");n.classList.add(qn.text,"padding-0.00"),e.appendChild(n);const i=document.createElement("div");i.classList.add("form-group","form-group--icon","form-group--stretch"),n.appendChild(i);const r=document.createElement("input");r.classList.add("input"),r.setAttribute("type","text"),r.setAttribute("placeholder",bn.get("search")),i.appendChild(r);const s=document.createElement("div");return s.classList.add("form-group__icon","icon","icon--search"),i.appendChild(s),this.selectMap.get(t).searchInput=r,e}buildGroupedOptions(t){const e=[];return t.querySelectorAll(`.${jn.optgroup}`).forEach((n=>{const i=document.createElement("li");i.classList.add(qn.group);const r=document.createElement("span");if(r.classList.add(qn.groupText),r.textContent=n.label,n.hasAttribute("data-sg-icon")){const t=document.createElement("i");t.className=n.getAttribute("data-sg-icon"),t.classList.add("listing__icon"),r.insertBefore(t,r.firstChild)}else if(n.hasAttribute("data-sg-image")){const t=document.createElement("i");t.classList.add("listing__image"),t.style.backgroundImage=`url('${n.getAttribute("data-sg-image")}')`,r.insertBefore(t,r.firstChild)}const s=document.createElement("ul");s.classList.add(qn.groupList);const o=this.buildOptions(t,n);i.appendChild(r),o.forEach((t=>s.appendChild(t))),i.appendChild(s),e.push(i)})),e}buildOptions(t,e){const n=[],i=e.querySelectorAll(`.${jn.option}`),{optionsToFakeOptions:r}=this.selectMap.get(t);return i.forEach((t=>{const e=document.createElement("li");e.classList.add(qn.item,"pointer"),e.setAttribute("data-sg-select-option-value",t.value),n.push(e),r.set(t,e);const i=this.buildOptionLabel(t);e.appendChild(i)})),n}buildOptionLabel(t){const e=document.createElement("span");if(e.classList.add(qn.text),e.textContent=t.text,t.hasAttribute("data-sg-icon")){const n=document.createElement("i");n.className=t.getAttribute("data-sg-icon"),n.classList.add("listing__icon"),e.insertBefore(n,e.firstChild)}else if(t.hasAttribute("data-sg-image")){const n=document.createElement("i");n.classList.add("listing__image"),n.style.backgroundImage=`url('${t.getAttribute("data-sg-image")}')`,e.insertBefore(n,e.firstChild)}return e}updateLabel(t,e){const{fakeSelectLabel:n}=this.selectMap.get(t),{value:i,text:r}=e;if(n.textContent=i?r:"",e.hasAttribute("data-sg-icon")){const t=document.createElement("i");t.className=e.getAttribute("data-sg-icon"),t.classList.add("listing__icon"),n.insertBefore(t,n.firstChild)}else if(e.hasAttribute("data-sg-image")){const t=document.createElement("i");t.classList.add("listing__image"),t.style.backgroundImage=`url('${e.getAttribute("data-sg-image")}')`,n.insertBefore(t,n.firstChild)}n.setAttribute("data-sg-select-selected-value",i)}getSelectedOption(t){return t.options[t.selectedIndex]}getSelectByFakeOption(t){return t.closest(`.${On.dropdown}`).querySelector(`.${jn.select}.${$n.extended}`)||null}getActiveSelect(){const t=document.querySelector(`.${Dn.open} .${jn.select}.${$n.extendedInit}`),e=Array.from(this.selectMap.values()).find((({fakeSelect:e})=>t===e));return e?e.select:null}activateFakeOption(t){const e=this.getSelectByFakeOption(t);if(e){const{fakeSelect:t}=this.selectMap.get(e);this.deactivateFakeOption({fakeSelect:t})}t.classList.add(Un.itemActive)}deactivateFakeOption({fakeSelect:t,fakeOption:e}){(t?e?[e]:Array.from(t.closest(`.${On.dropdown}`)?.querySelectorAll(`.${Un.itemActive}`)??[]):Array.from(document.querySelectorAll(`.${jn.select} .${Un.itemActive}`))).forEach((t=>t.classList.remove(Un.itemActive)))}preventActivateFakeOptionByHover(t){const{listing:e}=this.selectMap.get(t);e.classList.add(Un.noHover)}allowActivateFakeOptionByHover(t){const{listing:e}=this.selectMap.get(t);e.classList.remove(Un.noHover)}isActivateFakeOptionByHoverAllowed(t){const{listing:e}=this.selectMap.get(t);return!e.classList.contains(Un.noHover)}keyboardHandler(t){const e=this.pressedKeys.isPressed([ge.up]),n=this.pressedKeys.isPressed([ge.down]),i=this.pressedKeys.isPressed([ge.enter]);if(!e&&!n&&!i)return;const r=this.getActiveSelect();if(!r)return;t.preventDefault();const{fakeSelect:s,optionsToFakeOptions:o}=this.selectMap.get(r),a=Array.from(o.values());let l=a.findIndex((t=>t.classList.contains(Un.itemActive)));if(l=-1===l?a.length+1:l,i)return a[l]?.dispatchEvent(new Event("click")),void s.parentElement.classList.remove(Dn.open);this.preventActivateFakeOptionByHover(r),l+=e?-1:n?1:0,l=l<0?a.length-1:l,l=l>=a.length?0:l,a[l].scrollIntoView({behavior:"smooth",block:"nearest"}),this.activateFakeOption(a[l])}}!function(t){t.menu=".menu",t.list=".menu__list",t.item=".menu__item",t.text=".menu__text",t.icon=".menu__icon"}(Wn||(Wn={})),function(t){t.vertical="menu--vertical",t.showInitialCurrentPage="menu--show-initial-current-page",t.listBefore="menu__list--before",t.listAfter="menu__list--after",t.listActive="menu__list--active",t.listActiveFix="menu__list--active-fix",t.itemHover="menu__item--hover",t.itemActive="menu__item--active",t.itemCurrentPath="menu__item--current-path",t.itemCurrentPage="menu__item--current-page",t.itemHasAd="menu__item--has-ad"}(Gn||(Gn={})),function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(Kn||(Kn={})),function(t){t[t.normal=0]="normal",t[t.before=1]="before",t[t.after=2]="after"}(Xn||(Xn={})),function(t){t[t.row=0]="row",t[t.col=1]="col",t[t[void 0]=2]="undefined"}(Zn||(Zn={})),function(t){t.twoColsWithBigAd="menu__list--2-cols-big-ad",t.twoColsWithTwoAds="menu__list--2-cols-2-ads",t.fiveColsWithNoAd="menu__list--5-cols",t.fiveColsWithSmallAd="menu__list--5-cols-small-ad",t.fiveColsWithBigAd="menu__list--5-cols-big-ad",t.sixColsWithSmallAd="menu__list--6-cols-small-ad",t.sixColsWithBigAd="menu__list--6-cols-big-ad",t.sevenColsWithSmallAd="menu__list--7-cols-small-ad",t.eightColsWithSmallAd="menu__list--8-cols-small-ad"}(Jn||(Jn={})),function(t){t.twoRows="menu__list--2-rows"}(Yn||(Yn={}));class li{element;callbackOn;callbackOff;timeoutOn;timeoutOff;addedAlreadyMouseenter;addedAlreadyMouseleave;mouseOnEvent;mouseOffEvent;handleMouseOnEvent;handleMouseOffEvent;constructor(t){this.element=t,this.callbackOn=null,this.callbackOff=null,this.addedAlreadyMouseenter=!1,this.addedAlreadyMouseleave=!1,this.timeoutOn=0,this.timeoutOff=0,this.mouseOnEvent="mouseover",this.mouseOffEvent="mouseout",this.handleMouseOnEvent=t=>{if(!this.callbackOn)return;if(0===this.timeoutOn)return void this.callbackOn(t);const e=setTimeout((()=>{this.isHovered()&&this.callbackOn(t),clearTimeout(e)}),this.timeoutOn)},this.handleMouseOffEvent=t=>{if(!this.callbackOff)return;if(0===this.timeoutOff)return void this.callbackOff(t);const e=setTimeout((()=>{this.isHovered()||this.callbackOff(t),clearTimeout(e)}),this.timeoutOff)}}set on(t){this.callbackOn=t}set off(t){this.callbackOff=t}get timeOn(){return this.timeoutOn}set timeOn(t){this.timeoutOn=t}get timeOff(){return this.timeoutOff}set timeOff(t){this.timeoutOff=t}start(){this.callbackOn&&!this.addedAlreadyMouseenter&&(this.element.addEventListener(this.mouseOnEvent,this.handleMouseOnEvent,!1),this.addedAlreadyMouseenter=!0),this.callbackOff&&!this.addedAlreadyMouseleave&&(this.element.addEventListener(this.mouseOffEvent,this.handleMouseOffEvent,!1),this.addedAlreadyMouseleave=!0)}stop(){this.addedAlreadyMouseenter&&(this.element.removeEventListener(this.mouseOnEvent,this.handleMouseOnEvent),this.addedAlreadyMouseenter=!1),this.addedAlreadyMouseleave&&(this.element.removeEventListener(this.mouseOffEvent,this.handleMouseOffEvent),this.addedAlreadyMouseleave=!1)}isHovered(){return this.element.matches(":hover")}}class ci{element;touchCallee;tapedTwice;time;callbacks;constructor(t){this.element=t,this.callbacks=[],this.tapedTwice=!1,this.time=300,this.touchCallee=t=>{this.tapedHandler(t)},this.start()}add(t){this.callbacks.push(t)}get timeout(){return this.time}set timeout(t){this.time=t}start(){this.element.addEventListener("touchstart",this.touchCallee)}stop(){this.element.removeEventListener("touchstart",this.touchCallee)}tapedHandler(t){if(!this.tapedTwice)return this.tapedTwice=!0,setTimeout((()=>{this.tapedTwice=!1}),this.timeout),!1;t.preventDefault(),this.callbacks.forEach((e=>e(t)))}}class ui{parentItem;logger;constructor(){this.logger=Ee.get("Logger"),this.logger.debug("MenuTextFactory created")}create(t){this.parentItem=t;const e=this.findTextElement();return this.validate(e)?this.getInstance(e):null}findTextElement(){return this.parentItem.element?.querySelector(`:scope > ${Wn.text}`)}validate(t){const e=!t;return!(e&&this.parentItem.hasAd||e&&(this.logger.error("Text in given item is missing.",this.parentItem),1))}getInstance(t){return this.parentItem.parent.style===Zn.col||wi.isItemAbovePopup(this.parentItem)?new pi(this.parentItem,t):this.parentItem.parent.style===Zn.row?new fi(this.parentItem,t):new gi(this.parentItem,t)}}const di={timeOn:0,timeOff:0},hi={timeOn:50,timeOff:50};class gi{parent;element;hoverHandler;activeHandler;menuRef;logger;constructor(t,e){this.parent=t,this.element=e,this.logger=Ee.get("Logger"),this.logger.debug("MenuText created")}get menu(){return this.menuRef=this.menuRef?this.menuRef:this.parent.menu,this.menuRef}get isLink(){return"a"===this.element.tagName.toLowerCase()}get linkAddress(){return this.element.getAttribute("href")}addEventHandler(){this.addHoverModifierEvent(),this.addActiveModifierEvent()}setInitialState(){}notifyChangeIn(t){this.updateTimingValues()}get hoverTimingValues(){return di}get activeTimingValues(){return this.menuIsHorizontal&&this.menu.isAnyItemActive?{timeOn:200,timeOff:100}:hi}get menuIsHorizontal(){return this.menu.orientation===Kn.horizontal}addHoverModifierEvent(){const{timeOn:t,timeOff:e}=this.hoverTimingValues;this.hoverHandler=new li(this.element),this.hoverHandler.on=()=>this.menuIsHorizontal&&this.parent.setHover(),this.hoverHandler.off=()=>this.menuIsHorizontal&&this.parent.resetHover(),this.hoverHandler.timeOn=t,this.hoverHandler.timeOff=e,this.hoverHandler.start()}addActiveModifierEvent(){const{timeOn:t,timeOff:e}=this.hoverTimingValues;this.activeHandler=new li(this.element),this.activeHandler.on=()=>this.menuIsHorizontal&&this.parent.activated(),this.activeHandler.off=()=>this.menuIsHorizontal&&this.parent.deactivated(),this.activeHandler.timeOn=t,this.activeHandler.timeOff=e,this.activeHandler.start()}updateTimingValues(){if(this.hoverHandler){const{timeOn:t,timeOff:e}=this.hoverTimingValues;this.hoverHandler.timeOn=t,this.hoverHandler.timeOff=e}if(this.activeHandler){const{timeOn:t,timeOff:e}=this.activeTimingValues;this.activeHandler.timeOn=t,this.activeHandler.timeOff=e}}}class pi extends gi{isItemAbovePopup;activeMenuHandler;doubleTap;escapeTrigger;bodyClickTrigger;constructor(t,e){super(t,e),this.bodyClickTrigger=Ee.get("BodyClickTrigger"),this.isItemAbovePopup=wi.isItemAbovePopup(this.parent)}get activeTimingValues(){return this.menuIsHorizontal&&this.menu.isAnyItemActive&&this.parent.parent.layer<2?{timeOn:100,timeOff:100}:hi}addActiveModifierEvent(){this.isItemAbovePopup?this.addActiveModifierEventToPopupOpenerItem():super.addActiveModifierEvent()}updateTimingValues(){const{timeOn:t,timeOff:e}=this.hoverTimingValues;this.hoverHandler&&(this.hoverHandler.timeOn=t,this.hoverHandler.timeOff=e);const{timeOn:n,timeOff:i}=this.activeTimingValues;this.activeHandler&&(this.activeHandler.timeOn=n,this.activeHandler.timeOff=i),this.activeMenuHandler&&(this.activeMenuHandler.timeOn=n,this.activeMenuHandler.timeOff=i)}addActiveModifierEventToPopupOpenerItem(){const{timeOn:t,timeOff:e}=this.activeTimingValues;this.activeHandler=new li(this.element),this.activeHandler.on=()=>this.mouseEnterPopupOpenerItem(),this.activeHandler.timeOn=t,this.activeHandler.start(),this.activeMenuHandler=new li(this.menu.element),this.activeMenuHandler.off=()=>this.mouseLeaveMenu(),this.activeMenuHandler.timeOff=e,this.activeMenuHandler.start(),this.element.addEventListener("touchstart",(t=>this.tapOnPopupOpenerItem(t)),!1),this.doubleTap=new ci(this.element),this.doubleTap.add((t=>this.doubleTapOnPopupOpenerItem(t))),this.escapeTrigger=tn.Instance,this.escapeTrigger.add((()=>this.closePopup())),this.bodyClickTrigger.add((()=>this.closePopup()))}mouseEnterPopupOpenerItem(){if(!this.menuIsHorizontal)return;const t=this.parent;this.setPopupArrowLeftOssetForItem(t),this.menu.deactivatedAllItems([t]),t.activated()}mouseLeaveMenu(){this.menuIsHorizontal&&this.parent.deactivated()}tapOnPopupOpenerItem(t){if(!this.menuIsHorizontal)return!0;if(this.parent.isActivated)return!0;const e=this.parent;return this.setPopupArrowLeftOssetForItem(e),this.menu.deactivatedAllItems([e]),e.activated(),t.stopPropagation(),t.preventDefault(),!1}doubleTapOnPopupOpenerItem(t){t.stopPropagation(),t.preventDefault()}closePopup(){this.parent.deactivated()}setPopupArrowLeftOssetForItem(t,e=17){const{offsetLeft:n,offsetWidth:i}=t.element;if(isNaN(n)||0===e)return;const r=Math.floor(n+(i/2-e/2));isNaN(r)||document.documentElement.style.setProperty("--sg-menu-hori-popup-arrow-left",`${r}px`)}}class fi extends gi{constructor(t,e){super(t,e)}get activeTimingValues(){return this.menuIsHorizontal&&this.menu.isAnyItemActive&&this.parent.parent.layer<4?{timeOn:200,timeOff:200}:di}}class mi{parentItem;logger;constructor(){this.logger=Ee.get("Logger"),this.logger.debug("MenuIconFactory initialized")}create(t){this.parentItem=t;const e=this.findIconElement();return this.validate(e)&&e?this.getInstance(e):null}findIconElement(){return this.parentItem.element?.querySelector(`:scope > ${Wn.icon}`)}validate(t){const e=!t;return!((!e||!this.parentItem.hasAd)&&e&&this.parentItem.hasChildList&&(this.logger.warn("An item with a sub list must have an icon.",this.parentItem),1))}getInstance(t){return new vi(this.parentItem,t)}}class vi{parent;element;menuRef;logger;constructor(t,e){this.parent=t,this.element=e,this.logger=Ee.get("Logger"),this.logger.debug("MenuIcon initialized")}get menu(){return this.menuRef=this.menuRef?this.menuRef:this.parent.menu,this.menuRef}addEventHandler(){this.addClickEvent()}setInitialState(){}notifyChangeIn(t){}addClickEvent(){this.element.addEventListener("click",(()=>{this.menu.orientation===Kn.vertical&&this.parent.toggleActivation()}))}}class yi{parentList;logger;constructor(){this.logger=Ee.get("Logger"),this.logger.debug("MenuItemFactory initialized")}create(t){this.parentList=t;const e=this.findItemElements();return this.validate(e)?e.map((t=>this.getInstance(t))):[]}findItemElements(){return Array.from(this.parentList.element.children).filter((t=>t.matches(Wn.item)))}validate(t){return 0!==t.length||(this.logger.error("Items in given list are missing.",this.parentList),!1)}getInstance(t){const e=new Si,n=new ui,i=new mi,r=wi.isItemElementAbovePopup(t,this.parentList),s=Ai.isItemElementAboveRows(t,this.parentList),o=this.parentList.style===Zn.col,a=this.parentList.style===Zn.row;return r||o?new wi(e,n,i,this.parentList,t):a||s?new Ai(e,n,i,this.parentList,t):new bi(e,n,i,this.parentList,t)}}class bi{parent;element;text;icon;childList;listFactory;textFactory;iconFactory;menuRef;allParentListsRef;allSubListsRef;allItemsRef;logger;constructor(t,e,n,i,r){this.listFactory=t,this.textFactory=e,this.iconFactory=n,this.parent=i,this.element=r,this.logger=Ee.get("Logger"),this.initializeChildNodes(),this.logger.debug("MenuItem initialized",this)}get menu(){return this.menuRef=this.menuRef?this.menuRef:this.parent.menu,this.menuRef}get isCurrentPage(){return this.element.classList.contains(Gn.itemCurrentPage)}get isCurrentPath(){return this.element.classList.contains(Gn.itemCurrentPath)}get isActivated(){return this.element.classList.contains(Gn.itemActive)}get isHovered(){return this.element.classList.contains(Gn.itemHover)}get hasAd(){return this.element.classList.contains(Gn.itemHasAd)}get hasChildList(){return!!this.childList}get allParentLists(){return this.allParentListsRef||(this.allParentListsRef=[this.parent,...this.parent.allParentLists]),this.allParentListsRef}get allParentItems(){return this.parent.allParentItems}get allSubLists(){return this.allSubListsRef||(this.allSubListsRef=this.childList?[this.childList,...this.childList.allSubLists]:[]),this.allSubListsRef}get allItems(){return this.allItemsRef||(this.allItemsRef=this.childList?[this,...this.childList.allItems]:[this]),this.allItemsRef}get directChildItems(){return this.childList?.items??[]}addEventHandler(){this.addHoverModifierEvent(),this.text?.addEventHandler(),this.icon?.addEventHandler(),this.childList?.addEventHandler()}setInitialState(){this.text?.setInitialState(),this.icon?.setInitialState(),this.childList?.setInitialState(),this.resetHover(!1),this.setCurrentPath(),this.menu.showInitialCurrentPageItem&&this.isCurrentPath?this.activated(!1):this.deactivated(!1)}setCurrentPage(){this.element.classList.add(Gn.itemCurrentPage)}removeCurrentPage(){this.element.classList.remove(Gn.itemCurrentPage)}activated(t=!0){if(!this.childList)return;const e=this.isActivated;this.element.classList.add(Gn.itemActive),!e&&t&&this.menu.stateChangeIn(this),this.childList?.activated()}deactivated(t=!0){const e=this.isActivated;this.element.classList.remove(Gn.itemActive),e&&this.menu.stateChangeIn(this),this.childList?.deactivated(t)}toggleActivation(t=!0){this.isActivated?this.deactivated(t):this.activated(t)}setHover(t=!0){const e=this.isHovered;this.element.classList.add(Gn.itemHover),!e&&t&&this.menu.stateChangeIn(this)}resetHover(t=!0){const e=this.isHovered;this.element.classList.remove(Gn.itemHover),e&&t&&this.menu.stateChangeIn(this)}toggleHover(t=!0){this.isHovered?this.resetHover(t):this.setHover(t)}notifyChangeIn(t){this.text?.notifyChangeIn(t),this.icon?.notifyChangeIn(t),this.childList?.notifyChangeIn(t)}get menuIsHorizontal(){return this.menu.orientation===Kn.horizontal}addHoverModifierEvent(){this.element.addEventListener("mouseover",(t=>{this.menuIsHorizontal||(this.setHover(),t.stopPropagation())}),!1),this.element.addEventListener("mouseout",(t=>{this.menuIsHorizontal||(this.resetHover(),t.stopPropagation())}),!1)}initializeChildNodes(){this.childList=this.listFactory.create(this)[0],this.text=this.textFactory.create(this),this.icon=this.iconFactory.create(this)}setCurrentPath(){(this.isCurrentPage||(()=>this.allItems.some((t=>t.isCurrentPage)))())&&this.element.classList.add(Gn.itemCurrentPath)}}class wi extends bi{static isItemElementAbovePopup(t,e){if(e.isSubList)return!1;if(e.style!==Zn.undefined)return!1;const n=t.querySelector(`:scope > ${Wn.list}`);return!!n&&Object.values(Jn).some((t=>n.classList.contains(t)))}static isItemAbovePopup(t){return wi.isItemElementAbovePopup(t.element,t.parent)}constructor(t,e,n,i,r){super(t,e,n,i,r)}activated(){!this.parent.isSubList&&this.setPopupArrowLeftOffsetForItem(),super.activated()}setPopupArrowLeftOffsetForItem(t=17){if(isNaN(this.element.offsetLeft)&&0===t)return;const e=Math.floor(this.element.offsetLeft+(this.element.offsetWidth/2-t/2));isNaN(e)||document.documentElement.style.setProperty("--sg-menu-hori-popup-arrow-left",`${e}px`)}}class Ai extends bi{static isItemElementAboveRows(t,e){if(e.isSubList)return!1;if(e.style!==Zn.undefined)return!1;const n=t.querySelector(`:scope > ${Wn.list}`);return!!n&&Object.values(Yn).some((t=>n.classList.contains(t)))}constructor(t,e,n,i,r){super(t,e,n,i,r)}activated(){super.activated()}}class Si{parent;logger;constructor(){this.logger=Ee.get("Logger"),this.logger.debug("MenuListFactory created")}create(t){return this.parent=t,this.isParentMenu?this.createMenuSubList():this.createItemSubList()}get isParentMenu(){return"orientation"in this.parent}createMenuSubList(){const t=this.findMenuSubListElements();return this.validateMenuSubLists(t)?t.map((t=>this.getInstance(t))):[]}createItemSubList(){const t=this.findItemSubListElement();return t?[this.getInstance(t)]:[null]}findMenuSubListElements(){const t=this.parent.element?.querySelectorAll(`:scope > ${Wn.list}`);return Array.from(t)}findItemSubListElement(){const t=this.parent.element?.querySelector(`:scope > ${Wn.list}`);return t||null}validateMenuSubLists(t){return 0!==t.length||(this.logger.error("A menu must have one or more lists.",this.parent),!1)}getInstance(t){const e=this.getListStyle(t),n=new yi;switch(e){case Zn.col:return new Ii(n,this.parent,t);case Zn.row:return new Ti(n,this.parent,t);default:return new _i(n,this.parent,t)}}getListStyle(t){const e=!this.isParentMenu;return Ii.hasListOrItsParentTheColStyle(this.parent,t,e)?Zn.col:Ti.hasListOrItsParentTheRowStyle(this.parent,t,e)?Zn.row:Zn.undefined}}class _i{parent;element;items;style;itemFactory;menuRef;allParentListsRef;allParentItemsRef;allSubListsRef;allItemsRef;logger;constructor(t,e,n,i=Zn.undefined){this.itemFactory=t,this.parent=e,this.element=n,this.style=i,this.logger=Ee.get("Logger"),this.initializeChildNodes(),this.logger.debug("MenuList created")}get menu(){return this.menuRef=this.menuRef?this.menuRef:this.parent.menu,this.menuRef}get isSubList(){return this.layer>1}get layer(){return this.isParentMenu?1:this.parent.parent.layer+1}get order(){return this.element.classList.contains(Gn.listBefore)?Xn.before:this.element.classList.contains(Gn.listAfter)?Xn.after:Xn.normal}get isParentMenu(){return"orientation"in this.parent}get isActivated(){return this.element.classList.contains(Gn.listActive)}get allParentLists(){if(!this.allParentListsRef)if(this.isParentMenu)this.allParentListsRef=[];else{const t=this.parent;this.allParentListsRef=t.allParentLists}return this.allParentListsRef}get allParentItems(){if(!this.allParentItemsRef)if(this.isParentMenu)this.allParentItemsRef=[];else{const t=this.parent;this.allParentItemsRef=[t,...t.allParentItems]}return this.allParentItemsRef}get allSubLists(){return this.allSubListsRef||(this.allSubListsRef=this.items.map((t=>t.allSubLists)).flat()),this.allSubListsRef}get allItems(){return this.allItemsRef||(this.allItemsRef=[...this.items.map((t=>t.allItems)).flat()]),this.allItemsRef}get isCurrentPath(){return this.allItems.some((t=>t.isCurrentPath||t.isCurrentPage))}addEventHandler(){this.items.forEach((t=>t.addEventHandler()))}setInitialState(){this.items.forEach((t=>t.setInitialState())),this.menu.showInitialCurrentPageItem&&this.isCurrentPath?this.activated(!1):this.deactivated(!1)}getAllFirstChildItemsRecursive(t=Number.MAX_SAFE_INTEGER){if(this.layer>t)return[];const e=this.items[0],n=e.childList?.getAllFirstChildItemsRecursive(t)??[];return[e,...n]}activated(t=!0){const e=this.isActivated;this.element.classList.add(Gn.listActive),!e&&t&&this.menu.stateChangeIn(this)}deactivated(t=!0){const e=this.isActivated;this.element.classList.remove(Gn.listActive),e&&t&&this.menu.stateChangeIn(this)}toggleActivation(t=!0){this.isActivated?this.deactivated(t):this.activated(t)}notifyChangeIn(t){this.items.map((e=>e.notifyChangeIn(t)))}initializeChildNodes(){this.items=this.itemFactory.create(this)}}class Ii extends _i{static hasListOrItsParentTheColStyle(t,e,n){const i=Object.values(Jn).some((t=>e.classList.contains(t))),r=n&&t.parent.style===Zn.col;return i||r}constructor(t,e,n,i=Zn.col){super(t,e,n,i)}activated(){super.activated()}deactivated(){super.deactivated()}initializeChildNodes(){super.initializeChildNodes()}}class Ti extends _i{static hasListOrItsParentTheRowStyle(t,e,n){const i=Object.values(Yn).some((t=>e.classList.contains(t))),r=n&&t.parent.style===Zn.row;return i||r}constructor(t,e,n,i=Zn.row){super(t,e,n,i)}setInitialState(){super.setInitialState();const t=this.items[0],e=t?.childList?.items[0]??null,n=2===this.layer,{element:i}=this.menu.lists.filter((t=>t.order===Xn.normal))[0].items[0],r=this.parent.element===i,s=this.order===Xn.normal;n&&r&&s&&t&&e&&(this.activated(!1),t.activated(!1),e.activated(!1))}}class Ci{create(t){const e=new Si;return new Ei(e,t)}}class Ei{parent;element;lists;menuListFactory;allChildListsRef;allChildItemsRef;constructor(t,e){this.menuListFactory=t,this.parent=null,this.element=e,this.initializeChildNodes()}get menu(){return this}get orientation(){let t=Kn.vertical,e=null;try{e=window?.getComputedStyle?window.getComputedStyle(this.element,"::before").content.replace(/"/g,""):null}catch(t){e=null}return t=e?e.includes("vertical")?Kn.vertical:Kn.horizontal:this.element.classList.contains(Gn.vertical)?Kn.vertical:Kn.horizontal,t}get allChildLists(){return this.allChildListsRef||(this.allChildListsRef=this.lists.map((t=>[t,...t.allSubLists])).flat()),this.allChildListsRef}get allChildItems(){return this.allChildItemsRef||(this.allChildItemsRef=this.lists.map((t=>t.allItems)).flat()),this.allChildItemsRef}get isAnyItemActive(){return this.allChildItems.some((t=>t.isActivated))}get pathToCurrentPageItem(){return this.allChildItems.filter((t=>t.isCurrentPath))}get showInitialCurrentPageItem(){return this.element.classList.contains(Gn.showInitialCurrentPage)}addEventHandler(){this.lists.forEach((t=>t.addEventHandler()))}setInitialState(t=null){let e=this.allChildItems.find((t=>t.isCurrentPage));!e&&t&&(e=this.allChildItems.filter((t=>t.text.isLink)).find((e=>e.text.linkAddress===t)),e?.setCurrentPage()),e&&this.allChildItems.filter((t=>t.isCurrentPage)).filter((t=>t.element!==e.element)).forEach((t=>t.removeCurrentPage())),this.lists.forEach((t=>t.setInitialState()))}deactivatedAllItems(t=[]){const e=t.map((t=>t.element));this.allChildItems.filter((t=>t.isActivated)).filter((t=>!e.includes(t.element))).forEach((t=>t.deactivated(!1))),this.stateChangeIn(this)}stateChangeIn(t){this.notifyChangeIn(t)}notifyChangeIn(t){this.lists.map((e=>e.notifyChangeIn(t)))}initializeChildNodes(){this.lists=this.menuListFactory.create(this)}}class Li{static instance;observer;register;menuFactory;menus;menuCurrentPageItemTextLink;logger;static get Instance(){return Li.instance||(Li.instance=new Li),Li.instance}static getMenu(t){return Li.Instance.menus.find((e=>e.element===t))}static deactivatedMenus(t){const e=Li.Instance;t?e.menus.filter((e=>t.contains(e.element))).forEach((t=>t.deactivatedAllItems([]))):e.menus.forEach((t=>t.deactivatedAllItems([])))}constructor(){return this.menuFactory=new Ci,this.register=new Qe,this.menus=[],this.menuCurrentPageItemTextLink=window.sgMenuCurrentPageItemTextLink??null,this.logger=Ee.get("Logger"),this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("MenuHandler initialized"),this}get selector(){return Wn.menu}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("menu")}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a menu node");if(this.register.isRegistered(t))return;this.register.register(t);const e=this.menuFactory.create(t);e.addEventHandler(),e.setInitialState(this.menuCurrentPageItemTextLink),this.menus.push(e)}setHorizontal(t){t.classList.remove(Gn.vertical)}setVertical(t){t.classList.add(Gn.vertical)}}var xi,ki,Pi,Mi,Ri,Hi,Oi,Di,Ni,Bi,zi,Vi,Fi,ji,$i,qi,Ui,Wi,Gi,Ki,Xi,Zi,Ji,Yi;!function(t){t.show="quote-ticker--show",t.runMarquee="quote-ticker--run-marquee"}(xi||(xi={}));class Qi{static instance;observer;register;logger;delayManager;static get Instance(){return Qi.instance||(Qi.instance=new Qi),Qi.instance}constructor(){this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("Quote ticker handler initialized")}get selector(){return".quote-ticker"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("quote-ticker")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.setAnimationSpeed(t),this.needsAnimation(t)&&this.start(t),this.show(t),window.addEventListener("resize",this.delayManager.debounce((()=>{this.needsAnimation(t)?this.start(t):this.stop(t)}),10),!1)):this.logger.error("Given parameter is not a quote ticker node")}show(t){t.classList.add(xi.show)}hide(t){t.classList.remove(xi.show)}start(t){t.classList.add(xi.runMarquee)}stop(t){t.classList.remove(xi.runMarquee)}needsAnimation(t){const e=t.querySelector(".quote-ticker__marquee");return!!e&&t.clientWidth<e.clientWidth}setAnimationSpeed(t){const e=t.querySelector(".quote-ticker__marquee");if(e){const n=t.innerText.length;e.style.animationDuration=n/5+"s"}}}!function(t){t[t.left=0]="left",t[t.right=1]="right"}(ki||(ki={})),function(t){t.left="icon--arrow-left",t.leftDouble="icon--arrow-double-left",t.right="icon--arrow-right",t.rightDouble="icon--arrow-double-right"}(Pi||(Pi={})),function(t){t.pagination="pagination",t.list="pagination__list",t.item="pagination__item",t.text="pagination__text"}(Mi||(Mi={})),function(t){t.active="pagination__item--active",t.desktop="pagination--desktop",t.mobile="pagination--mobile",t.disable="pagination--disable",t.disableItem="pagination__item--disable"}(Ri||(Ri={})),function(t){t.mobile="data-sg-pagination-mobile",t.range="data-sg-pagination-range",t.rangeMin="data-sg-pagination-range-min",t.rangeMax="data-sg-pagination-range-max",t.link="data-sg-pagination-link",t.callback="onchange",t.page="data-sg-pagination-page",t.activeItem="data-sg-pagination-current"}(Hi||(Hi={}));class tr{static instance;observer;register;mapToMobile;logger;static get Instance(){return tr.instance||(tr.instance=new tr),tr.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.mapToMobile=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("PaginationHandler initialized")}get selector(){return`.${Mi.pagination}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(Mi.pagination)}initialize(t){if(this.isComponent(t)){if(!this.register.isRegistered(t)){this.register.register(t);try{if(!this.validateDataAttributesForMobile(t))return;this.mapToMobile.set(t,new er(t)),this.mapToMobile.get(t).build()}catch(e){this.logger.log("Error while creating mobile pagination",t,e)}}}else this.logger.log("Given parameter is not a pagination node")}validateDataAttributesForMobile(t){if("true"!==t.getAttribute(Hi.mobile)?.toLowerCase())return!1;if(t.querySelectorAll(`.${Ri.active}`).length>1)return this.logger.log(`Error in pagination, only one item is allowed to be active, see ${De(Ue)}.`,t),!1;const e=t.hasAttribute(Hi.range),n=t.hasAttribute(Hi.rangeMin),i=t.hasAttribute(Hi.rangeMax),r=e||n&&i&&n===i,s=t.hasAttribute(Hi.link),o=t.hasAttribute(Hi.callback),a=s||o&&s!==o,l=Array.from(t.querySelectorAll(`.${Mi.item}`)).filter((t=>!t.querySelector(".icon"))).filter((t=>!t.classList.contains(Ri.disableItem))).every((t=>t.hasAttribute(Hi.page)));if(!r||!a||!l)return this.logger.log(`Error in pagination data attributes, see ${De(Ue.mobile)}.`,t),!1;try{const r=(e?t.getAttribute(Hi.range):"").split(",").map((t=>+t.trim())),s=Array.isArray(r)&&r.length>0,o=n?+t.getAttribute(Hi.rangeMin):-1,a=i?+t.getAttribute(Hi.rangeMax):-1;if(!(o>-1&&a>-1||s))throw new Error("Range not correct define.")}catch(e){return this.logger.log(`Error in pagination data attribute "${Hi.range}", see ${De(Ue.mobile)}.`,t),!1}const c=t.getAttribute(Hi.link)?.includes("{PAGE}")??!1;return!(s&&!c&&(this.logger.log(`Error in pagination data attribute "${Hi.link}", see ${De(Ue.mobile)}.`,t),1))}}class er{pagination;mobilePagination;_values;_currPageTextTmpl;logger;delayManager;constructor(t){this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.pagination=t}build(){this.pagination.classList.add(Ri.desktop),this.mobilePagination=document.createElement("nav"),this.mobilePagination.classList.add(Mi.pagination,Ri.mobile),this.buildMobilePaginationWithArrows(this.mobilePagination),this.pagination.after(this.mobilePagination)}get values(){if(!this._values){const t=(t,e)=>Array(e-t+1).fill(1).map(((e,n)=>t+n)),e=this.pagination.querySelector(`.${Ri.active}`),n=this.pagination.querySelectorAll(`[${Hi.page}]`)[0],i=e??n,r=+i?.getAttribute(Hi.page),s=this.pagination.hasAttribute(Hi.range),o=s?this.pagination.getAttribute(Hi.range)?.split(",").map((t=>+t.trim())):[],a=this.pagination.hasAttribute(Hi.rangeMin),l=this.pagination.hasAttribute(Hi.rangeMax),c=a?this.pagination.getAttribute(Hi.rangeMin):-1,u=l?this.pagination.getAttribute(Hi.rangeMax):-1,d=s?o[0]:+c,h=s?o[o.length-1]:+u,g=t(d,h),p=this.pagination.getAttribute(Hi.link)??null,f=!!p,m=!f&&this.pagination.hasAttribute(Hi.callback);this._values={range:g,minItem:d,maxItem:h,selectedItem:r,link:p,useLink:f,useCallback:m}}return this._values}setSelectedItem(t){this._values.selectedItem=t}get currPageTextTmpl(){return this._currPageTextTmpl||(this._currPageTextTmpl=bn.get("pagination-page").replace("{MAX_PAGE}",this.values.maxItem.toString())),this._currPageTextTmpl}buildMobilePaginationWithArrows(t){this.buildLeftRightArrows(t,ki.left),t.appendChild(this.buildSelect()),this.buildLeftRightArrows(t,ki.right)}buildSelect(){const t=document.createElement("select");return t.classList.add("select"),this.values.range.map((e=>{const n=e.toString(),i=document.createElement("option");i.classList.add("select__option"),i.value=n,e===this.values.selectedItem?(i.selected=!0,this.setCurrOptionText(i,e)):this.setOptionText(i,e),t.appendChild(i)})),t.addEventListener("change",(()=>{const e=+t.options[t.selectedIndex].value;this.changedSelectBox(e)})),t}changedSelectBox(t){const e=this.mobilePagination.querySelector("select"),n=e.options[e.selectedIndex],i=t;this.setCurrOptionText(n,i),this.setSelectedItem(t),this.gotoToNewPage(i),this.delayManager.timeout((()=>{this.rebuild()}),50)}setCurrOptionText(t,e){t.text=this.currPageTextTmpl.replace("{CURRENT_PAGE}",e.toString()),t.setAttribute(Hi.activeItem,"true")}setOptionText(t,e){t.text=e.toString(),t.removeAttribute(Hi.activeItem)}gotoToNewPage(t){const e=this.pagination.querySelector(`.${Ri.active}`),n=this.pagination.querySelector(`[${Hi.page}="${t.toString()}"]`);e?.classList.remove(Ri.active),n?.classList.add(Ri.active),this.values.useLink&&this.openLink(t),this.values.useCallback&&this.callCallback(t)}callCallback(t){try{const e=new CustomEvent("change",{detail:{page:t}});this.pagination.dispatchEvent(e)}catch(t){this.logger.log("Error while trigger callback method for pagination",t)}}openLink(t){try{const e=this.values.link.replace("{PAGE}",t.toString());window.location.href=e}catch(t){this.logger.log("Error while open link for pagination")}}buildLeftRightArrows(t,e){const n=e===ki.left;t.appendChild(this.buildArrow(e,!n)),t.appendChild(this.buildArrow(e,n))}buildArrow(t,e){let n;const i=this.getArrowIcon(t,e),r=e?1:10;let s=!1,o="";t===ki.left?(n=Math.max(this.values.minItem,this.values.selectedItem-r),s=this.values.selectedItem===this.values.minItem,o=e?bn.get("previous"):bn.get("jump-backward")):t===ki.right&&(n=Math.min(this.values.maxItem,this.values.selectedItem+r),s=this.values.selectedItem===this.values.maxItem,o=e?bn.get("next"):bn.get("jump-forward"));const a=document.createElement("div");a.classList.add(Mi.item),a.classList.toggle(Ri.disableItem,s);const l=document.createElement("span");l.classList.add(Mi.text),l.setAttribute(Hi.page,n.toString()),l.title=o,a.appendChild(l);const c=document.createElement("span");return c.classList.add("icon",i),l.appendChild(c),a.addEventListener("click",(()=>{this.changedSelectBox(n)})),a}getArrowIcon(t,e){return t===ki.left?e?Pi.left:Pi.leftDouble:e?Pi.right:Pi.rightDouble}rebuild(){this.mobilePagination.remove(),this.build()}}!function(t){t.tooltip="tooltip",t.content="tooltip__content",t.arrow="tooltip__arrow",t.fixed="tooltip--fixed",t.show="tooltip--show",t.initial="tooltip--initial",t.arrowRight="tooltip__arrow--right-line",t.arrowBottom="tooltip__arrow--bottom-line",t.arrowLeft="tooltip__arrow--left-line"}(Oi||(Oi={})),function(t){t.tooltip="data-sg-tooltip",t.id="data-sg-tooltip-id",t.refElement="data-sg-tooltip-ref",t.openBy="data-sg-tooltip-open-by",t.closeBy="data-sg-tooltip-close-by",t.strategy="data-sg-tooltip-strategy",t.placement="data-sg-tooltip-placement"}(Di||(Di={})),function(t){t[t.text=0]="text",t[t.content=1]="content",t[t.unknown=2]="unknown"}(Ni||(Ni={})),function(t){t[t.default=0]="default",t[t.event=1]="event",t[t.delay=2]="delay"}(Bi||(Bi={})),function(t){t[t.default=0]="default",t[t.event=1]="event",t[t.mouseout=2]="mouseout",t[t.clickOutside=3]="clickOutside"}(zi||(zi={})),function(t){t.absolute="absolute",t.fixed="fixed"}(Vi||(Vi={})),function(t){t[t.default=0]="default",t[t.time=1]="time",t[t.average=2]="average"}(Fi||(Fi={})),function(t){t.time="performance-bar--time",t.average="performance-bar--average",t.positive="performance-bar--positive",t.negative="performance-bar--negative"}(ji||(ji={}));class nr{static instance;observer;register;mutationObserverMap;logger;static get Instance(){return nr.instance||(nr.instance=new nr),nr.instance}constructor(){this.logger=Ee.get("Logger"),this.mutationObserverMap=new Map,this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("PerformanceBarHandler initialized")}get selector(){return".performance-bar"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("performance-bar")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.setCustomProperties(t),this.addDescription(t),this.start(t)):this.logger.error("Given parameter is not a performance bar node")}start(t){if(!this.mutationObserverMap.has(t)){const e=new MutationObserver((t=>this.mutationCallback(t)));this.mutationObserverMap.set(t,e)}this.mutationObserverMap.get(t).observe(t,{attributes:!0})}stop(t){this.mutationObserverMap.get(t).disconnect()}getVariant(t){return this.isComponent(t)?t.classList.contains(ji.time)?Fi.time:t.classList.contains(ji.average)?Fi.average:Fi.default:(this.logger.error("Given element is not a performance bar."),Fi.default)}getValues(t){return{value:Number.parseFloat(t?.dataset?.sgPerformanceBarValue??"0"),minValue:Number.parseFloat(t?.dataset?.sgPerformanceBarMinValue??"0"),maxValue:Number.parseFloat(t?.dataset?.sgPerformanceBarMaxValue??"0"),currValue:Number.parseFloat(t?.dataset?.sgPerformanceBarCurrValue??"0"),startValue:Number.parseFloat(t?.dataset?.sgPerformanceBarStartValue??"0"),perfValue:Number.parseFloat(t?.dataset?.sgPerformanceBarPerfValue??"0")}}setCustomProperties(t){const e=this.getVariant(t),n=this.getValues(t);switch(e){case Fi.default:this.setDefaultBarCustomProperties(t,n);break;case Fi.time:this.setTimeBarCustomProperties(t,n);break;case Fi.average:this.setAverageBarCustomProperties(t,n)}}setDefaultBarCustomProperties(t,e){t.style.setProperty("--sg-performance-bar-value",`${Math.abs(e.value)}%`),t.style.setProperty("--sg-performance-bar-text",`"\\00a0 \\00a0 ${e.value}%"`),t.classList.toggle(ji.negative,e.value<0)}setTimeBarCustomProperties(t,e){const{maxValue:n,minValue:i,currValue:r,startValue:s}=e;let o=0;n!==i&&i<=r&&r<=n&&(o=(r-i)/(n-i)*100);let a=o,l=0;n!==i&&i<=s&&s<=n&&(s<r?(a=(s-i)/(n-i)*100,l=o-a):s>r&&(a=o,l=(s-i)/(n-i)*100-a)),t.style.setProperty("--sg-performance-bar-curr-value-pos",`${o.toString()}%`),t.style.setProperty("--sg-performance-bar-start-value-pos-left",`${a.toString()}%`),t.style.setProperty("--sg-performance-bar-start-value-pos-width",`${l.toString()}%`),t.classList.toggle(ji.negative,r<s)}setAverageBarCustomProperties(t,e){const{maxValue:n,minValue:i,perfValue:r}=e;let s=0;n!==i&&i<=r&&r<=n&&(s=(r-i)/(n-i)*100),t.style.setProperty("--sg-performance-bar-curr-value-pos",`${s.toString()}%`)}mutationCallback(t){if(!Array.isArray(t))return void(t=[]);const e=["data-sg-performance-bar-value","data-sg-performance-bar-min-value","data-sg-performance-bar-max-value","data-sg-performance-bar-curr-value","data-sg-performance-bar-start-value","data-sg-performance-bar-perf-value"];t.filter((t=>"attributes"===t.type)).filter((t=>e.includes(t.attributeName))).forEach((t=>{const e=t.target;this.setCustomProperties(e),this.updateDescription(e)}))}addDescription(t){let e="";switch(this.getVariant(t)){case Fi.time:e=bn.get("performance-bar-time");break;case Fi.average:e=bn.get("performance-bar-average")}if(!e)return;const{minValue:n,maxValue:i,currValue:r,startValue:s,perfValue:o}=this.getValues(t),a=`<span data-sg-performance-bar-tooltip-min-value>${n}</span>`,l=`<span data-sg-performance-bar-tooltip-max-value>${i}</span>`,c=`<span data-sg-performance-bar-tooltip-curr-value>${r}</span>`,u=`<span data-sg-performance-bar-tooltip-start-value>${s}</span>`,d=`<span data-sg-performance-bar-tooltip-perf-value>${o}</span>`,h=this.createRandomId(),g=document.createElement("span");g.classList.add(Oi.tooltip),g.innerHTML=e.replace("{MIN}",a).replace("{MAX}",l).replace("{CURR}",c).replace("{START}",u).replace("{PERF}",d),g.setAttribute("data-sg-tooltip",""),g.setAttribute("data-sg-tooltip-id",h),document.body.appendChild(g),t.setAttribute("data-sg-tooltip-ref",h)}updateDescription(t){const e=t?.getAttribute("data-sg-tooltip-ref");if(!e)return;const n=document.querySelector(`[data-sg-tooltip-id="${e}"]`);if(!n)return;const i=n.querySelector("[data-sg-performance-bar-tooltip-min-value]"),r=n.querySelector("[data-sg-performance-bar-tooltip-max-value]"),s=n.querySelector("[data-sg-performance-bar-tooltip-curr-value]"),o=n.querySelector("[data-sg-performance-bar-tooltip-start-value]"),a=n.querySelector("[data-sg-performance-bar-tooltip-perf-value]");if(!(i&&r&&s&&o&&a))return;const{minValue:l,maxValue:c,currValue:u,startValue:d,perfValue:h}=this.getValues(t);i.textContent=l.toString(),r.textContent=c.toString(),s.textContent=u.toString(),o.textContent=d.toString(),a.textContent=h.toString()}createRandomId(){return`a${Math.random().toString().slice(2)}`}}!function(t){t.multiDotBar="multi-dot-bar",t.labelList="multi-dot-bar__label-list",t.label="multi-dot-bar__label",t.axis="multi-dot-bar__axis",t.dot="multi-dot-bar__dot"}($i||($i={})),function(t){t.active="multi-dot-bar--active"}(qi||(qi={})),function(t){t.id="sgMultiDotBarId",t.min="sgMultiDotBarMin",t.max="sgMultiDotBarMax",t.step="sgMultiDotBarStep",t.dotDefinitions="sgMultiDotBarDotDefinitions",t.dotValue="sgMultiDotBarDotValue",t.dotLink="sgMultiDotBarDotLink",t.dotColor="sgMultiDotBarDotColor",t.dotTooltipEnable="sgMultiDotBarDotTooltipEnable",t.dotTooltipText="sgMultiDotBarDotTooltipText",t.dotTooltipHeadline="sgMultiDotBarDotTooltipHeadline",t.dotTooltipHtml="sgMultiDotBarDotTooltipHtml"}(Ui||(Ui={})),function(t){t.dotSize="--sg-multi-dot-bar-dot-size",t.dotRadius="--sg-multi-dot-bar-dot-radius",t.dotColor1="--sg-multi-dot-bar-dot-color-1",t.dotColor2="--sg-multi-dot-bar-dot-color-2",t.dotColor3="--sg-multi-dot-bar-dot-color-3",t.dotColor4="--sg-multi-dot-bar-dot-color-4",t.dotColor5="--sg-multi-dot-bar-dot-color-5",t.axisThickness="--sg-multi-dot-bar-axis-thickness",t.axisBg="--sg-multi-dot-bar-axis-bg"}(Wi||(Wi={}));class ir{element;logger;colorCustomProperties;waitBeforeDotPositioning=1e3;_minMaxStep;_config;_dotDefinitions;constructor(t,e){this.element=t,this.logger=e,this.colorCustomProperties=[Wi.dotColor1,Wi.dotColor2,Wi.dotColor3,Wi.dotColor4,Wi.dotColor5]}validation(){if(!this.element)return this.logger.error("MultiDotBar: element is null"),!1;if(!this.axis||!this.labelList)return this.logger.error("MultiDotBar: axis or labelList is null"),!1;const{min:t,max:e,step:n}=this.minMaxStep;return t<0||e<0||t===e||n<=0?(this.logger.error("MultiDotBar: min, max or step are invalid"),!1):0!==this.dotDefinitions.length||(this.logger.error("MultiDotBar: dotDefinitions is empty"),!1)}initial(){this.createLabels(),this.createDots()}get globalConfigList(){return window.sgMultiDotBarConfigs??[]}get globalConfig(){if(this._config)return this._config;const t=this.id;if(!t)return null;const e=this.globalConfigList.find((e=>e.id===t));return e?(this._config=e,this._config):(this.logger.error(`MultiDotBar: no config found for id ${t}`),null)}get hasGlobalConfig(){return!!this.globalConfig}get id(){return this.element.dataset[Ui.id]??null}get labelList(){return this.element.querySelector(`.${$i.labelList}`)}get axis(){return this.element.querySelector(`.${$i.axis}`)}get minMaxStep(){if(this._minMaxStep)return this._minMaxStep;if(this.hasGlobalConfig){const{min:t,max:e,step:n}=this.globalConfig;this._minMaxStep={min:t,max:e,step:n}}else this._minMaxStep={min:+(this.element.dataset[Ui.min]??-1),max:+(this.element.dataset[Ui.max]??-1),step:+(this.element.dataset[Ui.step]??-1)};return this._minMaxStep}get dotDefinitions(){return this._dotDefinitions||(this.hasGlobalConfig?this._dotDefinitions=this.globalConfig.dots.map((t=>({value:t.value,link:t.link??"",color:t.color??"",tooltip:{enable:t.tooltip?.enable??!0,text:t.tooltip?.text??"",html:t.tooltip?.html??"",headline:t.tooltip?.headline??""}}))):this._dotDefinitions=Array.from(this.axis.querySelectorAll(`.${$i.dot}`)).map((t=>({value:+(t.dataset[Ui.dotValue]??-1),link:t.dataset[Ui.dotLink]??"",color:t.dataset[Ui.dotColor]??"",tooltip:{enable:"false"!==(t.dataset[Ui.dotTooltipEnable]??"true").toLowerCase(),text:t.dataset[Ui.dotTooltipText]??"",html:t.dataset[Ui.dotTooltipHtml]??"",headline:t.dataset[Ui.dotTooltipHeadline]??""}})))),this._dotDefinitions}get labelSteps(){const{min:t,max:e,step:n}=this.minMaxStep,i=(e-t+n)/n;let r=t;return Array.apply(null,{length:i}).map((()=>{const t=r;return r+=n,Number(t.toFixed(2))}))}createLabels(){const t=this.labelList;this.removeChildren(t),this.labelSteps.forEach((e=>{const n=this.createLabel(e);t.appendChild(n)}))}removeChildren(t){for(;t.firstElementChild;)t.removeChild(t.firstElementChild)}createLabel(t){const e=this.labelTemplate();return e.textContent=this.numToText(t),e}labelTemplate(){const t=document.createElement("div");return t.classList.add($i.label),t}getColorCustomProperty(t){return this.colorCustomProperties[t%this.colorCustomProperties.length]}createDots(){const t=this.axis,{min:e,max:n}=this.minMaxStep;this.removeChildren(t),this.dotDefinitions?.forEach(((i,r)=>{const s=this.getColorCustomProperty(r),o=(i.value-e)/(n-e)*100,a=this.createDot(i,o,s);t.appendChild(a)}))}createDot(t,e,n){const{value:i,link:r,color:s,tooltip:o}=t,{dot:a,tooltip:l}=this.dotTemplate(r,o.enable),c=s||`var(${n})`;if(a.style.setProperty("--dot-color",c),setTimeout((()=>this.setDotPosition(a,e)),this.waitBeforeDotPositioning),l){const{headline:t,text:e,html:n}=o;l.innerHTML=n||this.tooltipHtml(t,e||this.numToText(i,5))}return a}dotTemplate(t,e){const n=this.createRandomId(),i=document.createElement(t?"a":"span");i.classList.add($i.dot),i.setAttribute("data-sg-tooltip-ref",n),i.setAttribute("tabindex","0"),t&&i.setAttribute("href",t);const r=e?document.createElement("div"):null;return r&&(r.classList.add(Oi.tooltip),r.setAttribute("data-sg-tooltip",""),r.setAttribute("data-sg-tooltip-id",n),document.body.appendChild(r)),{dot:i,tooltip:r}}tooltipHtml(t,e){return`${t?`<div class="font-weight-bold">${t}</div>`:""}${e?`<div>${e}</div>`:""}`}setDotPosition(t,e){t.style.setProperty("--dot-position",`${e}%`)}createRandomId(){return`a${Math.random().toString().slice(2)}`}numToText(t,e=3){return new Intl.NumberFormat(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language,{maximumSignificantDigits:e}).format(t)}}class rr{static instance;observer;register;elementToMultiDotBar;logger;static get Instance(){return rr.instance||(rr.instance=new rr),rr.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.elementToMultiDotBar=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t)))}get selector(){return`.${$i.multiDotBar}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains($i.multiDotBar)}initialize(t){const e=new ir(t,this.logger);this.validation(t)&&e.validation()&&(this.elementToMultiDotBar.set(t,e),e.initial())}setConfig(){throw new Error("Method not implemented.")}validation(t){return this.isComponent(t)?!this.register.isRegistered(t)&&(this.register.register(t),!0):(this.logger.error("Given parameter is not a multiDotBar node",De($e)),!1)}}!function(t){t[t.neutral=0]="neutral",t[t.positive=1]="positive",t[t.negative=2]="negative"}(Gi||(Gi={})),function(t){t[t.neutral=0]="neutral",t[t.positive=1]="positive",t[t.negative=2]="negative"}(Ki||(Ki={})),function(t){t.realtimePush="realtime-push",t.stateNeutralModifier="realtime-push--state-neutral",t.statePositiveModifier="realtime-push--state-positive",t.stateNegativeModifier="realtime-push--state-negative",t.updateNeutralModifier="realtime-push--update-neutral",t.updatePositiveModifier="realtime-push--update-positive",t.updateNegativeModifier="realtime-push--update-negative"}(Xi||(Xi={})),function(t){t.realtimePush="data-sg-realtime-push",t.identifier="data-sg-realtime-push-identifier",t.current="data-sg-realtime-push-current",t.absolute="data-sg-realtime-push-absolute",t.relative="data-sg-realtime-push-relative",t.currentValue="data-sg-realtime-push-current-value",t.startListener="data-sg-realtime-push-start-listener",t.noStateUpdate="data-sg-realtime-push-no-state-update",t.noPushUpdate="data-sg-realtime-push-no-push-update",t.textChangeByFunction="data-realtime-push-text-change-by-function"}(Zi||(Zi={}));class sr{static instance;observer;register;mutationObservers;mutationObserverConfig;pushElements;pushCallbacks;logger;delayManager;static get Instance(){return sr.instance||(sr.instance=new sr),sr.instance}constructor(){return this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.register=new Qe,this.mutationObservers=new Map,this.pushElements=new Map,this.pushCallbacks=new Map,this.mutationObserverConfig={childList:!0,subtree:!0},this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("RealtimePushHandler initialized"),this}get selector(){return".realtime-push"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.definePushElements(t),this.initialValues(t),this.addTextChangeCallback(t,(t=>this.updateValueByTextChange(t))),this.addListenerHtmlTextChange(t),"true"===this.getPushElement(t).getAttribute(Zi.startListener)&&this.startTextChangeListener(t)):this.logger.error("Given parameter is not a realtime push node")}isComponent(t){return Qe.isNode(t)&&t.classList.contains("realtime-push")}updateValue(t,e,n){if(!t)return;this.setTextChangeByFunction(t);const i="number"==typeof e?e:this.transformTextToNumber(e),r=this.getCurrentValueFromAttr(t),s=this.getPushState(i,r),o=this.getValueState(i);this.styleUpdate(t,s,o),this.setCurrentValueToAttr(t,i),n&&(this.getPushElement(t).textContent=e.toString())}addTextChangeCallback(t,e){const n=this.pushCallbacks.get(t)??[];n.push(e),this.pushCallbacks.set(t,n)}startTextChangeListener(t){const e=this.mutationObserverConfig;Array.from(this.mutationObservers).filter((([e])=>!t||t===e)).forEach((([t,n])=>n.observe(t,e)))}stopTextChangeListener(t){Array.from(this.mutationObservers).filter((([e])=>!t||t===e)).forEach((([t,e])=>e.disconnect()))}getPushElement(t){return this.pushElements.get(t)}getCurrentValueFromAttr(t){const e=Zi,n=this.getPushElement(t);if(!n.hasAttribute(e.currentValue))return null;try{const t=n.getAttribute(e.currentValue),i=parseFloat(t);return isNaN(i)?null:i}catch{return null}}definePushElements(t){if(t.hasAttribute(Zi.realtimePush))return void this.pushElements.set(t,t);const e=t.querySelector(`[${Zi.realtimePush}]`);e?this.pushElements.set(t,e):(t.setAttribute(Zi.realtimePush,""),this.pushElements.set(t,t))}addListenerHtmlTextChange(t){const e=new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.forEach((e=>{e instanceof Text&&this.pushCallbacks.get(t).forEach((e=>e(t)))}))}))}));this.mutationObservers.set(t,e)}updateValueByTextChange(t){if(!t)return;if(this.isTextChangeByFunction(t))return;const e=this.getCurrentValueFromAttr(t),n=this.transformHtmlTextToNumber(t),i=this.getPushState(n,e),r=this.getValueState(n);this.styleUpdate(t,i,r),this.setCurrentValueToAttr(t,n)}setTextChangeByFunction(t){this.getPushElement(t).setAttribute(Zi.textChangeByFunction,"true")}isTextChangeByFunction(t){return this.getPushElement(t).hasAttribute(Zi.textChangeByFunction)}getPushState(t,e){return e<t?Gi.positive:e>t?Gi.negative:Gi.neutral}getValueState(t){return t>0?Ki.positive:t<0?Ki.negative:Ki.neutral}styleUpdate(t,e,n){const i=this.getPushElement(t),r=Xi,s=[r.updateNeutralModifier,r.updatePositiveModifier,r.updateNegativeModifier];i.hasAttribute(Zi.noStateUpdate)||(t.classList.toggle(r.stateNeutralModifier,n===Ki.neutral),t.classList.toggle(r.statePositiveModifier,n===Ki.positive),t.classList.toggle(r.stateNegativeModifier,n===Ki.negative)),i.hasAttribute(Zi.noPushUpdate)||(t.classList.toggle(r.updateNeutralModifier,e===Gi.neutral),t.classList.toggle(r.updatePositiveModifier,e===Gi.positive),t.classList.toggle(r.updateNegativeModifier,e===Gi.negative),this.delayManager.timeout((()=>{t.classList.remove(...s)}),750))}get delimiter(){return document.documentElement.lang.toUpperCase().includes("DE")?",":"."}transformHtmlTextToNumber(t){if(!t)return 0;const e=(this.getPushElement(t).textContent||"").trim();return this.transformTextToNumber(e)}transformTextToNumber(t){if(!t||"string"!=typeof t)return 0;const e=this.delimiter;t=(t=t.trim().split("").filter((t=>!isNaN(parseInt(t))||t===e||"-"===t)).join("").replace(",","."))||(0).toString();const n=parseFloat(t);return isNaN(n)?0:n}initialValues(t){const e=Zi;if(this.getPushElement(t).hasAttribute(e.currentValue))return;const n=this.transformHtmlTextToNumber(t);this.setCurrentValueToAttr(t,n)}setCurrentValueToAttr(t,e){this.getPushElement(t).setAttribute(Zi.currentValue,e.toString())}}class or{xDown;yDown;xDiff;yDiff;element;onLeftCallback;onRightCallback;onUpCallback;onDownCallback;logger;constructor(t){this.xDown=null,this.yDown=null,this.element="string"==typeof t?document.querySelector(t):t,this.logger=Ee.get("Logger"),this.element?(this.onLeftCallback=()=>{},this.onRightCallback=()=>{},this.onUpCallback=()=>{},this.onDownCallback=()=>{},this.element.addEventListener("touchstart",(e=>{this.logger.debug("Swipe touchstart",t,e),this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}),!1),this.logger.debug("Swipe created",t)):this.logger.error("Error while getting element for swipe event")}onLeft(t){return this.onLeftCallback=t,this}onRight(t){return this.onRightCallback=t,this}onUp(t){return this.onUpCallback=t,this}onDown(t){return this.onDownCallback=t,this}run(){this.element.addEventListener("touchmove",(t=>{this.handleTouchMove(t)}),!1)}handleTouchMove(t){if(!this.xDown||!this.yDown)return;const e=t.touches[0].clientX,n=t.touches[0].clientY;this.xDiff=this.xDown-e,this.yDiff=this.yDown-n,Math.abs(this.xDiff)>Math.abs(this.yDiff)?this.xDiff>0?this.onLeftCallback(this.element):this.onRightCallback(this.element):this.yDiff>0?this.onUpCallback(this.element):this.onDownCallback(this.element),this.xDown=null,this.yDown=null}}!function(t){t.right="side-panel--right",t.open="side-panel--open"}(Ji||(Ji={})),function(t){t[t.left=0]="left",t[t.right=1]="right"}(Yi||(Yi={}));class ar{static instance;observer;register;openActionHandlerRegister;closeActionHandlerRegister;toggleActionHandlerRegister;swipeList;escapeTrigger;logger;bodyClickTrigger;static get Instance(){return ar.instance||(ar.instance=new ar),ar.instance}static isMobile(t){return t?.classList.contains("side-panel-mobile")??!1}constructor(){this.logger=Ee.get("Logger"),this.bodyClickTrigger=Ee.get("BodyClickTrigger"),this.swipeList=[],this.register=new Qe,this.openActionHandlerRegister=new Qe,this.closeActionHandlerRegister=new Qe,this.toggleActionHandlerRegister=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.observer=new Ye("[data-sg-side-panel-open]",(t=>this.initializeOpenActionHandler(t))),this.observer=new Ye("[data-sg-side-panel-close]",(t=>this.initializeCloseActionHandler(t))),this.observer=new Ye("[data-sg-side-panel-toggle]",(t=>this.initializeToggleActionHandler(t))),this.escapeTrigger=tn.Instance,this.escapeTrigger.add((()=>this.closeAll())),this.bodyClickTrigger.add((()=>this.closeAll())),this.logger.debug("SidePanelHandler initialized")}get selector(){return".side-panel,.side-panel-mobile"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&(t.classList.contains("side-panel")||t.classList.contains("side-panel-mobile"))}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a side panel node");if(this.register.isRegistered(t))return;this.register.register(t);const e=this.getSidePanelId(t),{openerList:n,closerList:i,togglerList:r}=this.getActionHandler(e);n.forEach((t=>this.initializeOpenActionHandler(t))),i.forEach((t=>this.initializeCloseActionHandler(t))),r.forEach((t=>this.initializeToggleActionHandler(t))),t.addEventListener("click",(t=>{t.stopPropagation()}),!1);const s=new or(t);switch(this.getPosition(t)){case Yi.left:s.onLeft((()=>this.close(t)));break;case Yi.right:s.onRight((()=>this.close(t)));break;default:this.logger.error("Unknown side panel type")}s.run(),this.swipeList.push(s)}isOpen(t){return t.classList.contains(Ji.open)}open(t){ar.isMobile(t)&&!Pe()||t.classList.add(Ji.open)}close(t){t.classList.remove(Ji.open)}toggle(t){this.isOpen(t)?this.close(t):this.open(t)}closeAll(){this.findAll.forEach((t=>this.close(t)))}isActionHandler(t){return null!==t&&(t.hasAttribute("data-sg-side-panel-open")||t.hasAttribute("data-sg-side-panel-close")||t.hasAttribute("data-sg-side-panel-toggle"))}initializeOpenActionHandler(t){if(this.openActionHandlerRegister.isRegistered(t))return;this.openActionHandlerRegister.register(t);const e=t.dataset.sgSidePanelOpen;if(!this.sidePanelExist(e))return void this.logger.error(`Unknown side panel with sidePanelId ${e}`,De(Ge));const n=this.getSidePanelById(e);t.addEventListener("click",(t=>{this.open(n),t.stopPropagation()}),!1)}initializeCloseActionHandler(t){if(this.closeActionHandlerRegister.isRegistered(t))return;this.closeActionHandlerRegister.register(t);const e=t.dataset.sgSidePanelClose;if(!this.sidePanelExist(e))return void this.logger.error(`Unknown side panel with sidePanelId ${e}`,De(Ge));const n=this.getSidePanelById(e);t.addEventListener("click",(t=>{this.close(n),t.stopPropagation()}),!1)}initializeToggleActionHandler(t){if(this.toggleActionHandlerRegister.isRegistered(t))return;this.toggleActionHandlerRegister.register(t);const e=t.dataset.sgSidePanelToggle;if(!this.sidePanelExist(e))return void this.logger.error(`Unknown side panel with sidePanelId ${e}`,De(Ge));const n=this.getSidePanelById(e);t.addEventListener("click",(t=>{this.toggle(n),t.stopPropagation()}),!1)}isRight(t){return t.classList.contains(Ji.right)}getPosition(t){return this.isRight(t)?Yi.right:Yi.left}getSidePanelId(t){return t?.dataset?.sgSidePanel??null}getSidePanelById(t){return document.querySelector(`[data-sg-side-panel="${t}"]`)}sidePanelExist(t){return!!this.getSidePanelById(t)}getActionHandler(t){return{openerList:Array.from(document.querySelectorAll(`[data-sg-side-panel-open="${t}"`)),closerList:Array.from(document.querySelectorAll(`[data-sg-side-panel-close="${t}"`)),togglerList:Array.from(document.querySelectorAll(`[data-sg-side-panel-toggle="${t}"`))}}}const lr=(t,e,n)=>(t=Math.min(n,t),Math.max(e,t));var cr,ur,dr,hr,gr,pr,fr,mr,vr,yr,br,wr,Ar;!function(t){t.carousel="carousel",t.slideContainer="carousel__slide-container",t.slide="carousel__slide",t.controls="carousel__controls",t.prev="carousel__prev",t.next="carousel__next",t.nav="carousel__nav",t.navItem="carousel__nav-item"}(cr||(cr={})),function(t){t.preventRotation="carousel--prevent-rotation",t.preventAutoRotation="carousel--prevent-auto-rotation",t.preventDisableControls="carousel--prevent-disable-controls",t.preventSlideClickMovement="carousel--prevent-slide-click-movement",t.preventBrowserTabVisibilityListing="carousel--prevent-browser-tab-visibility-listing",t.showShades="carousel--show-shades",t.scrollbarPositionStart="carousel--scrollbar-position-start",t.scrollbarPositionMiddle="carousel--scrollbar-position-middle",t.scrollbarPositionEnd="carousel--scrollbar-position-end"}(ur||(ur={})),function(t){t.prev='data-sg-carousel-template="prev"',t.next='data-sg-carousel-template="next"',t.navItem='data-sg-carousel-template="nav-item"',t.text="data-sg-carousel-template-text",t.tooltip="data-sg-carousel-template-tooltip",t.activeClass="data-sg-carousel-template-active-class",t.cyclingTimer="data-sg-carousel-cycling-timer"}(dr||(dr={})),function(t){t[t.first=0]="first",t[t.prev=1]="prev",t[t.next=2]="next",t[t.last=3]="last"}(hr||(hr={})),function(t){t[t.start=0]="start",t[t.center=1]="center",t[t.end=2]="end"}(gr||(gr={})),function(t){t[t.start=0]="start",t[t.pause=1]="pause",t[t.stop=2]="stop"}(pr||(pr={}));class Sr extends e{static instance;observer;register;carouselElements;checkTransition;transition;carousel2ActiveToggler=new Map;autoCycling;slideIsVisible;logger;delayManager;static get Instance(){return Sr.instance||(Sr.instance=new Sr),Sr.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.carouselElements=new Map,this.checkTransition=new Map,this.transition=new Map,this.carousel2ActiveToggler=new Map,this.autoCycling=new Map,this.slideIsVisible=new Map,this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("CarouselHandler initialized")}notifyObserver(t){const e=this.toData(t);super.notify(e)}get currentSlide(){return Array.from(this.carouselElements.keys()).map(this.toData)}get selector(){return`.${cr.carousel}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(cr.carousel)}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a carousel node");if(this.register.isRegistered(t))return;this.register.register(t);const e=this.getElements(t);0!==e.slideList.length?(this.carouselElements.set(t,e),this.createControls(t),this.setSlideAndNavItemIndex(t),this.setControlSpace(t),this.goto(t,{goto:hr.first}),this.handleShades(t),this.addEvents(t),this.startAutoCycling(t)):this.logger.error("Carousel must have at least one slide.",De(Ve),t)}createControls(t){const{slideList:e,prev:n,next:i,navItems:r,templates:s}=this.carouselElements.get(t);let{controls:o,nav:a}=this.carouselElements.get(t);if(!o){const e=document.createElement("div");e.classList.add(cr.controls),t.appendChild(e),this.carouselElements.get(t).controls=e,o=e}if(!n&&s.prev){const e=document.createElement("div");e.classList.add(cr.prev);const n=s.prev.content.cloneNode(!0);this.getTextElements(n).forEach((t=>this.setText(t))),e.appendChild(n),o?.appendChild(e),this.carouselElements.get(t).prev=e}if(!i&&s.next){const e=document.createElement("div");e.classList.add(cr.next);const n=s.next.content.cloneNode(!0);this.getTextElements(n).forEach((t=>this.setText(t))),e.appendChild(n),o?.appendChild(e),this.carouselElements.get(t).next=e}if(0===r.length&&s.navItem){if(!a){const e=document.createElement("div");e.classList.add(cr.nav),o.appendChild(e),this.carouselElements.get(t).nav=e,a=e}const n=e.map(((t,e)=>{const n=document.createElement("div");n.classList.add(cr.navItem);const i=s.navItem.content.cloneNode(!0);return this.getTextElements(i).forEach((t=>this.setText(t,e+1))),n.appendChild(i),this.setNavItemIndex(n,e),a.appendChild(n),n}));this.carouselElements.get(t).navItems=n}}getTextElements(t){const e=t=>t.hasAttribute(dr.text)?t:t.querySelector(`[${dr.text}]`),n=t=>t.hasAttribute(dr.tooltip)?t:t.querySelector(`[${dr.tooltip}]`);return Array.from(t.childNodes).filter((t=>"hasAttribute"in t&&"querySelector"in t)).map((t=>t)).filter((t=>(t=>t.hasAttribute(dr.text)||t.querySelector(`[${dr.text}]`))(t)||(t=>t.hasAttribute(dr.tooltip)||t.querySelector(`[${dr.tooltip}]`))(t))).map((t=>[e(t),n(t)])).reduce(((t,e)=>t.concat(e)),[]).filter((t=>t))}setText(t,e){let n=t.getAttribute(dr.text);n&&(n=n.replace("{SLIDE}",e?.toString()??"").replace("{GOTO}",bn.get("carousel-goto")).replace("{PREV}",bn.get("carousel-prev")).replace("{NEXT}",bn.get("carousel-next")),t.textContent=n);let i=t.getAttribute(dr.tooltip);i&&(i=i.replace("{SLIDE}",e?.toString()??"").replace("{GOTO}",bn.get("carousel-goto")).replace("{PREV}",bn.get("carousel-prev")).replace("{NEXT}",bn.get("carousel-next")),t.dataset.sgTooltip=i)}setControlSpace(t){const{nav:e,controls:n}=this.carouselElements.get(t);if(e&&n){const t=e.offsetHeight;n.style.setProperty("--sg-carousel-controls-margin-bottom",`calc(${t}px + 1rem)`)}}setSlideAndNavItemIndex(t){const{slideList:e,navItems:n}=this.carouselElements.get(t);e.forEach(((t,e)=>this.setSlideIndex(t,e))),n.forEach(((t,e)=>this.setNavItemIndex(t,e)))}addEvents(t){this.addControlEvents(t),this.listenOnBrowserTabVisibility(t),this.logSlideVisibility(t),this.watchForScrolling(t),this.moveByClickNextSlide(t)}addControlEvents(t){const{prev:e,next:n,navItems:i}=this.carouselElements.get(t),r=()=>this.stopAutoCycling(t);e?.addEventListener("click",(()=>{r(),this.goto(t,{goto:hr.prev})})),n?.addEventListener("click",(()=>{r(),this.goto(t,{goto:hr.next})})),i.forEach((e=>{const n=this.getNavItemIndex(e);e.addEventListener("click",(()=>{r(),this.goto(t,{index:n})}))}))}listenOnBrowserTabVisibility(t){this.preventBrowserTabVisibilityListing(t)||document.addEventListener("visibilitychange",(()=>{document.hidden?this.pauseAutoCycling(t):this.startAutoCycling(t)}))}watchForScrolling(t){const{slideContainer:e}=this.carouselElements.get(t);e.addEventListener("scroll",this.delayManager.debounce((()=>{const{slide:e,index:n}=this.getClosest(t);this.transition.has(t)||this.getCurrentSlideIndex(t)===n||this.setCurrentSlide(t,e)}),250),{passive:!0})}startTransition(t,e){const n=this.getCurrentSlideIndex(t),i=this.getSlideIndex(e),r={from:n,to:i,diff:Math.abs(i-n)};this.transition.set(t,r);const s=r.to;this.checkTransition.has(t)&&this.checkTransition.get(t)&&clearTimeout(this.checkTransition.get(t)),this.checkTransition.set(t,setTimeout((()=>{this.transition.get(t)?.to===s&&this.stopTransition(t)}),1e3))}stopTransition(t){this.transition.delete(t),this.checkTransition.has(t)&&clearTimeout(this.checkTransition.get(t))}isInTransition(t){return this.transition.has(t)}logSlideVisibility(t){const{slideContainer:e,slideList:n}=this.carouselElements.get(t),i=new IntersectionObserver((t=>{t.forEach((t=>{const e=t.target,n=1===t.intersectionRatio;this.slideIsVisible.set(e,n)}))}),{root:e,rootMargin:"0px",threshold:1});n.forEach((t=>i.observe(t)))}isSlideIsVisible(t){return this.slideIsVisible.has(t)&&this.slideIsVisible.get(t)}moveByClickNextSlide(t){if(this.preventSlideClickMovement(t))return;const{slideList:e}=this.carouselElements.get(t);e.forEach((e=>e.addEventListener("click",(()=>{if(this.isInTransition(t))return;if(e===this.getCurrentSlide(t))return;if(this.isSlideIsVisible(e))return;this.stopAutoCycling(t);const n=this.getSlideIndex(e);this.goto(t,{index:n})}))))}goto(t,e){const n=this.calcGotoIndex(t,e),{slideContainer:i}=this.carouselElements.get(t),r=this.getSlideByIndex(t,n);if(!r)return void this.logger.error("Slide not found",{carousel:t,index:n});const{top:s,left:o}=this.getScrollOffset(t,r);this.startTransition(t,r),i.scroll({top:s,left:o,behavior:"smooth"}),this.setCurrentSlide(t,r)}calcGotoIndex(t,{goto:e,index:n}){const i=this.getCurrentSlideIndex(t),r=this.minSlideIndex,s=this.getMaxSlideIndex(t);let o=0;if(void 0!==e){const n=!this.preventRotation(t);switch(e){case hr.first:o=r;break;case hr.last:o=s;break;case hr.prev:o=i-1>=r?i-1:n?s:r;break;case hr.next:o=i+1<=s?i+1:n?r:s;break;default:this.logger.error("Unknown jump point")}}else void 0!==n?o=n===lr(n,r,s)?n:r:this.logger.error("Unknown jump point in carousel calc index.",De(Ve));return o}handleShades(t){if(!this.showShades(t))return;const{slideContainer:e}=this.carouselElements.get(t);e.addEventListener("scroll",this.delayManager.debounce((()=>this.scrollbarPosition(t)),10),{passive:!0}),this.scrollbarPosition(t)}scrollbarPosition(t){const{slideContainer:e}=this.carouselElements.get(t),n=e.scrollWidth-e.clientWidth,i=e.scrollLeft,r=0===i,s=i>=n-2;0===n?(t.classList.remove(ur.scrollbarPositionStart),t.classList.remove(ur.scrollbarPositionEnd),t.classList.remove(ur.scrollbarPositionMiddle)):r?(t.classList.add(ur.scrollbarPositionStart),t.classList.remove(ur.scrollbarPositionEnd),t.classList.remove(ur.scrollbarPositionMiddle)):s?(t.classList.remove(ur.scrollbarPositionStart),t.classList.add(ur.scrollbarPositionEnd),t.classList.remove(ur.scrollbarPositionMiddle)):(t.classList.remove(ur.scrollbarPositionStart),t.classList.remove(ur.scrollbarPositionEnd),t.classList.add(ur.scrollbarPositionMiddle))}getCyclingTimer(t){let e=5e3;try{t.hasAttribute(dr.cyclingTimer)&&(e=+t.getAttribute(dr.cyclingTimer))}catch(t){this.logger.error("Error in carousel while setting the cycling timer.",De(Ve)),e=5e3}finally{return e}}startAutoCycling(t){if(this.preventAutoRotation(t))return;if(this.autoCycling.has(t)&&this.autoCycling.get(t).state===pr.stop)return;const e=this.getCyclingTimer(t),n=this.getMaxSlideIndex(t),i=setInterval((()=>{const e=this.getCurrentSlideIndex(t),i=n===e?hr.first:hr.next;this.goto(t,{goto:i})}),e);this.autoCycling.set(t,{state:pr.start,interval:i})}stopAutoCycling(t){if(this.autoCycling.has(t)){const{interval:e}=this.autoCycling.get(t);e&&clearInterval(parseInt(e.toString()))}this.autoCycling.set(t,{state:pr.stop})}pauseAutoCycling(t){if(!this.autoCycling.has(t))return;const{interval:e}=this.autoCycling.get(t);e&&clearInterval(parseInt(e.toString())),this.autoCycling.set(t,{state:pr.pause})}get minSlideIndex(){return 0}getMaxSlideIndex(t){const{slideList:e}=this.carouselElements.get(t),n=e.map((t=>this.getSlideIndex(t))).filter((t=>t));return 0===n.length?this.minSlideIndex:Math.max(...n)}getClosest(t){const{slideList:e,slideContainer:n}=this.carouselElements.get(t);return e.map(((e,i)=>{const r=this.getScrollOffset(t,e);return{slide:e,index:i,diff:{top:Math.abs(n.scrollTop-r.top),left:Math.abs(n.scrollLeft-r.left)}}})).reduce(((t,e)=>t?e.diff.left<=t.diff.left&&e.diff.top<=t.diff.top?e:t:e))}getElements(t){if(this.carouselElements.has(t))return this.carouselElements.get(t);const e=t.querySelector(`.${cr.slideContainer}`),n=Array.from(e?.querySelectorAll(`.${cr.slide}`)??[]),i=n[0],r=t.querySelector(`.${cr.controls}`),s=r?.querySelector(`.${cr.prev}`)??null,o=r?.querySelector(`.${cr.next}`)??null,a=r?.querySelector(`.${cr.nav}`)??null,l=Array.from(a?.querySelectorAll(`.${cr.navItem}`)??[]);return{slideContainer:e,slideList:n,currentSlide:i,controls:r,prev:s,next:o,nav:a,navItems:l,templates:{prev:t?.querySelector(`[${dr.prev}]`)??null,next:t?.querySelector(`[${dr.next}]`)??null,navItem:t?.querySelector(`[${dr.navItem}]`)??null}}}getScrollOffset(t,e){const{slideContainer:n}=this.carouselElements.get(t),i=this.getScrollSnapAlign(e);let r=e.offsetTop,s=e.offsetLeft;return i===gr.center?(r=e.offsetTop+e.offsetHeight/2-n.offsetHeight/2,s=e.offsetLeft+e.offsetWidth/2-n.offsetWidth/2):i===gr.end&&(r=e.offsetTop-n.offsetHeight+e.offsetHeight,s=e.offsetLeft-n.offsetWidth+e.offsetWidth),r=lr(r,0,n.scrollHeight),s=lr(s,0,n.scrollWidth),{top:r,left:s}}getScrollSnapAlign(t){const{scrollSnapAlign:e}=window.getComputedStyle(t);switch(e){case"start":return gr.start;case"center":default:return gr.center;case"end":return gr.end}}toggleDisableStateOfNextPrev(t){if(this.preventDisableControls(t))return;const{prev:e,next:n}=this.carouselElements.get(t),i=this.getCurrentSlideIndex(t),r=this.minSlideIndex,s=this.getMaxSlideIndex(t),o=!this.preventRotation(t);e?.classList.toggle("disable",!o&&i===r),n?.classList.toggle("disable",!o&&i===s)}toggleActiveStatOfNavItems(t){const e=this.getCurrentNavItem(t);this.getNavItems2ActiveToggler(t).forEach(((t,n)=>{t.forEach((t=>{const i=t.getAttribute(dr.activeClass);t.classList.toggle(i,n===e)}))}))}getNavItems2ActiveToggler(t){if(this.carousel2ActiveToggler.has(t))return this.carousel2ActiveToggler.get(t);const e=new Map,{navItems:n}=this.carouselElements.get(t);return n.forEach((t=>{const n=Array.from(t.querySelectorAll(`[${dr.activeClass}]`));n.length>0&&e.set(t,n)})),this.carousel2ActiveToggler.set(t,e),this.carousel2ActiveToggler.get(t)}setCurrentSlide(t,e){this.carouselElements.get(t).currentSlide=e,this.toggleDisableStateOfNextPrev(t),this.toggleActiveStatOfNavItems(t),this.notifyObserver(t)}getCurrentSlide(t){return this.carouselElements.get(t).currentSlide??null}setSlideIndex(t,e){t.dataset.sgCarouselItemIndex=e.toString()}getSlideIndex(t){return+t?.dataset.sgCarouselItemIndex}getCurrentSlideIndex(t){const e=this.getCurrentSlide(t);return this.getSlideIndex(e)}getSlideByIndex(t,e){const{slideList:n}=this.carouselElements.get(t);return n.find((t=>this.getSlideIndex(t)===e))??null}setNavItemIndex(t,e){t.dataset.sgCarouselNavItemIndex=e.toString()}getNavItemIndex(t){return+t?.dataset.sgCarouselNavItemIndex}getNavItemByIndex(t,e){const{navItems:n}=this.carouselElements.get(t);return n.find((t=>this.getNavItemIndex(t)===e))??null}getCurrentNavItem(t){const e=this.getCurrentSlideIndex(t);return this.getNavItemByIndex(t,e)}preventRotation(t){return t.classList.contains(ur.preventRotation)}preventDisableControls(t){return t.classList.contains(ur.preventDisableControls)}showShades(t){return t.classList.contains(ur.showShades)}preventAutoRotation(t){return t.classList.contains(ur.preventAutoRotation)}preventSlideClickMovement(t){return t.classList.contains(ur.preventSlideClickMovement)}preventBrowserTabVisibilityListing(t){return t.classList.contains(ur.preventBrowserTabVisibilityListing)}toData(t){const e=this.getCurrentSlide(t);return{carousel:t,slide:e,slideIndex:this.getSlideIndex(e)}}}!function(t){t.rating="rating",t.labelFrom="rating__label-from",t.labelUntil="rating__label-until",t.list="rating__list",t.item="rating__item",t.input="rating__input",t.value="rating__value"}(fr||(fr={})),function(t){t.center="rating--center",t.result="rating--result",t.trafficLight="rating--traffic-light",t.background="rating--background",t.noHover="rating--no-hover",t.fixed="rating--fixed",t.readOnly="rating--read-only",t.goodState="rating--good-state",t.mediumState="rating--medium-state",t.badState="rating--bad-state",t.itemHover="rating__item--hover",t.itemActive="rating__item--active"}(mr||(mr={})),function(t){t.id="data-sg-rating-id",t.value="data-sg-rating-value",t.itemValue="data-sg-rating-item-value"}(vr||(vr={}));class _r{targetNode;attributeToWatch;callback;observer;lastAttributeValue;constructor(t,e,n){this.targetNode=t,this.attributeToWatch=e,this.callback=n,this.observer=null,this.lastAttributeValue=this.targetNode.getAttribute(this.attributeToWatch)||null,this.initialize()}start(){this.observer.observe(this.targetNode,{attributes:!0})}stop(){this.observer.disconnect()}initialize(){this.observer=new MutationObserver((t=>{this.mutationCallback(t)})),this.start()}mutationCallback(t){t.forEach((t=>{if("attributes"===t.type&&t.attributeName===this.attributeToWatch){const e=t.target.getAttribute(this.attributeToWatch)||null;this.lastAttributeValue!==e&&(this.lastAttributeValue=e,this.callback(e))}}))}}class Ir extends e{logger;rating;_items;_ratingId;_input;_itemsBefore;_itemValue;_itemValueType;attributeWatcher;constructor(t,e){super(),this.rating=t,this.logger=e,this._itemsBefore=new Map,this._itemValue=new Map,this._itemValueType=new Map,this.defineNecessary(),this.addEvents(),this.initialValueByItemActiveModifier(),this.initialValueByAttr()}setValue(t,e=!1){!e&&this.isReadOnly||("string"===this.valueType(t)?this.setStrValue(t):this.setNumValue(t),this.trafficLightHandler(),this.notify())}clear(){this.resetItemPercents(),this.deactivateItems(),this.deHoverItems()}notify(){const t={rating:this.rating,ratingId:this.ratingId,ratingItemValue:this.currentValue()};super.notify(t)}initialValueByAttr(){const t=this.readAttrValue();t&&this.setValue(t,!0)}initialValueByItemActiveModifier(){const t=this.items.find((t=>this.isItemActivate(t)));t&&this.setValue(this.getItemValue(t),!0)}addEvents(){this.items.forEach((t=>this.itemEvents(t))),this.labelEvents(),this.watchRatingValueAttribute()}itemEvents(t){t.addEventListener("mouseover",(()=>this.hoverItem(t)),!1),t.addEventListener("mouseout",(()=>this.deHoverItem(t)),!1),t.addEventListener("click",(()=>this.setValue(this.getItemValue(t))),!1)}labelEvents(){const t=this.items,e=t.at(0),n=t.at(-1),i=new Event("mouseover"),r=new Event("mouseout"),s=new Event("click"),o=this.labelFrom;o?.addEventListener("mouseover",(()=>e.dispatchEvent(i)),!1),o?.addEventListener("mouseout",(()=>e.dispatchEvent(r)),!1),o?.addEventListener("click",(()=>e.dispatchEvent(s)),!1);const a=this.labelUntil;a?.addEventListener("mouseover",(()=>n.dispatchEvent(i)),!1),a?.addEventListener("mouseout",(()=>n.dispatchEvent(r)),!1),a?.addEventListener("click",(()=>n.dispatchEvent(s)),!1)}watchRatingValueAttribute(){this.attributeWatcher||(this.attributeWatcher=new _r(this.rating,vr.value,(t=>this.setValue(t))))}get isTrafficLight(){return this.rating.classList.contains(mr.trafficLight)}get isReadOnly(){return this.rating.classList.contains(mr.readOnly)||this.rating.classList.contains(mr.fixed)}get isBackground(){return this.rating.classList.contains(mr.background)}get isNoHover(){return this.rating.classList.contains(mr.noHover)}get ratingId(){return this._ratingId||this.defineRatingId(),this._ratingId}get items(){return this._items||this.defineItems(),this._items}get labelFrom(){return this.rating.querySelector(`.${fr.labelFrom}`)}get labelUntil(){return this.rating.querySelector(`.${fr.labelUntil}`)}get input(){return this._input||this.defineInput(),this._input}currentValue(){const t=this.input?.value;return t?"string"===this.valueType(t)?t:+t:null}getItemsBefore(t){return this._itemsBefore.has(t)||this.defineItemsBefore(t),this._itemsBefore.get(t)}getItemValue(t){return this._itemValue.has(t)||this.defineItemValues(),this._itemValue.get(t)}getItemValueType(t){return this._itemValueType.get(t)}setStrValue(t){const e=this.valueMatchExactItemValue(t);if(e)return this.setItemWithExactValue(e,t);this.logger.error("No rating item match the value.",{rating:this.rating,value:t},De(We))}setNumValue(t){const e=this.valueMatchExactItemValue(t);if(e)return this.setItemWithExactValue(e,t);if(t<0||this.items.length<t)return void this.logger.error("Rating items not match the value.",{rating:this.rating,value:t},De(We));const n=Math.floor(t),i=100*this.roundTo(t-n);if(0===i){const e=this.items.at(n-1);return e?this.setItemWithExactValue(e,t):void this.logger.error("No rating item match the value.",{rating:this.rating,value:t},De(We))}{const e=this.items.at(n);return e?this.setItemWithPercentValue(e,t,i):void this.logger.error("No rating item match the value.",{rating:this.rating,value:t},De(We))}}setItemWithExactValue(t,e){this.deactivateItems(),this.resetItemPercents(),[...this.getItemsBefore(t),t].forEach((t=>this.activateItem(t))),this.setInput(e),this.setAttrValue(e)}setItemWithPercentValue(t,e,n){this.setItemWithExactValue(t,e),this.setItemPercent(t,n)}resetItemPercent(t){t.style.removeProperty("--sg-rating-percent")}resetItemPercents(){this.items.forEach((t=>this.resetItemPercent(t)))}setItemPercent(t,e){e>0&&e<100&&t.style.setProperty("--sg-rating-percent",`${e}%`)}setInput(t){const e=this.input;if(!e)return;const n="string"===this.valueType(t)?t:this.asString(+t);e.value=n}setAttrValue(t){const e="string"===this.valueType(t)?t:this.asString(+t);this.rating.setAttribute(vr.value,e)}activateItem(t){t.classList.add(mr.itemActive)}deactivateItem(t){t.classList.remove(mr.itemActive)}deactivateItems(){this.items.forEach((t=>this.deactivateItem(t)))}isItemActivate(t){return t.classList.contains(mr.itemActive)}hoverItem(t){this.isNoHover||this.isReadOnly||([...this.getItemsBefore(t),t].forEach((t=>t.classList.add(mr.itemHover))),this.trafficLightHandler())}deHoverItem(t){[...this.getItemsBefore(t),t].forEach((t=>t.classList.remove(mr.itemHover))),this.trafficLightHandler()}deHoverItems(){this.items.forEach((t=>this.deHoverItem(t)))}isItemHovered(t){return t.classList.contains(mr.itemHover)}trafficLightHandler(){if(!this.isTrafficLight)return;const t=this.items,e=t.length,n=t.filter((t=>this.isItemActivate(t))).length,i=t.filter((t=>this.isItemHovered(t))).length,r=i>0?i/e:n/e,s=r<=.2,o=r>.2&&r<=.6,a=r>.6;this.rating.classList.toggle(mr.goodState,s),this.rating.classList.toggle(mr.mediumState,o),this.rating.classList.toggle(mr.badState,a)}defineNecessary(){this.defineRatingId(),this.defineInput(),this.defineItems(),this.defineItemValues(),this.defineRatingValue()}defineRatingId(){if(this.rating.hasAttribute(vr.id)||this.rating.hasAttribute("id")){const t=this.rating.getAttribute(vr.id)||this.rating.getAttribute("id");this._ratingId=t}else{const t=this.randomId();this.rating.setAttribute(vr.id,t),this._ratingId=t}}defineInput(){this._input=this.rating.querySelector(`.${fr.input}`)??null}defineItems(){this._items=Array.from(this.rating.querySelectorAll(`.${fr.item}`))}defineItemsBefore(t){const e=this.items,n=e.findIndex((e=>e===t)),i=e.slice(0,n);this._itemsBefore.set(t,i)}defineItemValues(){const t=this.items;t.map(((t,e)=>({item:t,index:e}))).filter((({item:t})=>(t=>!t.hasAttribute(vr.itemValue))(t))).forEach((({item:t,index:e})=>t.setAttribute(vr.itemValue,this.asString(e+1)))),t.map((t=>({item:t,value:t.getAttribute(vr.itemValue)}))).forEach((({item:t,value:e})=>{this._itemValue.set(t,e),this._itemValueType.set(t,this.valueType(e))}))}defineRatingValue(){this.rating.hasAttribute(vr.value)||this.rating.setAttribute(vr.value,"")}asString(t){return t.toFixed(2)}roundTo(t){return Math.round(100*(t+Number.EPSILON))/100}valueType(t){return isNaN(+t)?"string":"number"}valueMatchExactItemValue(t){return this.items.find((e=>this.getItemValue(e)===t))}readAttrValue(){const t=this.rating.getAttribute(vr.value);return""===t||null===t?null:t}randomId(){return"r"+((t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t))(0,1e4)}}class Tr{static instance;observer;register;rating2Handler;logger;static get Instance(){return Tr.instance||(Tr.instance=new Tr),Tr.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.rating2Handler=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("RatingHandler initialized")}get selector(){return`.${fr.rating}:not(.${mr.result})`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(fr.rating)}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.rating2Handler.set(t,new Ir(t,this.logger))):this.logger.error("Given parameter is not a rating node.")}setValue(t,e){const n=this.rating2Handler.get(t);n&&n.setValue(e)}clearAll(){this.rating2Handler.forEach((t=>t.clear()))}addObserver(t){this.rating2Handler.forEach((e=>e.addObserver(t)))}}!function(t){t.tab="tab",t.list="tab__list",t.item="tab__item"}(yr||(yr={})),function(t){t.active="tab__item--active",t.disable="tab__item--disable",t.scrollbarPositionStart="tab--scrollbar-position-start",t.scrollbarPositionMiddle="tab--scrollbar-position-middle",t.scrollbarPositionEnd="tab--scrollbar-position-end",t.suppressSelection="tab--suppress-selection",t.noInitialActive="tab--no-initial-active",t.storeActiveItem="tab--store-active-item"}(br||(br={})),function(t){t[t.start=0]="start",t[t.center=1]="center",t[t.end=2]="end"}(wr||(wr={}));class Cr{_id;_tab;_list;_items;observerCallback;transition;checkTransition;storeKey="sg-tab-component";logger;constructor(t,e){this.logger=Ee.get("Logger"),this._tab=t,this.observerCallback=e,this.transition=new Map,this.checkTransition=new Map,this.initialActive(),this.addEvents(),this.scrollbarPosition()}get tab(){return this._tab}get list(){return this._list||(this._list=this.tab.querySelector(`.${yr.list}`)),this._list}get items(){return this._items||(this._items=Array.from(this.list.querySelectorAll(`.${yr.item}`))),this._items}get activeItem(){return this.items.find((t=>t.classList.contains(br.active)))}goto(t){const{top:e,left:n}=this.getScrollOffset(t);this.startTransition(t),this.list.scroll({top:e,left:n,behavior:"smooth"}),this.activate(t)}deactivateAll(t=[]){this.items.filter((e=>!t.includes(e))).forEach((t=>this.deactivate(t)))}scrollbarPosition(){const t=this.list.scrollWidth-this.list.clientWidth,e=this.list.scrollLeft,n=0===e,i=e>=t-2;0===t?(this.tab.classList.remove(br.scrollbarPositionStart),this.tab.classList.remove(br.scrollbarPositionEnd),this.tab.classList.remove(br.scrollbarPositionMiddle)):n?(this.tab.classList.add(br.scrollbarPositionStart),this.tab.classList.remove(br.scrollbarPositionEnd),this.tab.classList.remove(br.scrollbarPositionMiddle)):i?(this.tab.classList.remove(br.scrollbarPositionStart),this.tab.classList.add(br.scrollbarPositionEnd),this.tab.classList.remove(br.scrollbarPositionMiddle)):(this.tab.classList.remove(br.scrollbarPositionStart),this.tab.classList.remove(br.scrollbarPositionEnd),this.tab.classList.add(br.scrollbarPositionMiddle))}clearStore(){localStorage.removeItem(this.storeKey)}get activeIndex(){return this.items.indexOf(this.activeItem)}get notInitialActive(){return this.tab.classList.contains(br.noInitialActive)}get suppressSelection(){return this.tab.classList.contains(br.suppressSelection)}get storeActiveItem(){return this.tab.classList.contains(br.storeActiveItem)}initialActive(){if(this.notInitialActive)return void this.deactivateAll();if(this.storeActiveItem){const t=this.getStoredActiveItem();if(t)return void this.goto(t)}const t=this.items.filter((t=>t.classList.contains(br.active))),e=t.length;e>1?this.goto(t[0]):(0!==e||this.suppressSelection||this.goto(this.items[0]),1!==e||this.goto(t[0]))}addEvents(){this.items.forEach((t=>{t.addEventListener("click",(e=>{this.goto(t),e.stopPropagation()}))})),this.list.addEventListener("scroll",(()=>this.scrollbarPosition()))}activate(t){this.itemIsWithinTab(t)&&(this.isDisable(t)||(this.deactivateAll([t]),t?.classList?.add(br.active),this.notifyObserver(),this.storeActiveItem&&this.saveState()))}deactivate(t){t?.classList?.remove(br.active)}isDisable(t){return t?.classList?.contains(br.disable)??!1}notifyObserver(){this.observerCallback({tab:this.tab,activeItem:this.activeItem})}itemIsWithinTab(t){return this.items.includes(t)}getIndexByItem(t){return this.items.indexOf(t)}getItemByIndex(t){return this.items[t]}getScrollOffset(t){const e=this.list,n=this.getScrollSnapAlign(t);let i=t.offsetTop,r=t.offsetLeft;return n===wr.center?(i=t.offsetTop+t.offsetHeight/2-e.offsetHeight/2,r=t.offsetLeft+t.offsetWidth/2-e.offsetWidth/2):n===wr.end&&(i=t.offsetTop-e.offsetHeight+t.offsetHeight,r=t.offsetLeft-e.offsetWidth+t.offsetWidth),i=lr(i,0,e.scrollHeight),r=lr(r,0,e.scrollWidth),{top:i,left:r}}getScrollSnapAlign(t){const{scrollSnapAlign:e}=window.getComputedStyle(t);switch(e){case"start":return wr.start;case"center":default:return wr.center;case"end":return wr.end}}startTransition(t){const e=this.activeIndex,n=this.getIndexByItem(t),i={from:e,to:n,diff:Math.abs(n-e)};this.transition.set(this.tab,i);const r=i.to;this.checkTransition.has(this.tab)&&this.checkTransition.get(this.tab)&&clearTimeout(this.checkTransition.get(this.tab)),this.checkTransition.set(this.tab,setTimeout((()=>{this.transition.get(this.tab)?.to===r&&this.stopTransition()}),1e3))}stopTransition(){this.transition.delete(this.tab),this.checkTransition.has(this.tab)&&clearTimeout(this.checkTransition.get(this.tab))}get uniqueId(){if(!this._id){const t=Array.from(document.querySelectorAll(`.${yr.tab}`)).indexOf(this.tab),e=location.pathname+location.search+location.hash+this.tab.id+t;this._id=Math.abs(this.hashCode(e)).toString()}return this._id}hashCode(t){let e=0;if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}saveState(){const t=sessionStorage.getItem(this.storeKey)||"{}",e=JSON.parse(t);e[this.uniqueId]=this.activeIndex,sessionStorage.setItem(this.storeKey,JSON.stringify(e))}getStoredActiveItem(){const t=sessionStorage.getItem(this.storeKey)||"{}",e=JSON.parse(t)[this.uniqueId];if(!Number.isNaN(e))return this.getItemByIndex(e)||void 0}}class Er extends e{static instance;observer;register;tabs;logger;delayManager;static get Instance(){return Er.instance||(Er.instance=new Er),Er.instance}static getActiveTabItem(t){return Er.Instance.getActive(t)}constructor(){super(),this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.register=new Qe,this.tabs=[],this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),window.addEventListener("resize",this.delayManager.debounce((()=>{this.tabs.forEach((t=>t.scrollbarPosition()))}),50),!1),this.logger.debug("TabHandler initialized")}get selector(){return`.${yr.tab}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(yr.tab)}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a tab node");if(this.register.isRegistered(t))return;this.register.register(t);const e=new Cr(t,(t=>this.notify(t)));this.tabs.push(e)}getItems(t){return this.tabs.find((e=>e.tab===t))?.items??[]}getActive(t){return this.tabs.find((e=>e.tab===t))?.activeItem??null}}!function(t){t.active="tab-region__content--active"}(Ar||(Ar={}));class Lr extends t{static instance;observer;register;logger;static get Instance(){return Lr.instance||(Lr.instance=new Lr,Er.Instance.addObserver(Lr.instance)),Lr.instance}constructor(){super(),this.logger=Ee.get("Logger"),this.register=new Qe,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("TabRegionHandler initialized")}get selector(){return".tab-region"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("tab-region")}initialize(t){this.isComponent(t)?this.validateDataAttributes(t)&&(this.register.isRegistered(t)||(this.register.register(t),this.setInitialActive(t))):this.logger.error("Given parameter is not a tab node")}update(t){const e=this.getTabId(t.tab),n=this.getTabItemId(t.activeItem);if(!e||!n)return;const i=this.getTabRegionById(e),r=this.getTabRegionContentById(i,n);i&&r?this.activated(i,r):this.logger.warn(`Can find tab region content to selected tab "${e}" and tabItem  "${n}".`,De(Ze))}validateDataAttributes(t){let e=!0;const n=this.getIds(t),i=!n.tabRegionId,r=!n.tabId,s=n.tabRegionId!==n.tabId,o=n.tabItemIds.length!==this.getTabItems(t).length,a=n.tabRegionContentIds.length!==this.getTabRegionContents(t).length,l=n.tabItemIds.length!==n.tabRegionContentIds.length,c=n.tabItemIds.map((t=>n.tabRegionContentIds.includes(t))).reduce(((t,e)=>t&&e),!0);return(i||r||s)&&(this.logger.log("Error in tab region: tab region id or tab id not correct",De(Ze)),e=!1),(o||a||l||!c)&&(this.logger.log("Error in tab region: tab region content ids or tab item ids not correct",De(Ze)),e=!1),e}setInitialActive(t){if(!this.getActiveContent(t)){const e=t.querySelector(".tab"),n=Er.getActiveTabItem(e),i=this.getTabRegionContentById(t,this.getTabItemId(n));i&&this.activated(t,i)}}getTabRegionId(t){return t?.dataset?.sgTabRegion??null}getTabId(t){return t?.dataset?.sgTab??null}getTabItemId(t){return t?.dataset?.sgTabItem??null}getTabRegionContentId(t){return t?.dataset?.sgTabRegionContent??null}getIds(t){return{tabRegionId:this.getTabRegionId(t),tabId:this.getTabId(this.getTab(t)),tabItemIds:this.getTabItems(t).map((t=>this.getTabItemId(t))).filter((t=>t)),tabRegionContentIds:this.getTabRegionContents(t).map((t=>this.getTabRegionContentId(t))).filter((t=>t))}}getTabRegionById(t){return this.register.registeredNodes.find((e=>this.getTabRegionId(e)===t))}getTabRegionContentById(t,e){return t?.querySelector(`[data-sg-tab-region-content="${e}"]`)}getTab(t){return t.querySelector(":scope > .tab-region__navigation > .tab")}getTabItems(t){const e=Er.Instance,n=this.getTab(t);return e.getItems(n)}getTabRegionContainer(t){return t.querySelector(":scope > .tab-region__container")}getTabRegionContents(t){return Array.from(this.getTabRegionContainer(t).querySelectorAll(":scope > .tab-region__content"))}getActiveContent(t){return this.getTabRegionContents(t).find((t=>t.classList.contains(Ar.active)))}activated(t,e){this.deactivatedAll(t,[e]),e.classList.add("tab-region__content--active")}deactivated(t){t.classList.remove("tab-region__content--active")}deactivatedAll(t,e){this.getTabRegionContents(t).filter((t=>!e.includes(t))).forEach(this.deactivated)}}const xr=t=>!isNaN(Number(t));class kr{id;tooltip;refElement;tooltipOperator;hoverIntent;stateChangeListener;logger;environmentHelper;constructor(t,e,n,i){if(this.logger=Ee.get("Logger"),this.environmentHelper=Ee.get("EnvironmentHelper"),this.tooltipOperator=t,this.tooltip=e,this.refElement=n,this.id=i,this.stateChangeListener=[],!this.validate)return this.logger.warn("Content tooltip validation fails."),null;this.addArrow(),this.addContent(),this.handleFixedStrategy(),this.tooltipOperator.create(this.tooltip,this.refElement,this.strategy,this.placement,this.useFixPlacement,this.showArrow),this.suppressBubblingInTooltip(),this.initialTooltipStyle(),this.addEventHandler(),this.logger.debug("Content tooltip created.")}async showTooltip(){this.tooltip.classList.add(Oi.show),this.tooltipOperator.show(),this.triggerSateChange()}async hideTooltip(){this.tooltip.classList.remove(Oi.show),this.tooltipOperator.hide(),this.triggerSateChange()}async toggleTooltip(){return this.isShown()?this.hideTooltip():this.showTooltip()}async resetPosition(){this.tooltipOperator.resetPosition()}isShown(){return this.tooltip.classList.contains(Oi.show)}addStateChangeListener(t){this.stateChangeListener.push(t)}triggerSateChange(){this.stateChangeListener.forEach((t=>t(this.tooltip,this.refElement,this.isShown())))}get validate(){return this.tooltip&&this.refElement&&this.id&&this.tooltip.dataset.sgTooltipId===this.refElement.dataset.sgTooltipRef&&this.refElement.dataset.sgTooltipRef===this.id}addEventHandler(){const t=this.openBy,e=this.closeBy;t===Bi.default&&this.addOpenByDefaultEvent(),t===Bi.delay&&this.addOpenByDelayEvent(),e===zi.default&&this.addCloseByDefaultEvent(),e===zi.mouseout&&this.addCloseByMouseoutEvent()}addOpenByDefaultEvent(){["mouseenter","focus"].forEach((t=>{this.refElement.addEventListener(t,(()=>!this.environmentHelper.isTouchDevice()&&this.showTooltip()),!1)})),this.refElement.addEventListener("touchend",(t=>{this.toggleTooltip(),t.stopPropagation()}),!1),this.refElement.addEventListener("click",(t=>{this.environmentHelper.isTouchDevice()&&t.stopPropagation()}),!1)}addOpenByDelayEvent(){const t=this.refElement,e=()=>!this.environmentHelper.isTouchDevice(),n=()=>t.matches(":hover")&&e()&&this.showTooltip(),i=()=>t.matches(":focus")&&e()&&this.showTooltip(),r=this.openByDelay;t.addEventListener("mouseenter",(()=>setTimeout(n,r)),!1),t.addEventListener("focus",(()=>setTimeout(i,r)),!1),this.refElement.addEventListener("touchend",(t=>{this.toggleTooltip(),t.stopPropagation()}),!1),this.refElement.addEventListener("click",(t=>{this.environmentHelper.isTouchDevice()&&t.stopPropagation()}),!1)}addCloseByDefaultEvent(){["mouseleave","blur"].forEach((t=>{this.refElement.addEventListener(t,(()=>!this.environmentHelper.isTouchDevice()&&this.hideTooltip()),!1)}))}addCloseByMouseoutEvent(){this.hoverIntent=new li(this.tooltip),this.hoverIntent.off=()=>!this.environmentHelper.isTouchDevice()&&this.hideTooltip(),this.hoverIntent.timeOff=500,this.hoverIntent.start()}initialTooltipStyle(){this.tooltip.classList.add(Oi.tooltip),this.tooltip.classList.remove(Oi.show),setTimeout((()=>{this.tooltip.classList.add(Oi.initial)}),250)}addArrow(){if(!this.showArrow)return;if(this.tooltip.querySelector(`.${Oi.arrow}`))return;const t=document.createElement("div");t.classList.add(Oi.arrow),this.tooltip.appendChild(t)}addContent(){const t=document.createElement("div");t.classList.add(Oi.content),this.tooltip.appendChild(t);const e=this.tooltip.querySelector(`.${Oi.arrow}`);Array.from(this.tooltip.childNodes).filter((e=>e!==t)).filter((t=>t!==e)).forEach((e=>t.appendChild(e)))}handleFixedStrategy(){this.tooltip.classList.toggle(Oi.fixed,this.strategy===Vi.fixed)}get closeBy(){switch(this.refElement?.dataset?.sgTooltipCloseBy??this.tooltip?.dataset?.sgTooltipCloseBy??""){case"click-outside":return zi.clickOutside;case"event":return zi.event;case"mouseout":return zi.mouseout;default:return zi.default}}get openBy(){const t=this.refElement?.dataset?.sgTooltipOpenBy??this.tooltip?.dataset?.sgTooltipOpenBy??"";return"event"===t?Bi.event:t&&xr(t)?Bi.delay:Bi.default}get openByDelay(){const t=this.refElement?.dataset?.sgTooltipOpenBy??this.tooltip?.dataset?.sgTooltipOpenBy??"";return xr(t)?parseInt(t,10):0}get showArrow(){return!("false"===(this.refElement?.dataset?.sgTooltipShowArrow??this.tooltip?.dataset?.sgTooltipShowArrow??"true").toLowerCase())}get strategy(){return"fixed"===(this.refElement?.dataset?.sgTooltipStrategy??this.tooltip?.dataset?.sgTooltipStrategy??"")?Vi.fixed:Vi.absolute}get useFixPlacement(){return this.refElement.hasAttribute(Di.placement)||this.tooltip.hasAttribute(Di.placement)}get placement(){return(this.refElement?.dataset?.sgTooltipPlacement??this.tooltip?.dataset?.sgTooltipPlacement??"")||"bottom-start"}suppressBubblingInTooltip(){this.tooltip.addEventListener("click",(t=>{t.stopPropagation()}),!1)}}class Pr{tooltip;refElement;text;id;register;tooltipOperator;logger;constructor(t,e,n){if(this.logger=Ee.get("Logger"),this.tooltipOperator=t,this.refElement=e,this.text=this.refElement?.dataset?.sgTooltip,this.register=n,this.id=this.generateRandomId(),!this.refElement||!this.text)return this.logger.warn("Text tooltip validation fails."),null;this.logger.debug("ConvertText2Content created")}convert(){return this.createTooltip(),this.linkTooltip2RefElement(),new kr(this.tooltipOperator,this.tooltip,this.refElement,this.id)}createTooltip(){const t=document.createTextNode(this.text);this.tooltip=document.createElement("span"),this.tooltip.classList.add("tooltip"),this.tooltip.dataset.sgTooltip="",this.tooltip.appendChild(t),this.register.register(this.tooltip),document.body.appendChild(this.tooltip),delete this.refElement.dataset.sgTooltip}linkTooltip2RefElement(){this.tooltip.dataset.sgTooltipId=this.id,this.refElement.dataset.sgTooltipRef=this.id}generateRandomId(){return"a"+Math.random().toString().slice(2)}}const Mr=["start","end"],Rr=["top","right","bottom","left"].reduce(((t,e)=>t.concat(e,e+"-"+Mr[0],e+"-"+Mr[1])),[]),Hr=Math.min,Or=Math.max,Dr=(Math.round,Math.floor,{left:"right",right:"left",bottom:"top",top:"bottom"}),Nr={start:"end",end:"start"};function Br(t,e,n){return Or(t,Hr(e,n))}function zr(t,e){return"function"==typeof t?t(e):t}function Vr(t){return t.split("-")[0]}function Fr(t){return t.split("-")[1]}function jr(t){return"x"===t?"y":"x"}function $r(t){return"y"===t?"height":"width"}function qr(t){return["top","bottom"].includes(Vr(t))?"y":"x"}function Ur(t){return jr(qr(t))}function Wr(t,e,n){void 0===n&&(n=!1);const i=Fr(t),r=Ur(t),s=$r(r);let o="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Kr(o)),[o,Kr(o)]}function Gr(t){return t.replace(/start|end/g,(t=>Nr[t]))}function Kr(t){return t.replace(/left|right|bottom|top/g,(t=>Dr[t]))}function Xr(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function Zr(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Jr(t,e,n){let{reference:i,floating:r}=t;const s=qr(e),o=Ur(e),a=$r(o),l=Vr(e),c="y"===s,u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let g;switch(l){case"top":g={x:u,y:i.y-r.height};break;case"bottom":g={x:u,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:d};break;case"left":g={x:i.x-r.width,y:d};break;default:g={x:i.x,y:i.y}}switch(Fr(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1)}return g}async function Yr(t,e){var n;void 0===e&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=zr(e,t),p=Xr(g),f=a[h?"floating"===d?"reference":"floating":d],m=Zr(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(f)))||n?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),b=await(null==s.isElement?void 0:s.isElement(y))&&await(null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},w=Zr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-w.top+p.top)/b.y,bottom:(w.bottom-m.bottom+p.bottom)/b.y,left:(m.left-w.left+p.left)/b.x,right:(w.right-m.right+p.right)/b.x}}const Qr=Math.min,ts=Math.max,es=Math.round,ns=(Math.floor,t=>({x:t,y:t}));function is(t){return os(t)?(t.nodeName||"").toLowerCase():"#document"}function rs(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function ss(t){var e;return null==(e=(os(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function os(t){return t instanceof Node||t instanceof rs(t).Node}function as(t){return t instanceof Element||t instanceof rs(t).Element}function ls(t){return t instanceof HTMLElement||t instanceof rs(t).HTMLElement}function cs(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof rs(t).ShadowRoot)}function us(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function ds(t){return["table","td","th"].includes(is(t))}function hs(t){const e=gs(),n=fs(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function gs(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ps(t){return["html","body","#document"].includes(is(t))}function fs(t){return rs(t).getComputedStyle(t)}function ms(t){return as(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function vs(t){if("html"===is(t))return t;const e=t.assignedSlot||t.parentNode||cs(t)&&t.host||ss(t);return cs(e)?e.host:e}function ys(t){const e=vs(t);return ps(e)?t.ownerDocument?t.ownerDocument.body:t.body:ls(e)&&us(e)?e:ys(e)}function bs(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const r=ys(t),s=r===(null==(i=t.ownerDocument)?void 0:i.body),o=rs(r);return s?e.concat(o,o.visualViewport||[],us(r)?r:[],o.frameElement&&n?bs(o.frameElement):[]):e.concat(r,bs(r,[],n))}function ws(t){const e=fs(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ls(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=es(n)!==s||es(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function As(t){return as(t)?t:t.contextElement}function Ss(t){const e=As(t);if(!ls(e))return ns(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=ws(e);let o=(s?es(n.width):n.width)/i,a=(s?es(n.height):n.height)/r;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const _s=ns(0);function Is(t){const e=rs(t);return gs()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:_s}function Ts(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const r=t.getBoundingClientRect(),s=As(t);let o=ns(1);e&&(i?as(i)&&(o=Ss(i)):o=Ss(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==rs(t))&&e}(s,n,i)?Is(s):ns(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const t=rs(s),e=i&&as(i)?rs(i):i;let n=t.frameElement;for(;n&&i&&e!==t;){const t=Ss(n),e=n.getBoundingClientRect(),i=fs(n),r=e.left+(n.clientLeft+parseFloat(i.paddingLeft))*t.x,s=e.top+(n.clientTop+parseFloat(i.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,d*=t.y,l+=r,c+=s,n=rs(n).frameElement}}return Zr({width:u,height:d,x:l,y:c})}function Cs(t){return Ts(ss(t)).left+ms(t).scrollLeft}function Es(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=rs(t),i=ss(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const t=gs();(!t||t&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}(t,n);else if("document"===e)i=function(t){const e=ss(t),n=ms(t),i=t.ownerDocument.body,r=ts(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=ts(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+Cs(t);const a=-n.scrollTop;return"rtl"===fs(i).direction&&(o+=ts(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}(ss(t));else if(as(e))i=function(t,e){const n=Ts(t,!0,"fixed"===e),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=ls(t)?Ss(t):ns(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:r*s.x,y:i*s.y}}(e,n);else{const n=Is(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return Zr(i)}function Ls(t,e){const n=vs(t);return!(n===e||!as(n)||ps(n))&&("fixed"===fs(n).position||Ls(n,e))}function xs(t,e,n){const i=ls(e),r=ss(e),s="fixed"===n,o=Ts(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ns(0);if(i||!i&&!s)if(("body"!==is(e)||us(r))&&(a=ms(e)),i){const t=Ts(e,!0,s,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else r&&(l.x=Cs(r));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ks(t,e){return ls(t)&&"fixed"!==fs(t).position?e?e(t):t.offsetParent:null}function Ps(t,e){const n=rs(t);if(!ls(t))return n;let i=ks(t,e);for(;i&&ds(i)&&"static"===fs(i).position;)i=ks(i,e);return i&&("html"===is(i)||"body"===is(i)&&"static"===fs(i).position&&!hs(i))?n:i||function(t){let e=vs(t);for(;ls(e)&&!ps(e);){if(hs(e))return e;e=vs(e)}return null}(t)||n}const Ms={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:i}=t;const r=ls(n),s=ss(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=ns(1);const l=ns(0);if((r||!r&&"fixed"!==i)&&(("body"!==is(n)||us(s))&&(o=ms(n)),ls(n))){const t=Ts(n);a=Ss(n),l.x=t.x+n.clientLeft,l.y=t.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}},getDocumentElement:ss,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const s=[..."clippingAncestors"===n?function(t,e){const n=e.get(t);if(n)return n;let i=bs(t,[],!1).filter((t=>as(t)&&"body"!==is(t))),r=null;const s="fixed"===fs(t).position;let o=s?vs(t):t;for(;as(o)&&!ps(o);){const e=fs(o),n=hs(o);n||"fixed"!==e.position||(r=null),(s?!n&&!r:!n&&"static"===e.position&&r&&["absolute","fixed"].includes(r.position)||us(o)&&!n&&Ls(t,o))?i=i.filter((t=>t!==o)):r=e,o=vs(o)}return e.set(t,i),i}(e,this._c):[].concat(n),i],o=s[0],a=s.reduce(((t,n)=>{const i=Es(e,n,r);return t.top=ts(i.top,t.top),t.right=Qr(i.right,t.right),t.bottom=Qr(i.bottom,t.bottom),t.left=ts(i.left,t.left),t}),Es(e,o,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Ps,getElementRects:async function(t){let{reference:e,floating:n,strategy:i}=t;const r=this.getOffsetParent||Ps,s=this.getDimensions;return{reference:xs(e,await r(n),i),floating:{x:0,y:0,...await s(n)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return ws(t)},getScale:Ss,isElement:as,isRTL:function(t){return"rtl"===fs(t).direction}};class Rs{floatingEl;referenceEl;arrowEl;strategy;useFixPlacement;placement;showArrow;create(t,e,n,i,r,s){this.floatingEl=t,this.referenceEl=e,this.arrowEl=this.floatingEl.querySelector(`.${Oi.arrow}`),this.strategy=n===Vi.fixed?Vi.fixed:Vi.absolute,this.placement=i||"bottom",this.useFixPlacement=r,this.showArrow=s??!1,this.update()}async show(){await this.update()}async hide(){await this.update()}async resetPosition(){await this.update()}get computePositionConfig(){return{strategy:this.strategy,placement:this.placement,middleware:this.middleware}}get middleware(){const t=[];var e;return this.useFixPlacement?t.push(function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,i,r;const{rects:s,middlewareData:o,placement:a,platform:l,elements:c}=e,{crossAxis:u=!1,alignment:d,allowedPlacements:h=Rr,autoAlignment:g=!0,...p}=zr(t,e),f=void 0!==d||h===Rr?function(t,e,n){return(t?[...n.filter((e=>Fr(e)===t)),...n.filter((e=>Fr(e)!==t))]:n.filter((t=>Vr(t)===t))).filter((n=>!t||Fr(n)===t||!!e&&Gr(n)!==n))}(d||null,g,h):h,m=await Yr(e,p),v=(null==(n=o.autoPlacement)?void 0:n.index)||0,y=f[v];if(null==y)return{};const b=Wr(y,s,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(a!==y)return{reset:{placement:f[0]}};const w=[m[Vr(y)],m[b[0]],m[b[1]]],A=[...(null==(i=o.autoPlacement)?void 0:i.overflows)||[],{placement:y,overflows:w}],S=f[v+1];if(S)return{data:{index:v+1,overflows:A},reset:{placement:S}};const _=A.map((t=>{const e=Fr(t.placement);return[t.placement,e&&u?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),I=(null==(r=_.filter((t=>t[2].slice(0,Fr(t[0])?2:3).every((t=>t<=0))))[0])?void 0:r[0])||_[0][0];return I!==a?{data:{index:v+1,overflows:A},reset:{placement:I}}:{}}}}({autoAlignment:!1,allowedPlacements:[this.placement]})):t.push(function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...m}=zr(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=Vr(r),y=qr(a),b=Vr(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),A=h||(b||!f?[Kr(a)]:function(t){const e=Kr(t);return[Gr(t),e,Gr(e)]}(a)),S="none"!==p;!h&&S&&A.push(...function(t,e,n,i){const r=Fr(t);let s=function(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}(Vr(t),"start"===n,i);return r&&(s=s.map((t=>t+"-"+r)),e&&(s=s.concat(s.map(Gr)))),s}(a,f,p,w));const _=[a,...A],I=await Yr(e,m),T=[];let C=(null==(i=s.flip)?void 0:i.overflows)||[];if(u&&T.push(I[v]),d){const t=Wr(r,o,w);T.push(I[t[0]],I[t[1]])}if(C=[...C,{placement:r,overflows:T}],!T.every((t=>t<=0))){var E,L;const t=((null==(E=s.flip)?void 0:E.index)||0)+1,e=_[t];if(e)return{data:{index:t,overflows:C},reset:{placement:e}};let n=null==(L=C.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:L.placement;if(!n)switch(g){case"bestFit":{var x;const t=null==(x=C.filter((t=>{if(S){const e=qr(t.placement);return e===y||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:x[0];t&&(n=t);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}}()),t.push((void 0===(e={padding:5})&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=zr(e,t),c={x:n,y:i},u=await Yr(t,l),d=qr(Vr(r)),h=jr(d);let g=c[h],p=c[d];if(s){const t="y"===h?"bottom":"right";g=Br(g+u["y"===h?"top":"left"],g,g-u[t])}if(o){const t="y"===d?"bottom":"right";p=Br(p+u["y"===d?"top":"left"],p,p-u[t])}const f=a.fn({...t,[h]:g,[d]:p});return{...f,data:{x:f.x-n,y:f.y-i,enabled:{[h]:s,[d]:o}}}}})),this.showArrow&&(t.push(function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await async function(t,e){const{placement:n,platform:i,elements:r}=t,s=await(null==i.isRTL?void 0:i.isRTL(r.floating)),o=Vr(n),a=Fr(n),l="y"===qr(n),c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=zr(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof p&&(g="end"===a?-1*p:p),l?{x:g*u,y:h*c}:{x:h*c,y:g*u}}(e,t);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}}(6)),t.push((t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=zr(t,e)||{};if(null==c)return{};const d=Xr(u),h={x:n,y:i},g=Ur(r),p=$r(g),f=await o.getDimensions(c),m="y"===g,v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[g]-h[g]-s.floating[p],A=h[g]-s.reference[g],S=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let _=S?S[b]:0;_&&await(null==o.isElement?void 0:o.isElement(S))||(_=a.floating[b]||s.floating[p]);const I=w/2-A/2,T=_/2-f[p]/2-1,C=Hr(d[v],T),E=Hr(d[y],T),L=C,x=_-f[p]-E,k=_/2-f[p]/2+I,P=Br(L,k,x),M=!l.arrow&&null!=Fr(r)&&k!==P&&s.reference[p]/2-(k<L?C:E)-f[p]/2<0,R=M?k<L?k-L:k-x:0;return{[g]:h[g]+R,data:{[g]:P,centerOffset:k-P-R,...M&&{alignmentOffset:R}},reset:M}}}))({element:this.arrowEl,padding:16}))),t}get computePositionReturn(){return{x:0,y:0,strategy:this.strategy,placement:this.placement,middlewareData:null}}async update(){this.setTooltipPosition(this.computePositionReturn);const t=await((t,e,n)=>{const i=new Map,r={platform:Ms,...n},s={...r.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=Jr(c,i,l),h=i,g={},p=0;for(let n=0;n<a.length;n++){const{name:s,fn:f}=a[n],{x:m,y:v,data:y,reset:b}=await f({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});u=null!=m?m:u,d=null!=v?v:d,g={...g,[s]:{...g[s],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:t,floating:e,strategy:r}):b.rects),({x:u,y:d}=Jr(c,h,l))),n=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:g}})(t,e,{...r,platform:s})})(this.referenceEl,this.floatingEl,this.computePositionConfig);this.setTooltipPosition(t),this.setArrowPosition(t)}setTooltipPosition({x:t,y:e,strategy:n}){Object.assign(this.floatingEl.style,{position:n,left:`${t}px`,top:`${e}px`})}setArrowPosition({middlewareData:t,placement:e}){if(!this.arrowEl||!this.showArrow)return;const{x:n,y:i}=t.arrow;let r="-0.375rem";try{r=`-${parseFloat(window.getComputedStyle(this.arrowEl).width.replace("px",""))/2}px`}catch{}const s={top:"bottom",right:"left",bottom:"top",left:"right"}[e.split("-")[0]];this.arrowEl.classList.toggle(Oi.arrowRight,"right"===s),this.arrowEl.classList.toggle(Oi.arrowBottom,"bottom"===s),this.arrowEl.classList.toggle(Oi.arrowLeft,"left"===s),Object.assign(this.arrowEl.style,{left:null!==n?`${n}px`:"",top:null!==i?`${i}px`:"",right:"",bottom:"",[s]:r})}}class Hs extends e{static instance;escapeTrigger;observer;register;tooltipStore;logger;bodyClickTrigger;resizeHandler;static get Instance(){return Hs.instance||(Hs.instance=new Hs),Hs.instance}constructor(){super(),this.tooltipStore=new Map,this.register=new Qe,this.logger=Ee.get("Logger"),this.bodyClickTrigger=Ee.get("BodyClickTrigger"),this.resizeHandler=Ee.get("ResizeHandler"),this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.escapeTrigger=tn.Instance,this.escapeTrigger.add((()=>this.hideAll())),this.bodyClickTrigger.add((()=>this.hideAll())),this.resizeHandler.add((()=>this.resize())),this.logger.debug("TooltipHandler initialized")}resize(){this.tooltipStore.forEach((t=>{t.resetPosition()}))}get selector(){return`[${Di.tooltip}]`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}initialize(t){if(!this.isComponent(t))return void this.logger.warn("Given parameter is not a tooltip node");if(this.register.isRegistered(t))return;this.register.register(t);const e=t.dataset.sgTooltip,n=t.dataset.sgTooltipId;let i;switch(this.getTooltipType(n,e)){case Ni.text:i=this.createTextTooltip(t);break;case Ni.content:i=this.createContentTooltip(t,n);break;default:return void this.logger.warn("The tooltip type could not be determined, probably the data attributes were not set correctly.")}i?(this.tooltipStore.set(i.refElement,i),i.addStateChangeListener(((t,e,n)=>this.notify({tooltip:t,refElement:e,isShown:n})))):this.logger.warn("Error while initialize tooltip.")}isComponent(t){return Qe.isNode(t)}getTooltip(t){return this.tooltipStore.get(t)?.tooltip??null}show(t){const e=this.getRefElement(t);if(!e)return;const n=this.tooltipStore.get(e);n?.showTooltip()}hide(t){const e=this.getRefElement(t);if(!e)return;const n=this.tooltipStore.get(e);n?.hideTooltip()}hideAll(){this.tooltipStore.forEach((t=>{t.hideTooltip()}))}toggle(t,e=void 0){void 0===e?this.isShown(t)?this.hide(t):this.show(t):e?this.show(t):this.hide(t)}isShown(t){const e=this.getRefElement(t);if(!e)return;const n=this.tooltipStore.get(e);return n?.isShown()}getTooltipType(t,e){return e&&!t?Ni.text:!e&&t?Ni.content:Ni.unknown}createTextTooltip(t){const e=new Rs,n=new Pr(e,t,this.register);return n?.convert()}createContentTooltip(t,e){const n=new Rs,i=this.getRefElementById(e);return new kr(n,t,i,e)}getRefElement(t){const e=t?.dataset?.sgTooltipId??"";return this.getRefElementById(e)}getRefElementById(t){return t?document.querySelector(`[${Di.refElement}="${t}"]`):null}}class Os{targetNode;classToWatch;classAddedCallback;classRemovedCallback;observer;lastClassState;constructor(t,e,n,i){this.targetNode=t,this.classToWatch=e,this.classAddedCallback=n,this.classRemovedCallback=i,this.observer=null,this.lastClassState=this.targetNode.classList.contains(this.classToWatch),this.initialize()}start(){this.observer.observe(this.targetNode,{attributes:!0})}stop(){this.observer.disconnect()}initialize(){this.observer=new MutationObserver((t=>{this.mutationCallback(t)})),this.start()}mutationCallback(t){t.forEach((t=>{if("attributes"===t.type&&"class"===t.attributeName){const e=t.target.classList.contains(this.classToWatch);this.lastClassState!==e&&(this.lastClassState=e,e?this.classAddedCallback():this.classRemovedCallback())}}))}}class Ds{targetNode;classCallbacks;observer;constructor(t,e){this.targetNode=t,this.classCallbacks=e,this.initialize()}initialize(){this.observer=new IntersectionObserver((([t])=>this.pin(t)),{threshold:[1]}),this.observer.observe(this.targetNode)}pin(t){const e=t.intersectionRatio<1;this.classCallbacks.map((t=>t())).filter((t=>t)).forEach((n=>t.target.classList.toggle(n,e)))}}var Ns,Bs,zs,Vs,Fs,js,$s,qs,Us;!function(t){t.pageHeaderNavigation=".page-header__navigation"}(Ns||(Ns={})),function(t){t.pinned="page-header--pinned",t.showMenu="page-header--show-menu"}(Bs||(Bs={}));class Ws{static instance;observer;register;pinObserver;escapeTrigger;sidePanelHandler;sidePanelWatcher;logger;bodyClickTrigger;delayManager;static get Instance(){return Ws.instance||(Ws.instance=new Ws),Ws.instance}constructor(){this.logger=Ee.get("Logger"),this.bodyClickTrigger=Ee.get("BodyClickTrigger"),this.delayManager=Ee.get("DelayManager"),this.pinObserver=[],this.register=new Qe,this.sidePanelHandler=ar.Instance,this.sidePanelWatcher=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.escapeTrigger=tn.Instance,this.escapeTrigger.add((()=>this.closeAllMenus())),this.bodyClickTrigger.add((()=>this.closeAllMenus())),window.addEventListener("resize",this.delayManager.debounce((()=>this.closeAllMenus()),10),!1),this.logger.debug("PageHeaderHandler initialized")}get selector(){return".page-header"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("page-header")}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.addScrollLogic(t),this.addOpenCloseMenuLogic(t),this.inputFix(t)):this.logger.error("Given parameter is not a page header node")}inputFix(t){const e=document.querySelector("html").style,n="--sg-root-scroll-padding";t.querySelectorAll("input").forEach((t=>{t.addEventListener("focusin",(()=>e.setProperty(n,"0"))),t.addEventListener("focusout",(()=>e.removeProperty(n)))}))}addScrollLogic(t){this.pinObserver.push(new Ds(t,[()=>Bs.pinned,()=>this.isAnyMenuColListActive(t)?Bs.showMenu:null])),document.addEventListener("scroll",this.delayManager.debounce((()=>{Pe()||this.isPinned(t)||this.isAnyMenuColListActive(t)||this.closeMenu(t)}),10))}addOpenCloseMenuLogic(t){const e=this.getMenuOpener(t),n=this.getNavigation(t),i=!!this.sidePanelHandler.isActionHandler(e),r=i&&ar.isMobile(n);e?.addEventListener("click",(()=>(!i||r&&!Pe())&&this.toggleMenu(t))),i&&this.listenOnSidePanelChange(t,r)}listenOnSidePanelChange(t,e=!1){const n=this.getNavigation(t);if(!n)return;const i=Ji.open,r=()=>!e||e&&Pe(),s=new Os(n,i,(()=>r()&&this.openMenu(t)),(()=>r()&&this.closeMenu(t)));this.sidePanelWatcher.set(t,s)}openMenu(t){t.classList.add(Bs.showMenu)}closeMenu(t){t.classList.remove(Bs.showMenu),Li.deactivatedMenus(t);const e=this.getNavigation(t);e&&this.sidePanelHandler.close(e)}toggleMenu(t){t.classList.toggle(Bs.showMenu)}closeAllMenus(){this.findAll.forEach((t=>this.closeMenu(t)))}isPinned(t){return t.classList.contains(Bs.pinned)}getMenuOpener(t){return t.querySelector("[data-sg-page-header-navigation]")}getNavigation(t){return t.querySelector(Ns.pageHeaderNavigation)}getMenu(t){const e=t.querySelector(Wn.menu);return e?Li.getMenu(e):null}isAnyMenuColListActive(t){const e=this.getMenu(t);return!!e?.allChildLists.filter((t=>t.style===Zn.col)).find((t=>t.isActivated))}}!function(t){t.snapshot="snapshot",t.headline="snapshot__headline",t.tradingBuyBtn="snapshot__trading-buy-btn",t.tradingSellBtn="snapshot__trading-sell-btn",t.zeroIntegrationBtn="zero-flyer__zero-integration-btn",t.closeZeroAdBtn="zero-flyer__close",t.valuesFst="snapshot__values",t.valuesSnd="snapshot__values-second",t.valueCurrent="snapshot__value-current",t.valueAbsolute="snapshot__value-absolute",t.valueRelative="snapshot__value-relative",t.certificateValues="snapshot__certificate-values",t.certificateBaseValues="snapshot__certificate-base-values",t.certificateCurrentValue="snapshot__certificate-current-value",t.certificateRelativeValue="snapshot__certificate-relative-value",t.ad="snapshot__ad"}(zs||(zs={})),function(t){t.bigValues="snapshot--big-values",t.sndValue="snapshot--2nd-values",t.sourceInfo="snapshot--source-info",t.isZeroUser="snapshot--is-zero-user",t.ad="snapshot--ad",t.certificate="snapshot--certificate",t.zeroAd="snapshot--zero-flyer",t.zeroIntegration="snapshot--zero-integration",t.showValues="snapshot--show-values"}(Vs||(Vs={})),function(t){t[t.initial=0]="initial",t[t.buyBtn=1]="buyBtn",t[t.sellBtn=2]="sellBtn",t[t.closeZeroAdBtn=3]="closeZeroAdBtn",t[t.openZeroIntegBtn=4]="openZeroIntegBtn",t[t.none=5]="none"}(Fs||(Fs={})),function(t){t[t.anonymous=0]="anonymous",t[t.isZeroUser=1]="isZeroUser"}(js||(js={}));class Gs{static instance;observer;register;snapshotOperators;logger;resizeHandler;static get Instance(){return Gs.instance||(Gs.instance=new Gs),Gs.instance}constructor(){this.logger=Ee.get("Logger"),this.resizeHandler=Ee.get("ResizeHandler"),this.register=new Qe,this.snapshotOperators=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.resizeHandler.add((()=>this.updateSnapshots())),this.logger.debug("SnapshotHandler initialized")}get selector(){return`.${zs.snapshot}`}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains(zs.snapshot)}initialize(t){this.isComponent(t)?this.register.isRegistered(t)||(this.register.register(t),this.snapshotOperators.set(t,new Ks(t,this.logger))):this.logger.error("Given parameter is not a snapshot node")}updateSnapshots(){this.snapshotOperators.forEach((t=>{t.updateState(Fs.none)}))}}class Ks{logger;snapshot;buyBtn;sellBtn;closeZeroAdBtn;openZeroIntegBtn;classWatcher;constructor(t,e){if(this.logger=e,this.snapshot=t,this.buyBtn=this.snapshot.querySelector(`.${zs.tradingBuyBtn}`),this.sellBtn=this.snapshot.querySelector(`.${zs.tradingSellBtn}`),this.closeZeroAdBtn=this.snapshot.querySelector(`.${zs.closeZeroAdBtn}`),this.openZeroIntegBtn=this.snapshot.querySelector(`.${zs.zeroIntegrationBtn}`),!this.validation())throw new Error("Error while initial snapshot");this.updateState(Fs.initial),this.addButtonEvents(),this.addUserStateWatcher(),this.handleBigValues(),this.showValues()}updateState(t){const e=this.userState,n=e===js.anonymous,i=e===js.isZeroUser,r=this.isShownZeroAd,s=this.isShownZeroIntegration,o=t===Fs.buyBtn&&n&&!r&&!s||t===Fs.sellBtn&&n&&!r&&!s||t===Fs.none&&r&&!s&&!i,a=t===Fs.buyBtn&&i&&!s||t===Fs.sellBtn&&i&&!s||t===Fs.openZeroIntegBtn||t===Fs.none&&s;this.snapshot.classList.toggle(Vs.zeroAd,o),this.snapshot.classList.toggle(Vs.zeroIntegration,a)}get isShownZeroAd(){return this.snapshot.classList.contains(Vs.zeroAd)}get isShownZeroIntegration(){return this.snapshot.classList.contains(Vs.zeroIntegration)}get userState(){return this.snapshot.classList.contains(Vs.isZeroUser)?js.isZeroUser:js.anonymous}get buttons(){return[this.buyBtn,this.sellBtn]}get bigValueGroupTrashold(){return 14}get bigValueSingleTrashold(){return 8}validation(){return!this.buttons.some((t=>!t))||(this.logger.error("Some snapshot button is not set correctly",De(Ke)),!1)}addButtonEvents(){this.buyBtn?.addEventListener("click",(()=>this.updateState(Fs.buyBtn)),!1),this.sellBtn?.addEventListener("click",(()=>this.updateState(Fs.sellBtn)),!1),this.closeZeroAdBtn?.addEventListener("click",(()=>this.updateState(Fs.closeZeroAdBtn)),!1),this.openZeroIntegBtn?.addEventListener("click",(()=>this.updateState(Fs.openZeroIntegBtn)),!1)}addUserStateWatcher(){const t=Vs.isZeroUser,e=()=>this.updateState(Fs.none);this.classWatcher=new Os(this.snapshot,t,e,e)}handleBigValues(){const t=this.getAllGroupValueNodes().map(this.nodeToText).map(this.numOfNumbersInText);let e=Math.max(...t)>=this.bigValueGroupTrashold;if(!e){const t=this.getAllSingleValueNodes().map(this.nodeToText).map(this.numOfNumbersInText);e=Math.max(...t)>=this.bigValueSingleTrashold}this.snapshot.classList.toggle(Vs.bigValues,e)}getAllGroupValueNodes(){const t=`.${zs.valuesFst},.${zs.valuesSnd}`;return Array.from(this.snapshot.querySelectorAll(t)).map((t=>t))}getAllSingleValueNodes(){const t=`.${zs.valueCurrent},.${zs.valueAbsolute},.${zs.valueRelative}`;return Array.from(this.snapshot.querySelectorAll(t)).map((t=>t))}nodeToText(t){return t.innerText.trim()}numOfNumbersInText(t){return t.split("").filter((t=>!isNaN(parseInt(t)))).length}showValues(){this.snapshot.classList.add(Vs.showValues)}}!function(t){t.results="suggest-search__results",t.resultGroup="suggest-search__result-group",t.result="suggest-search__result",t.headline="suggest-search__headline",t.resultLink="suggest-search__result-link",t.resultDescription="suggest-search__result-description",t.resultIdentifier="suggest-search__result-identifier",t.resultFavorite="suggest-search__result-favorite"}($s||($s={})),function(t){t.showResults="suggest-search--show-results",t.resultsLoading="suggest-search--results-loading",t.noIdentifier="suggest-search__result--no-identifier",t.noFavorite="suggest-search__result--no-favorite",t.resultAd="suggest-search__result--ad",t.markResult="suggest-search__result--mark"}(qs||(qs={})),function(t){t.suggestSearch="data-sg-suggest-search",t.input="data-sg-suggest-search-input"}(Us||(Us={}));class Xs{static instance;observer;register;tooltipHandler;elements;logger;static get Instance(){return Xs.instance||(Xs.instance=new Xs),Xs.instance}constructor(){this.logger=Ee.get("Logger"),this.register=new Qe,this.tooltipHandler=Hs.Instance,this.elements=new Map,this.findAll.forEach((t=>this.initialize(t))),this.observer=new Ye(this.selector,(t=>this.initialize(t))),this.logger.debug("Suggest search handler initialized")}get selector(){return".suggest-search"}get findAll(){return Array.from(document.querySelectorAll(this.selector))}isComponent(t){return Qe.isNode(t)&&t.classList.contains("suggest-search")}initialize(t){if(!this.isComponent(t))return void this.logger.error("Given parameter is not a suggest search node");if(this.register.isRegistered(t))return;const e=t.getAttribute(`${Us.suggestSearch}`),n=document.querySelector(`[${Us.input}="${e}"]`),i=t.closest(`[${Di.tooltip}]`);n?(this.register.register(t),this.elements.set(t,{id:e,input:n,tooltip:i}),n.value="",n.addEventListener("click",(e=>{this.show(t),e.stopPropagation()})),n.addEventListener("keyup",(()=>{this.show(t)})),n.addEventListener("focus",(()=>{this.show(t)}))):this.logger.error("Related suggest search input not found.",De(Xe))}getMarked(t){return t.querySelector(`.${$s.results}`).querySelector(`.${qs.markResult}`)}mark(t,e=0){const n=t.querySelector(`.${$s.results}`).querySelectorAll(`.${$s.result}`);this.removeMark(t);const i=Array.from(n).at(e);return i?.classList.add(qs.markResult),i}markNext(t){const e=t.querySelector(`.${$s.results}`),n=e.querySelectorAll(`.${$s.result}`),i=e.querySelector(`.${qs.markResult}`),r=Array.from(n).indexOf(i),s=r+1<n.length?r+1:0;return this.mark(t,s)}markPrevious(t){const e=t.querySelector(`.${$s.results}`),n=e.querySelectorAll(`.${$s.result}`),i=e.querySelector(`.${qs.markResult}`),r=Array.from(n).indexOf(i),s=r-1>=0?r-1:n.length-1;return this.mark(t,s)}removeMark(t){t.querySelector(`.${$s.results}`).querySelectorAll(`.${qs.markResult}`).forEach((t=>t.classList.remove(qs.markResult)))}show(t){this.toggleResults(t);const{tooltip:e}=this.elements.get(t);e&&this.tooltipHandler.show(e)}hide(t){this.hideResults(t);const{tooltip:e}=this.elements.get(t);e&&this.tooltipHandler.hide(e)}toggleResults(t){t.classList.toggle(qs.showResults,this.isSearchForInstrument(t))}hideResults(t){t.classList.remove(qs.showResults)}isSearchForInstrument(t){const{input:e}=this.elements.get(t);return""!==e.value}}class Zs{static instance;name="StyleGuide";accordionHandler=null;backToTopHandler=null;carouselHandler=null;copyHandler=null;colorScheme=null;datepickerHandler=null;debugModeHandler=null;detailsNavigationHandler=null;dropdownHandler=null;floatingLabelHandler=null;formControlHandler=null;selectExtendedHandler=null;inputHandler=null;listingHandler=null;menuHandler=null;notificationHandler=null;messageHandler=null;multiDotBarHandler=null;quoteTickerHandler=null;pageHeaderHandler=null;paginationHandler=null;performanceBarHandler=null;ratingHandler=null;realtimePushHandler=null;sidePanelHandler=null;snapshotHandler=null;suggestSearchHandler=null;tabHandler=null;tabRegionHandler=null;tooltipHandler=null;myVersion=null;logger;delayManager;static get AccordionHandler(){return Zs.tryCatch((()=>en.Instance),"AccordionHandler")}static get BackToTopHandler(){return Zs.tryCatch((()=>nn.Instance),"BackToTopHandler")}static get CarouselHandler(){return Zs.tryCatch((()=>Sr.Instance),"CarouselHandler")}static get CopyHandler(){return Zs.tryCatch((()=>wn.Instance),"CopyHandler")}static get ColorScheme(){return Zs.tryCatch((()=>Tn.Instance),"ColorScheme")}static get DatepickerHandler(){return Zs.tryCatch((()=>ei.Instance),"DatepickerHandler")}static get DebugModeHandler(){return Zs.tryCatch((()=>Mn.Instance),"DebugModeHandler")}static get DetailsNavigationHandler(){return Zs.tryCatch((()=>Qn.Instance),"DetailsNavigationHandler")}static get DropdownHandler(){return Zs.tryCatch((()=>ti.Instance),"DropdownHandler")}static get FloatingLabelHandler(){return Zs.tryCatch((()=>ni.Instance),"FloatingLabelHandler")}static get FormGroupHandler(){return Zs.tryCatch((()=>ri.Instance),"FormGroupHandler")}static get SelectExtendedHandler(){return Zs.tryCatch((()=>ai.Instance),"SelectExtendedHandler")}static get InputHandler(){return Zs.tryCatch((()=>si.Instance),"InputHandler")}static get ListingHandler(){return Zs.tryCatch((()=>oi.Instance),"ListingHandler")}static get MenuHandler(){return Zs.tryCatch((()=>Li.Instance),"MenuHandler")}static get NotificationHandler(){return Zs.tryCatch((()=>Pn.Instance),"NotificationHandler")}static get MessageHandler(){return Zs.tryCatch((()=>Ln.Instance),"MessageHandler")}static get MultiDotBarHandler(){return Zs.tryCatch((()=>rr.Instance),"MultiDotBarHandler")}static get PageHeaderHandler(){return Zs.tryCatch((()=>Ws.Instance),"PageHeaderHandler")}static get PaginationHandler(){return Zs.tryCatch((()=>tr.Instance),"PaginationHandler")}static get PerformanceBarHandler(){return Zs.tryCatch((()=>nr.Instance),"PerformanceBarHandler")}static get QuoteTickerHandler(){return Zs.tryCatch((()=>Qi.Instance),"QuoteTickerHandler")}static get RatingHandler(){return Zs.tryCatch((()=>Tr.Instance),"RatingHandler")}static get RealtimePushHandler(){return Zs.tryCatch((()=>sr.Instance),"RealtimePushHandler")}static get SidePanelHandler(){return Zs.tryCatch((()=>ar.Instance),"SidePanelHandler")}static get SnapshotHandler(){return Zs.tryCatch((()=>Gs.Instance),"SnapshotHandler")}static get SuggestSearchHandler(){return Zs.tryCatch((()=>Xs.Instance),"SuggestSearchHandler")}static get TabHandler(){return Zs.tryCatch((()=>Er.Instance),"TabHandler")}static get TabRegionHandler(){return Zs.tryCatch((()=>Lr.Instance),"TabRegionHandler")}static get TooltipHandler(){return Zs.tryCatch((()=>Hs.Instance),"TooltipHandler")}static get Instance(){return Zs.instance||(Zs.instance=new Zs),Zs.instance}static addCallback(t){window.styleGuideCallbacks=window.styleGuideCallbacks??[],window.styleGuideCallbacks.push(t)}static tryCatch(t,e){const n=Ee.get("Logger");try{return t()}catch(t){return n.error(`An error occurred in component handler ${e} during instantiation`,t),null}}get isMobile(){return Pe()}get Color(){return Me}get Observer(){return t}get version(){return this.myVersion||(this.myVersion=Re?.version??"unknown"),this.myVersion}show(t){this.toggle(t,!0)}hide(t){this.toggle(t,!1)}toggle(t,e){"boolean"==typeof e?t.classList.toggle("display-none",!e):t.classList.toggle("display-none")}isShown(t){return!t.classList.contains("display-none")}notify(t,e){this.notificationHandler?.notify(t,e)}popup(t,e){this.notificationHandler?.popup(t,e)}static domReady(){window.Observer=window.Observer??t,window.styleGuideCallbacks=window.styleGuideCallbacks??[]}constructor(){this.logger=Ee.get("Logger"),this.delayManager=Ee.get("DelayManager"),this.colorScheme=Zs.ColorScheme,this.logger.debug("StyleGuide instantiated")}runAfterConstructor(){this.delayManager.timeout((()=>this.runCallbacksAfterSgIsLoaded()),5)}runCallbacksAfterSgIsLoaded(){const t=window.styleGuideCallbacks??[];if(!Array.isArray(t))return;t.forEach((t=>t()));const e={get:(t,e)=>t[e],set:(t,e,n,i)=>{if("function"==typeof n)try{n()}catch(t){this.logger.warn(t)}return t[e]=n,!0}};window.styleGuideCallbacks=new Proxy([],e)}}class Js extends Zs{static get Instance(){return Js.instance||(Js.instance=new Js),Js.instance}static domReady(){super.domReady(),window.styleGuide=window.styleGuide??Js.Instance}constructor(){super(),this.name="DeStyleGuide",this.accordionHandler=Zs.AccordionHandler,this.backToTopHandler=Zs.BackToTopHandler,this.copyHandler=Zs.CopyHandler,this.datepickerHandler=Zs.DatepickerHandler,this.debugModeHandler=Zs.DebugModeHandler,this.detailsNavigationHandler=Zs.DetailsNavigationHandler,this.dropdownHandler=Zs.DropdownHandler,this.floatingLabelHandler=Zs.FloatingLabelHandler,this.formControlHandler=Zs.FormGroupHandler,this.selectExtendedHandler=Zs.SelectExtendedHandler,this.inputHandler=Zs.InputHandler,this.listingHandler=Zs.ListingHandler,this.menuHandler=Zs.MenuHandler,this.messageHandler=Zs.MessageHandler,this.multiDotBarHandler=Zs.MultiDotBarHandler,this.notificationHandler=Zs.NotificationHandler,this.quoteTickerHandler=Zs.QuoteTickerHandler,this.pageHeaderHandler=Zs.PageHeaderHandler,this.paginationHandler=Zs.PaginationHandler,this.performanceBarHandler=Zs.PerformanceBarHandler,this.realtimePushHandler=Zs.RealtimePushHandler,this.sidePanelHandler=Zs.SidePanelHandler,this.carouselHandler=Zs.CarouselHandler,this.snapshotHandler=Zs.SnapshotHandler,this.ratingHandler=Zs.RatingHandler,this.suggestSearchHandler=Zs.SuggestSearchHandler,this.tabHandler=Zs.TabHandler,this.tabRegionHandler=Zs.TabRegionHandler,this.tooltipHandler=Zs.TooltipHandler,this.runAfterConstructor()}}Ee.get("DomHelper").onDomReady((()=>{Js.domReady()}))})(),i})(),t.exports=e()},1586:function(t,e,n){var i,r;!function(){"use strict";var s,o={};o.VERSION="1.6.1";var a={},l=function(t,e){return function(){return e.apply(t,arguments)}},c=function(){var t,e,n=arguments,i=n[0];for(e=1;e<n.length;e++)for(t in n[e])!(t in i)&&n[e].hasOwnProperty(t)&&(i[t]=n[e][t]);return i},u=function(t,e){return{value:t,name:e}};o.TRACE=u(1,"TRACE"),o.DEBUG=u(2,"DEBUG"),o.INFO=u(3,"INFO"),o.TIME=u(4,"TIME"),o.WARN=u(5,"WARN"),o.ERROR=u(8,"ERROR"),o.OFF=u(99,"OFF");var d=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};d.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,e){s&&this.enabledFor(t)&&s(e,c({level:t},this.context))}};var h,g=new d({filterLevel:o.OFF});(h=o).enabledFor=l(g,g.enabledFor),h.trace=l(g,g.trace),h.debug=l(g,g.debug),h.time=l(g,g.time),h.timeEnd=l(g,g.timeEnd),h.info=l(g,g.info),h.warn=l(g,g.warn),h.error=l(g,g.error),h.log=h.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var e in g.setLevel(t),a)a.hasOwnProperty(e)&&a[e].setLevel(t)},o.getLevel=function(){return g.getLevel()},o.get=function(t){return a[t]||(a[t]=new d(c({name:t},g.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,e){e.name&&t.unshift("["+e.name+"]")};var e={},n=function(t,e){Function.prototype.apply.call(t,console,e)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var s,a=console.log;r.level===o.TIME?(s=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(s):e[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):n(a,[s+": "+((new Date).getTime()-e[s])+"ms"])):(r.level===o.WARN&&console.warn?a=console.warn:r.level===o.ERROR&&console.error?a=console.error:r.level===o.INFO&&console.info?a=console.info:r.level===o.DEBUG&&console.debug?a=console.debug:r.level===o.TRACE&&console.trace&&(a=console.trace),t.formatter(i,r),n(a,i))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}()},3405:(t,e,n)=>{"use strict";function i(t,e,n){var i,r,s;void 0===e&&(e=50),void 0===n&&(n={});var o=null!=(i=n.isImmediate)&&i,a=null!=(r=n.callback)&&r,l=n.maxWait,c=Date.now(),u=[];function d(){if(void 0!==l){var t=Date.now()-c;if(t+e>=l)return l-t}return e}var h=function(){var e=[].slice.call(arguments),n=this;return new Promise((function(i,r){var l=o&&void 0===s;if(void 0!==s&&clearTimeout(s),s=setTimeout((function(){if(s=void 0,c=Date.now(),!o){var i=t.apply(n,e);a&&a(i),u.forEach((function(t){return(0,t.resolve)(i)})),u=[]}}),d()),l){var h=t.apply(n,e);return a&&a(h),i(h)}u.push({resolve:i,reject:r})}))};return h.cancel=function(t){void 0!==s&&clearTimeout(s),u.forEach((function(e){return(0,e.reject)(t)})),u=[]},h}n.r(e),n.d(e,{debounce:()=>i})},8832:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdHeaderTopAsOverlay=void 0;const i=n(4807),r=n(5183),s=n(4706),o=n(6514),a=n(9875);class l{constructor(){this.adHeaderTopClass="page-layout__ad-header-top",this.adHeaderTopShowAsOverlayModifier="page-layout__ad-header-top--show-as-overlay",this.adHeaderModifier="ad-header-top-overlay",this.adHeaderFadeModifier="ad-header-top-overlay--fade",this.timeToShowAdOverlay=1500,this.adHeaderTop=document.querySelector(`.${this.adHeaderTopClass}`)}start(){var t,e;const n=!(null!==(e=null===(t=window.styleGuide)||void 0===t?void 0:t.isMobile)&&void 0!==e&&e),s=!this.isActivated;n||s||i.AppnexusAd.Instance.callWhenLoaded(r.APPNEXUS_AD_ID.banner,(()=>this.showOverlay()))}async showOverlay(){if(this.adHeaderTopIsInViewport)return;const{adHeaderModifier:t,adHeaderFadeModifier:e,timeToShowAdOverlay:n}=this;this.adHeaderTop.classList.add(t),await(0,a.wait)(5),this.adHeaderTop.classList.add(e),await(0,a.wait)(n),this.adHeaderTop.classList.remove(e),await(0,a.wait)(5),this.adHeaderTop.classList.remove(t)}get adHeaderTopIsInViewport(){return!!this.adHeaderTop&&(0,o.isElementInViewport)(this.adHeaderTop)}get isActivated(){var t;return null===(t=this.adHeaderTop)||void 0===t?void 0:t.classList.contains(this.adHeaderTopShowAsOverlayModifier)}}e.AdHeaderTopAsOverlay=l,(0,s.domReady)((()=>{window.adHeaderTopAsOverlay=new l,window.adHeaderTopAsOverlay.start()}))},7356:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(8205);(0,n(4706).domReady)((()=>{window.adVideoPlayer=new i.AdVideoPlayer(window),window.adVideoPlayer.initialize()}))},4807:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AppnexusAd=void 0;const i=n(5183),r=n(9875);class s{static get Instance(){return window.appnexusAdInstance||(window.appnexusAdInstance=new s),window.appnexusAdInstance}constructor(){this._listenerIsStarted=!1,this.adSlotListener=null,this._adSlots=[],this._callbacks=new Map}callWhenLoaded(t,e){this.isLoaded(t)?e(this.getAdSlot(t)):this.addCallback(t,e)}simulate(){const t={detail:{id:i.APPNEXUS_AD_ID.banner,hasAd:!0,hasMarker:!0,placementSize:"728x90",crea1:{height:"90",width:"728"}}};window.dispatchEvent(new CustomEvent("adInfo",t))}startListener(){if(this._listenerIsStarted)return;this.adSlotListener=async t=>{this.storeAdSlot(t),await(0,r.wait)(1e3),this.callCallbacks(t)},window.addEventListener("adInfo",this.adSlotListener,!0),this._listenerIsStarted=!0}stopListener(){this._listenerIsStarted&&(window.removeEventListener("adInfo",this.adSlotListener,!0),this._listenerIsStarted=null)}storeAdSlot(t){this._adSlots.push(t)}getAdSlot(t){return this._adSlots.find((e=>this.getAdId(e)===t))}getAdId(t){var e,n;return null!==(n=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.id)&&void 0!==n?n:""}isLoaded(t){var e,n;return null!==(n=null===(e=this.getAdSlot(t))||void 0===e?void 0:e.detail.hasAd)&&void 0!==n&&n}addCallback(t,e){this._callbacks.has(t)||this._callbacks.set(t,[]),this._callbacks.get(t).push(e)}callCallbacks(t){if(!t)return;const e=this.getAdId(t),n=this._callbacks.get(e);n&&n.forEach((e=>e(t)))}}e.AppnexusAd=s,s.Instance.startListener()},5183:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.APPNEXUS_AD_ID=void 0,e.APPNEXUS_AD_ID={banner:"banner",footer:"footer",inpage:"inpage",m_mrec:"m_mrec",m_mrec_no_hpa:"m_mrec_no_hpa",m_mrec_btf:"m_mrec_btf",m_mrec_btf_2:"m_mrec_btf_2",mrec:"mrec",mrec_btf:"mrec_btf",mrec_btf_2:"mrec_btf_2",mrec_btf_3:"mrec_btf_3",mrec_btf_4:"mrec_btf_4",mrec_btf_5:"mrec_btf_5",mrec_btf_6:"mrec_btf_6",mrec_btf_7:"mrec_btf_7",mrec_btf_8:"mrec_btf_8",mrec_btf_9:"mrec_btf_9",mrec_btf_10:"mrec_btf_10",mrec_btf_11:"mrec_btf_11",mrec_btf_12:"mrec_btf_12",mrec_btf_13:"mrec_btf_13",mrec_btf_14:"mrec_btf_14",mrec_btf_15:"mrec_btf_15",sky:"sky",sky_left:"sky_left",billboard:"billboard",billboard_btf:"billboard_btf",billboard_btf_2:"billboard_btf_2",billboard_btf_3:"billboard_btf_3",billboard_btf_4:"billboard_btf_4",billboard_btf_5:"billboard_btf_5",billboard_btf_6:"billboard_btf_6",billboard_btf_7:"billboard_btf_7",billboard_btf_8:"billboard_btf_8",billboard_btf_9:"billboard_btf_9",billboard_btf_10:"billboard_btf_10",billboard_btf_11:"billboard_btf_11",billboard_btf_12:"billboard_btf_12",d_mrec:"d_mrec",d_mrec_btf:"d_mrec_btf",d_mrec_btf_2:"d_mrec_btf_2",d_mrec_btf_3:"d_mrec_btf_3",d_mrec_no_hpa:"d_mrec_no_hpa",d_incontent1:"d_incontent1",d_incontent2:"d_incontent2",d_incontent3:"d_incontent3",d_incontent4:"d_incontent4",d_middle1:"d_middle1",d_middle2:"d_middle2",d_middle3:"d_middle3",d_middle4:"d_middle4",superbanner:"superbanner"}},4510:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BadgeTooltip=void 0;const i=n(4706);class r{constructor(){this.badgeTooltips=Array.from(document.querySelectorAll("[data-badge-tooltip]")),this.badgeTooltips.length>0&&this.init()}get styleGuide(){var t;return null!==(t=window.styleGuide)&&void 0!==t?t:null}init(){this.badgeTooltips.forEach((t=>{var e,n;const i=null!==(e=t.getAttribute("data-sg-tooltip-id"))&&void 0!==e?e:"",r=document.querySelector(`[data-sg-tooltip-ref="${i}"]`),s=null!==(n=t.getAttribute("data-badge-copy"))&&void 0!==n?n:"";null==r||r.addEventListener("click",(e=>{try{navigator.clipboard.writeText(s)}catch(t){this.error()}this.hideAllTooltips(),this.showTooltip(t),e.stopPropagation()}))}))}showTooltip(t){var e,n;null===(n=null===(e=this.styleGuide)||void 0===e?void 0:e.tooltipHandler)||void 0===n||n.show(t)}hideAllTooltips(){var t,e;null===(e=null===(t=this.styleGuide)||void 0===t?void 0:t.tooltipHandler)||void 0===e||e.hideAll()}copyIsPossible(){return window.isSecureContext&&void 0!==navigator.clipboard}error(){console.warn("Clipboard API is not available in this environment. Badge tooltips will not work.")}}e.BadgeTooltip=r,(0,i.domReady)((()=>{window.badgeTooltip=new r}))},7301:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});(0,n(4706).domReady)((()=>{const{Observer:t,carouselHandler:e}=window.styleGuide,n=window.styleGuideCallbacks||[];class i extends t{update(){window.setIVWPixel("carousel")}}n.push((()=>{e.addObserver(new i)}))}))},883:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});(0,n(4706).domReady)((()=>{new MutationObserver((t=>{t.forEach((({attributeName:t,target:e})=>{"dialog"===e.nodeName.toLowerCase()&&"open"===t&&e.open&&window.setIVWPixel("dialog")}))})).observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["open"]})}))},9785:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleOneTap=void 0;const i=n(4706),r=n(1522),s=n(2744);class o{constructor(){var t;this.scriptLoaded=!1,this.containerName="googleonetap-container",this.attributeName="data-oneTapClientId",this.googleScript="https://accounts.google.com/gsi/client";const e=document.getElementById(this.containerName);this.clientId=null!==(t=null==e?void 0:e.getAttribute(this.attributeName))&&void 0!==t?t:null}get google(){var t;return null!==(t=window.google)&&void 0!==t?t:{accounts:{}}}async init(){this.clientId&&!this.isUserLoggedIn()&&(await this.loadScript(this.googleScript),this.googleAccountInit(),this.showOneTapPopUp())}isUserLoggedIn(){var t,e;return(null!==(e=null===(t=window.objCookie)||void 0===t?void 0:t.Benutzername)&&void 0!==e?e:"").trim().length>0}googleAccountInit(){this.google.accounts.id.initialize({client_id:this.clientId,cancel_on_tap_outside:!1,callback:this.handleCredentialResponse,itp_support:!0,prompt_parent_id:this.containerName})}showOneTapPopUp(){this.google.accounts.id.prompt((t=>{t.isNotDisplayed()?r.Logger.info(t.getNotDisplayedReason()):t.isSkippedMoment()?r.Logger.info(t.getSkippedReason()):t.isDismissedMoment()&&r.Logger.info(t.getDismissedReason())}))}handleCredentialResponse(t){if(!t.credential)return void r.Logger.warn("Credential validation failed: credential missing");const e=new URLSearchParams(window.location.search),n=e.get("priceId")||"",i=e.get("returnPath")||"";window.location.replace(`/Ajax/GoogleOneTapRequest?token=${t.credential}&priceId=${n}&returnPath=${i}`)}async loadScript(t){this.scriptLoaded||(this.scriptLoaded=await(0,s.loadScript)(t),this.scriptLoaded||r.Logger.warn("Error while loading One Tap script"))}}e.GoogleOneTap=o,(0,i.domReady)((()=>{(new o).init()}))},3215:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(2742),n(1971),n(7301),n(883),n(9785),n(8832),n(4510),n(7356),n(5164),n(6529)},5164:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PageFooter=void 0;const i=n(4706);class r{static setProStyle(){const t=new r;t.isProTheme&&t.addProStyle()}constructor(){this.finanzenNet=window.finanzenNetUser}get isProTheme(){var t,e;return null!==(e=null===(t=this.finanzenNet)||void 0===t?void 0:t.hasAppTheme("pro"))&&void 0!==e&&e}addProStyle(){var t;null===(t=document.querySelector("page-footer"))||void 0===t||t.classList.add("page-footer--pro")}}e.PageFooter=r,(0,i.domReady)((()=>r.setProStyle()))},6529:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Philoro=void 0;const i=n(4706);class r{constructor(){if(this.img=document.querySelector('img[src*="philoro-navi-banner-A.webp"]'),console.log("before if ",this.img),!this.img)return;let t="";const e="https://images.finanzen.net/images/b_rohstoffe/philoro/philoro-navi-banner-A.webp",n=this.getRandomBoolean()?e:"https://images.finanzen.net/images/b_rohstoffe/philoro/philoro-navi-banner-B.webp";t=n==e?"https://g.finanzen.net/001-philoro-web-navigation-banner-logo-a":"https://g.finanzen.net/001-philoro-web-navigation-banner-logo-b",this.img.src=n;const i=this.img.closest("a");i&&(i.href=t)}getRandomBoolean(){return Math.random()>=.5}}e.Philoro=r,(0,i.domReady)((()=>{new r}))},2742:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(4706),r=n(4512);(0,i.domReady)((()=>{window.finanzenNet=window.finanzenNet||{},window.finanzenNet.suggestSearch=r.SuggestSearch.init()}))},6137:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataToHtmlParser=void 0;const i=n(2251),r=n(2730),s=n(385),o=n(1060),a=n(2655),l=n(794);e.DataToHtmlParser=class{constructor(t,e){this.elasticSearchLinkTemplate=t,this.depotLinkTemplate=e}parse(t,e){return this.createResultGroup(t,e)}createResultGroup(t,e){return e.map((e=>{const n=document.createElement("DIV");n.classList.add(s.SuggestSearchClasses.resultGroup);const i=document.createElement("DIV");i.classList.add(s.SuggestSearchClasses.headline),i.textContent=e.name,n.append(i);const r=e.items.map((e=>this.transformToHtml(t,e)));return n.append(...r),n}))}transformToHtml(t,e){return e.isAd?this.createAd(e):this.createResult(t,e)}createResult(t,e){var n,i;const r=this.isIdentifierShown(e),a=this.isFavoriteShown(e),l=document.createElement("span");l.classList.add(s.SuggestSearchClasses.result),l.classList.toggle(o.SuggestSearchModifier.noIdentifier,!r),l.classList.toggle(o.SuggestSearchModifier.noFavorite,!a),l.setAttribute("data-url",e.url),l.setAttribute("data-wkn",null!==(n=e.wkn)&&void 0!==n?n:""),l.setAttribute("data-isin",null!==(i=e.isin)&&void 0!==i?i:""),this.addClickCountEvent(l,t,e);const c=document.createElement("a");c.classList.add(s.SuggestSearchClasses.resultLink),c.setAttribute("href",e.url),l.append(c);const u=document.createElement("span");if(u.classList.add(s.SuggestSearchClasses.resultDescription),u.textContent=e.name,c.append(u),r){const t=this.createIdentifier(e);c.append(t)}if(a){const t=this.createFavorite(e);l.append(t)}return l}createIdentifier(t){var e;const n=document.createElement("span");return n.classList.add(s.SuggestSearchClasses.resultIdentifier),n.textContent=null!==(e=t.wkn)&&void 0!==e?e:"",n}createFavorite(t){const e=document.createElement("a");e.classList.add(s.SuggestSearchClasses.resultFavorite),e.setAttribute("href",this.getDepotLink(t)),e.setAttribute("title",this.getFavoriteTitle(t));const n=document.createElement("span");return n.classList.add("icon","icon--depot-add","icon--scale-1500"),e.append(n),e}isIdentifierShown(t){return!!t.wkn}isFavoriteShown(t){const e=!!this.getDepotLinkType(t),n=!!t.isin;return e&&n}getFavoriteTitle(t){return a.Localization.get("add-instrument-to-watchlist").replace("{INSTRUMENT}",t.name)}createAd(t){const e=this.getAdLink(t),n=document.createElement("a");n.classList.add(s.SuggestSearchClasses.result),n.classList.add(o.SuggestSearchModifier.resultAd),n.classList.add("background-color-info"),n.classList.add("padding-0.50"),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.setAttribute("rel","nofollow noopener");const i=document.createElement("span");return i.innerHTML=t.html,n.append(i),n}getAdLink(t){return(0,l.replaceAll)(t.url,'"',"")}addClickCountEvent(t,e,n){t.addEventListener("click",(()=>this.callElasticSearchClickCount(e,n)))}getDepotLink(t){var e;const n=this.getDepotLinkType(t);if(!n)return"";let r=this.depotLinkTemplate.replace("{ISIN}",null!==(e=t.isin)&&void 0!==e?e:"").replace("{DEPOT_LINK_TYPE}",n);return r=(0,i.replaceHostname)(r),r}getDepotLinkType(t){const e=t.type;return e?r.resultTypeToDepotLinkType[e]:void 0}async callElasticSearchClickCount(t,e){if(!this.elasticSearchLinkTemplate)return;if(!t)return;if(!e.clickCountId)return;let n=this.elasticSearchLinkTemplate;n=n.replace("{CLICK_COUNT_ID}",e.clickCountId).replace("{QUERY}",encodeURIComponent(t)),n=(0,i.replaceHostname)(n),await fetch(n)}}},5029:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DepotLinkType=void 0,function(t){t.share="1",t.fond="2",t.certificate="3",t.etfAndEtc="6",t.bond="7"}(n||(e.DepotLinkType=n={}))},2251:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceHostname=void 0;const n=["4g-web-staging.finanzen.net","finanzench-staging.azurewebsites.net","www.finanzen.net",,"localhost"];e.replaceHostname=t=>{const e=t.replace("{HOSTNAME}",""),i=t.replace("{HOSTNAME}","https://www.finanzen.net");return n.includes(window.location.hostname)?e:i}},2730:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resultTypeToDepotLinkType=void 0;const i=n(5029),r=n(705);e.resultTypeToDepotLinkType={[r.SuggestSearchResultType.share]:i.DepotLinkType.share,[r.SuggestSearchResultType.fond]:i.DepotLinkType.fond,[r.SuggestSearchResultType.certificate]:i.DepotLinkType.certificate,[r.SuggestSearchResultType.etf]:i.DepotLinkType.etfAndEtc,[r.SuggestSearchResultType.etc]:i.DepotLinkType.etfAndEtc,[r.SuggestSearchResultType.bond]:i.DepotLinkType.bond}},385:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestSearchClasses=void 0,function(t){t.results=".suggest-search__results",t.resultGroup="suggest-search__result-group",t.result="suggest-search__result",t.headline="suggest-search__headline",t.resultLink="suggest-search__result-link",t.resultDescription="suggest-search__result-description",t.resultIdentifier="suggest-search__result-identifier",t.resultFavorite="suggest-search__result-favorite"}(n||(e.SuggestSearchClasses=n={}))},6971:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestSearchDisplay=void 0;const i=n(2655),r=n(385),s=n(6137);e.SuggestSearchDisplay=class{constructor(t){this.resultContainer=t,this.resultHasEntries=!1,this.resultGroupList=[],this.depotLinkTemplate="{HOSTNAME}/depot/watchlist.asp?isisin={ISIN}&inTyp={DEPOT_LINK_TYPE}",this.elasticSearchLinkTemplate="{HOSTNAME}/suggest/clickcount/finde/add?id={CLICK_COUNT_ID}&query={QUERY}",this.dataToHtml=new s.DataToHtmlParser(this.elasticSearchLinkTemplate,this.depotLinkTemplate)}get resultsArePrinted(){return this.resultHasEntries}draw(t,e){return this.resultGroupList=this.dataToHtml.parse(t,e),0===this.resultGroupList.length?(this.resetResults(),!1):(this.resultContainer.replaceChildren(),this.resultGroupList.forEach((t=>this.resultContainer.append(t))),this.resultHasEntries=!0,!0)}reset({validationError:t=!1,noDataFound:e=!1}){this.resetResults();const n=document.createElement("DIV");n.classList.add(r.SuggestSearchClasses.resultGroup);let s=i.Localization.get("search-dot");s=e?i.Localization.get("suggest-search-no-data-found"):s,s=t?i.Localization.get("suggest-search-add-more-characters"):s;const o=document.createElement("DIV");o.classList.add(r.SuggestSearchClasses.headline),o.textContent=s,n.append(o),this.resultContainer.append(n)}resetResults(){this.resultContainer.replaceChildren(),this.resultHasEntries=!1}}},1060:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestSearchModifier=void 0,function(t){t.showResults="suggest-search--show-results",t.resultsLoading="suggest-search--results-loading",t.noIdentifier="suggest-search__result--no-identifier",t.noFavorite="suggest-search__result--no-favorite",t.resultAd="suggest-search__result--ad"}(n||(e.SuggestSearchModifier=n={}))},705:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestSearchResultType=void 0,function(t){t.index="Indizes",t.commodity="Rohstoffe",t.exchangeRate="Devisen",t.share="Aktien",t.fond="Fonds",t.certificate="Zertifikate",t.etf="ETFs",t.etc="ETCs",t.bond="Anleihen",t.interestRate="Zinsen",t.ad="Anzeige"}(n||(e.SuggestSearchResultType=n={}))},4902:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlBuilderFactory=e.SuggestSearchUrlBuilder=void 0;const i=n(705),r=n(2251),s=n(794);class o{constructor(){this.urlTemplate="{HOSTNAME}/{PATH}"}get address(){return(0,r.replaceHostname)(this.urlTemplate)}set address(t){this.urlTemplate=t}}e.SuggestSearchUrlBuilder=o;e.UrlBuilderFactory=class{create(t){switch(t){case i.SuggestSearchResultType.index:return new a;case i.SuggestSearchResultType.commodity:return new l;case i.SuggestSearchResultType.exchangeRate:return new c;case i.SuggestSearchResultType.share:return new u;case i.SuggestSearchResultType.fond:return new d;case i.SuggestSearchResultType.certificate:return new h;case i.SuggestSearchResultType.etf:return new g;case i.SuggestSearchResultType.etc:return new p;case i.SuggestSearchResultType.bond:return new f;case i.SuggestSearchResultType.interestRate:return new m;case i.SuggestSearchResultType.ad:return new v;default:throw new Error("Unknown result type.")}}};class a extends o{build(t){const e=`index/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class l extends o{build(t){const e=`rohstoffe/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class c extends o{build(t){const e=`devisen/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class u extends o{build(t){const e=`aktien/${t}-aktie`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class d extends o{build(t){const e=`fonds/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class h extends o{build(t){const e=`zertifikate/${t.toLowerCase()}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class g extends o{build(t){const e=`etf/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class p extends o{build(t){const e=`etc/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class f extends o{build(t){const e=`anleihen/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class m extends o{build(t){const e=`zinsen/${t}`;return(0,s.replaceAll)(this.address,"{PATH}",e)}}class v extends o{build(t){var e;return null!==(e=null==t?void 0:t.toLowerCase())&&void 0!==e?e:""}}},4512:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestSearch=void 0;const i=n(385),r=n(1060),s=n(6971),o=n(7538),a=n(855),l=n(7017);class c{static init(){let t=null,e=null;const n="suggest-search-desktop",i=document.querySelector(`[data-sg-suggest-search="${n}"]`),r=document.querySelector(`[data-sg-suggest-search-input="${n}"]`);i&&r&&(t=new c(i,r,!1));const s="suggest-search-mobile",o=document.querySelector(`[data-sg-suggest-search="${s}"]`),a=document.querySelector(`[data-sg-suggest-search-input="${s}"]`);return o&&a&&(e=new c(o,a,!0)),{desktop:t,mobile:e}}toggleFakeData(){return this.dataHandler.useTestData=!this.dataHandler.useTestData,this.dataHandler.useTestData}constructor(t,e,n){var r;this.suggestSearch=t,this.input=e,this.isMobileSearch=n,this.ivwCountTriggered=!1,this.ivwCountPrepickTriggered=!1,this.pressedKeys=new a.PressedKeys,this.delayedSearch=(0,l.debounce)((()=>this.updateResult()),250);const c=null!==(r=window.suggestSearchUseClientSideUrlBuilder)&&void 0!==r&&r?"ClientSide":"ServerSide",u=this.suggestSearch.querySelector(i.SuggestSearchClasses.results);if(!u)throw new Error("No result container found.");this.display=new s.SuggestSearchDisplay(u),this.dataHandler=new o.SuggestServerApiEndpoint(25,c),this.addEvents(),this.display.reset({})}get query(){return this.input.value}addEvents(){this.input.addEventListener("keyup",(t=>this.handleKeyEvent(t))),this.input.addEventListener("paste",(()=>this.handlePasteEvent())),this.input.addEventListener("focus",(()=>this.ivwPopup())),this.pressedKeys.add((()=>this.focusInputOnAltF()))}handleKeyEvent(t){switch(t.key){case a.PressKey.enter:return this.openMarkedResultOrDefault(t);case a.PressKey.arrowDown:return this.markNextResult(),!0;case a.PressKey.arrowUp:return this.markPreviousResult(),!0;case a.PressKey.escape:return this.handleEscape(),!0;default:return this.delayedSearch(),!0}}handlePasteEvent(){return this.showResults(),this.delayedSearch(),!0}async updateResult(){const t=this.query;if(this.validate(t)){this.display.resultsArePrinted||this.display.reset({}),this.showLoading();try{let e=await this.dataHandler.getData(t);if(!Array.isArray(e)||0===e.length)throw new Error("No result found.");if(!this.display.draw(t,e))throw new Error("Error while draw result.")}catch(t){this.display.reset({noDataFound:!0})}finally{this.hideLoading(),this.ivwCountUp()}}else this.display.reset({validationError:!0})}focusInputOnAltF(){this.pressedKeys.isPressed([a.PressKey.alt,a.PressKey.f])&&this.focusInput()}focusInput(){var t,e;(null!==(e=null===(t=window.styleGuide)||void 0===t?void 0:t.isMobile)&&void 0!==e&&e)===this.isMobileSearch&&this.input.focus()}markNextResult(){var t;null===(t=window.styleGuide)||void 0===t||t.suggestSearchHandler.markNext(this.suggestSearch)}markPreviousResult(){var t;null===(t=window.styleGuide)||void 0===t||t.suggestSearchHandler.markPrevious(this.suggestSearch)}openMarkedResultOrDefault(t){var e,n;const i=null===(e=window.styleGuide)||void 0===e?void 0:e.suggestSearchHandler.getMarked(this.suggestSearch),r=null!==(n=null==i?void 0:i.getAttribute("data-url"))&&void 0!==n?n:"";return!r||(window.location.href=r,t.preventDefault(),!1)}handleEscape(){this.input.value="",this.display.reset({})}validate(t){return t.length>1}ivwCountUp(){window.ivw&&window.ivw.countUp&&!this.ivwCountTriggered&&(window.ivw.countUp("suchergebnis"),this.ivwCountTriggered=!0)}ivwPopup(){window.ivw&&window.ivw.countUp&&!this.ivwCountPrepickTriggered&&(window.ivw.countUp("suchergebnis"),this.ivwCountPrepickTriggered=!0)}showLoading(){this.suggestSearch.classList.add(r.SuggestSearchModifier.resultsLoading)}hideLoading(){this.suggestSearch.classList.remove(r.SuggestSearchModifier.resultsLoading)}showResults(){this.suggestSearch.classList.add(r.SuggestSearchModifier.showResults)}}e.SuggestSearch=c},7538:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestServerApiEndpoint=void 0;const r=n(705),s=n(4902),o=n(2251),a=n(794),l=n(9127),c=n(1522),u=i(n(6094));e.SuggestServerApiEndpoint=class{constructor(t,e){this.maxResult=t,this.useUrlBuilder=e,this.showTestData=!1,this.store=new Map,this.urlTemplate="{HOSTNAME}/suggest/finde/jsonv2?max_results={MAX_RESULTS}&Keywords_mode=APPROX&Keywords={QUERY}&query={QUERY}&bias=100",this.urlBuilderFactory=new s.UrlBuilderFactory}get address(){return(0,o.replaceHostname)(this.urlTemplate)}set address(t){this.urlTemplate=t}get useTestData(){return this.showTestData}set useTestData(t){this.showTestData=t}toggleClientSideUrlBuilder(){this.useUrlBuilder="ClientSide"===this.useUrlBuilder?"ServerSide":"ClientSide"}async getData(t){var e;if(this.useTestData)return this.getTestData();if(this.store.has(t))return null!==(e=this.store.get(t))&&void 0!==e?e:null;const n=await this.loadData(t);return n&&this.store.set(t,n),n}async loadData(t){try{let e=this.address;e=(0,a.replaceAll)(e,"{QUERY}",encodeURIComponent(t)),e=(0,a.replaceAll)(e,"{MAX_RESULTS}",this.maxResult.toString());const n=await fetch(e,{method:"GET"}),i=await n.json();return await this.parseResponse(i)}catch(t){return c.Logger.warn("Error while loading suggest search results.",t),null}}async parseResponse(t){const e="it",n="il",i=t.hasOwnProperty(e)&&Array.isArray(t[e]);if(!i)throw new Error("Result array not found.");let s=[];if(!i||0===t[e].length)return s;for(const i of t[e]){if(this.somePropIsMissing(i,["n",n]))continue;const t=this.getResultType(i.n);if(!t)continue;const e={name:i.n,items:[]};if(t===r.SuggestSearchResultType.ad)e.items=this.parseResultAd(t,i[n]);else e.items=this.parseResultItem(t,i[n]);0!==e.items.length&&s.push(e)}return s}parseResultItem(t,e){const n=["u","url"],i=[],r=this.urlBuilderFactory.create(t);for(const s of e){if(this.somePropIsMissing(s,["n",...n]))continue;const e=s.n,o=this.getUrl(s,r);if(!e||!o)continue;const a=s.identifiers,l={name:e,url:o,wkn:s.wkn,isin:s.isin,clickCountId:a,isAd:false,type:t};i.push(l)}return i}parseResultAd(t,e){const n=["u","url"],i=[],r=this.urlBuilderFactory.create(t);for(const s of e){if(this.somePropIsMissing(s,["n",...n]))continue;const e=s.n,o=this.getUrl(s,r);if(!e||!o)continue;const a={html:e,url:o,isAd:true,type:t};i.push(a)}return i}getResultType(t){return(0,l.stringToEnum)(r.SuggestSearchResultType,t)}getTestData(){return this.parseResponse(u.default)}getUrl(t,e){var n,i;let r="";if("ClientSide"===this.useUrlBuilder){const n="url";r=e.build(t[n])}else{r=null!==(i=null===(n=t["u"])||void 0===n?void 0:n.toLowerCase())&&void 0!==i?i:""}return r}somePropIsMissing(t,e){return e.some((e=>!t.hasOwnProperty(e)))}}},2655:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Localization=void 0;const r=i(n(154)),s=i(n(6898));var o;!function(t){t[t.de=0]="de",t[t.en=1]="en"}(o||(o={}));class a{static get(t){return a.Instance.getText(t)}static get Instance(){return a.instance||(a.instance=new a),a.instance}constructor(){return this.language=this.getLanguage(),this}getLanguage(){return document.documentElement.lang.includes("de")?o.de:o.en}get jsonLang(){return this.language===o.de?r.default:s.default}getText(t){return this.jsonLang[t]||t}}e.Localization=a},7017:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;var i=n(3405);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return i.debounce}})},4706:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domReady=void 0;class n{constructor(){this.callbacks=[],this.addEvent()}static get Instance(){return n.instance||(n.instance=new n),n.instance}add(t){this.callbacks.push(t)}addEvent(){document.addEventListener("DOMContentLoaded",(()=>this.callCallbacks()))}callCallbacks(){this.callbacks.forEach((t=>t()))}}e.domReady=(t,e=0)=>{const i=()=>{0===e?t():setTimeout((()=>{t()}),e)};"loading"!==document.readyState?i():n.Instance.add(i)}},6514:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isElementInViewport=void 0;e.isElementInViewport=t=>{const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.right<=(window.innerWidth||document.documentElement.clientWidth)&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}},2744:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadScript=void 0;e.loadScript=(t,e=!0,n={})=>(t=>{const e=document.querySelectorAll("script");return!!Array.from(e).find((e=>e.src===t))})(t)?Promise.resolve(!0):new Promise(((i,r)=>{const s=document.createElement("script");s.type="text/javascript",s.onload=()=>i(!0),s.onerror=()=>r(!1),s.async=e,s.src=t;for(const t in n){const e=n[t];s.setAttribute(t,e)}document.head.append(s)}))},1522:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;const r=i(n(1586));class s{constructor(){return this.logger=r.default,this.logger.useDefaults(),this.logger.setLevel(r.default.DEBUG),this}static get Instance(){return s.instance||(s.instance=new s),s.instance}static log(...t){s.Instance.logger.log(...t)}static info(...t){s.Instance.logger.info(...t)}static warn(...t){s.Instance.logger.warn(...t)}static error(...t){s.Instance.logger.error(...t)}static debug(...t){s.Instance.logger.debug(...t)}}e.Logger=s},855:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PressedKeys=e.PressKey=void 0;const i=n(1522);var r;!function(t){t.ctrl="Control",t.alt="Alt",t.shift="Shift",t.enter="Enter",t.escape="Escape",t.arrowDown="ArrowDown",t.arrowUp="ArrowUp",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.q="q",t.w="w",t.e="e",t.r="r",t.t="t",t.z="z",t.u="u",t.i="i",t.o="o",t.p="p",t.a="a",t.s="s",t.d="d",t.f="f",t.g="g",t.h="h",t.j="j",t.k="k",t.l="l",t.y="y",t.x="x",t.v="v",t.b="b",t.n="n",t.m="m"}(r||(e.PressKey=r={}));e.PressedKeys=class{constructor(){this.logger=i.Logger,this.callbacks=[],this.store=new Map,this.addListener(),this.logger.debug("PressedKeys initialized")}add(t){this.callbacks.push(t)}isPressed(t){return t.every((t=>this.store.has(t)))}addListener(){document.addEventListener("keydown",(t=>{const e=this.stringKeyToPressKey(t.key);e&&(this.store.set(e,!0),this.callCallbacks())})),document.addEventListener("keyup",(t=>{const e=this.stringKeyToPressKey(t.key);e&&this.store.delete(e)}))}callCallbacks(){this.callbacks.forEach((t=>t(this.store)))}stringKeyToPressKey(t){switch(t){case"Control":return r.ctrl;case"Alt":return r.alt;case"Shift":return r.shift;case"Enter":return r.enter;case"Escape":return r.escape;case"ArrowDown":return r.arrowDown;case"ArrowUp":return r.arrowUp;case"ArrowLeft":return r.arrowLeft;case"ArrowRight":return r.arrowRight;case"q":return r.q;case"w":return r.w;case"e":return r.e;case"r":return r.r;case"t":return r.t;case"z":return r.z;case"u":return r.u;case"i":return r.i;case"o":return r.o;case"p":return r.p;case"a":return r.a;case"s":return r.s;case"d":return r.d;case"f":return r.f;case"g":return r.g;case"h":return r.h;case"j":return r.j;case"k":return r.k;case"l":return r.l;case"y":return r.y;case"x":return r.x;case"v":return r.v;case"b":return r.b;case"n":return r.n;case"m":return r.m;default:return null}}}},794:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceAll=void 0;e.replaceAll=(t,e,n)=>t.replace(new RegExp((t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"g"),n)},9127:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringToEnum=void 0;e.stringToEnum=(t,e)=>{const n=Object.keys(t).filter((n=>t[n]===e)).map((e=>t[e]))[0];return null!=n?n:null}},9875:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wait=void 0;e.wait=(t=1e3)=>new Promise((e=>setTimeout(e,t)))},4303:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1338)},6094:t=>{"use strict";t.exports=JSON.parse('{"it":[{"n":"Aktien","il":[{"id":"58046","wkn":"A1CX3T","isin":"US88160R1014","n":"Tesla","u":"https://www.finanzen.net/aktien/tesla-aktie","f":null,"identifiers":"A1CX3T|US88160R1014|TSLA||TSLA","url":"tesla"},{"id":"55567","wkn":"A1C1LY","isin":"CA8816011081","n":"Tesla Exploration Ltd","u":"https://www.finanzen.net/aktien/tesla_exploration-aktie","f":null,"identifiers":"A1C1LY|CA8816011081|TXLZF||","url":"tesla_exploration"}]},{"n":"Zertifikate","il":[{"id":"161545731","wkn":"A3GQRH","isin":"IE00BKT6ZH01","n":"Leverage Shares -1x Tesla ETP Securities auf Tesla","u":"https://www.finanzen.net/zertifikate/auf-a1cx3t/a3gqrh","f":0,"identifiers":"A1CX3T|US88160R1014|A3GQRH|IE00BKT6ZH01|Tesla","url":"auf-A1CX3T/A3GQRH"}]},{"n":"ETCs","il":[{"id":"191999","wkn":"","isin":null,"n":"Leverage Shares 3x Tesla ETP Securities","u":"https://www.finanzen.net/etc/leverage-shares-3x-tesla-etp-securities-xs2297549128","f":null,"identifiers":"|XS2297549128","url":"leverage-shares-3x-tesla-etp-securities-xs2297549128"}]},{"n":"Anleihen","il":[{"id":"","wkn":"A19E6P","isin":"US88160RAD35","n":"Tesla-Anleihe: 2,375% bis 15.03.2022","u":"https://www.finanzen.net/anleihen/a19e6p-tesla-anleihe","f":null,"identifiers":"A19E6P|US88160RAD35|Tesla Inc.","url":"a19e6p-tesla-anleihe"}]}]}')},154:t=>{"use strict";t.exports=JSON.parse('{"suggest-search-no-data-found":"Keine Einträge gefunden.","search-dot":"Suche...","suggest-search-add-more-characters":"Suche... (min. 2 Zeichen)","add-instrument-to-watchlist":"{INSTRUMENT} zur Watchlist hinzufügen","login":"Login","logout":"Logout"}')},6898:t=>{"use strict";t.exports=JSON.parse('{"suggest-search-no-data-found":"No entries found.","search-dot":"Search...","suggest-search-add-more-characters":"Search... (min 2 characters)","add-instrument-to-watchlist":"Add {INSTRUMENT} to watchlist","login":"Login","logout":"Logout"}')}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{"use strict";n(4303),n(3215)})()})();